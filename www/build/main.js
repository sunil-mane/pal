webpackJsonp([0],{

/***/ 10:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_commons_storage_service__ = __webpack_require__(505);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_session_dto__ = __webpack_require__(506);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_account_dto__ = __webpack_require__(52);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SessionUtils = (function () {
    function SessionUtils(storageService) {
        this.storageService = storageService;
        this.contextKey = "SESSION_ROOT_CONTEXT";
        this.tutorialKey = "TUTORIAL_CONTEXT";
    }
    SessionUtils.prototype.getRootContext = function () {
        var contextObj = this.storageService.getObject(this.contextKey);
        if (!contextObj) {
            contextObj = new __WEBPACK_IMPORTED_MODULE_2__dto_session_dto__["a" /* SessionRootInfo */]();
        }
        return contextObj;
    };
    SessionUtils.prototype.saveRootContext = function (contextObj) {
        this.storageService.setObject(this.contextKey, contextObj);
    };
    SessionUtils.prototype.clearRootContext = function () {
        var contextObj = new __WEBPACK_IMPORTED_MODULE_2__dto_session_dto__["a" /* SessionRootInfo */]();
        this.saveRootContext(contextObj);
    };
    SessionUtils.prototype.getAccessToken = function () {
        var accessToken = null;
        var userProfile = this.getMemberInfo();
        if (userProfile && userProfile.accessToken) {
            accessToken = userProfile.accessToken;
        }
        return accessToken;
    };
    SessionUtils.prototype.isUserLoggedIn = function () {
        return (this.getAccessToken() != null);
    };
    SessionUtils.prototype.getMemberInfo = function () {
        var rootContext = this.getRootContext();
        var contextObj = rootContext.memberInfo;
        if (!contextObj) {
            contextObj = new __WEBPACK_IMPORTED_MODULE_3__dto_account_dto__["f" /* MemberInfo */]();
        }
        return contextObj;
    };
    SessionUtils.prototype.setTutorialFlag = function (value) {
        this.storageService.setObject(this.tutorialKey, value);
    };
    SessionUtils.prototype.getTutorialFlag = function () {
        return this.storageService.getObject(this.tutorialKey);
    };
    return SessionUtils;
}());
SessionUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_commons_storage_service__["a" /* StorageService */]])
], SessionUtils);

//# sourceMappingURL=session.utils.js.map

/***/ }),

/***/ 1075:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return RemoteNotificationInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RemoteNotificationAdditionalData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return RemoteNotificationPayload; });
/**
 * Created by sandip on 2/7/17.
 */
var RemoteNotificationInfo = (function () {
    function RemoteNotificationInfo() {
    }
    return RemoteNotificationInfo;
}());

var RemoteNotificationAdditionalData = (function () {
    function RemoteNotificationAdditionalData() {
    }
    return RemoteNotificationAdditionalData;
}());

var RemoteNotificationPayload = (function () {
    function RemoteNotificationPayload() {
    }
    return RemoteNotificationPayload;
}());

//# sourceMappingURL=remote-notification.dto.js.map

/***/ }),

/***/ 1076:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ConfigurationDetailsDTO */
/* unused harmony export ActiveTenantDetails */
/* unused harmony export TenantDetailsDTO */
/* unused harmony export EnvironmentDetailsDTO */
/* unused harmony export ApplicationDetailsDTO */
/* unused harmony export ServerDetailsDTO */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DefaultConfiguration; });
/**
 * Created by chandan on 2/27/17.
 */
/**
 * Configuration details object which has all the information
 */
var ConfigurationDetailsDTO = (function () {
    function ConfigurationDetailsDTO() {
    }
    return ConfigurationDetailsDTO;
}());

var ActiveTenantDetails = (function () {
    function ActiveTenantDetails() {
    }
    return ActiveTenantDetails;
}());

var TenantDetailsDTO = (function () {
    function TenantDetailsDTO() {
    }
    return TenantDetailsDTO;
}());

var EnvironmentDetailsDTO = (function () {
    function EnvironmentDetailsDTO() {
    }
    return EnvironmentDetailsDTO;
}());

var ApplicationDetailsDTO = (function () {
    function ApplicationDetailsDTO() {
    }
    return ApplicationDetailsDTO;
}());

var ServerDetailsDTO = (function () {
    function ServerDetailsDTO() {
    }
    return ServerDetailsDTO;
}());

/* classes for resrource mapping */
var DefaultConfiguration = (function () {
    function DefaultConfiguration() {
    }
    return DefaultConfiguration;
}());

//# sourceMappingURL=configuration.dto.js.map

/***/ }),

/***/ 1077:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ForceUpdateDTO; });
var ForceUpdateDTO = (function () {
    function ForceUpdateDTO() {
    }
    return ForceUpdateDTO;
}());

//# sourceMappingURL=force.update.dto.js.map

/***/ }),

/***/ 1078:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GeocodeResponse; });
/* unused harmony export GeocodeInfo */
/* unused harmony export GeocodeGeometryInfo */
/* unused harmony export GeocodeLocationInfo */
/* unused harmony export GeocodeAddressComponent */
/**
 * Created by sandip on 1/15/17.
 */
var GeocodeResponse = (function () {
    function GeocodeResponse() {
    }
    return GeocodeResponse;
}());

var GeocodeInfo = (function () {
    function GeocodeInfo() {
    }
    return GeocodeInfo;
}());

var GeocodeGeometryInfo = (function () {
    function GeocodeGeometryInfo() {
    }
    return GeocodeGeometryInfo;
}());

var GeocodeLocationInfo = (function () {
    function GeocodeLocationInfo() {
    }
    return GeocodeLocationInfo;
}());

var GeocodeAddressComponent = (function () {
    function GeocodeAddressComponent() {
    }
    return GeocodeAddressComponent;
}());

//# sourceMappingURL=geocode.dto.js.map

/***/ }),

/***/ 1081:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return RegisterDeviceRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return RegisterDeviceResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterDeviceInfo; });
var RegisterDeviceRequest = (function () {
    function RegisterDeviceRequest() {
    }
    return RegisterDeviceRequest;
}());

var RegisterDeviceResponse = (function () {
    function RegisterDeviceResponse() {
    }
    return RegisterDeviceResponse;
}());

var RegisterDeviceInfo = (function () {
    function RegisterDeviceInfo() {
    }
    return RegisterDeviceInfo;
}());

//# sourceMappingURL=device.dto.js.map

/***/ }),

/***/ 1082:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocationNotificationResponse; });
/* unused harmony export LocationNotificationInfo */
var LocationNotificationResponse = (function () {
    function LocationNotificationResponse() {
    }
    return LocationNotificationResponse;
}());

var LocationNotificationInfo = (function () {
    function LocationNotificationInfo() {
    }
    return LocationNotificationInfo;
}());

//# sourceMappingURL=location-notification.dto.js.map

/***/ }),

/***/ 1083:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return mEngageApp; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_native__ = __webpack_require__(98);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_tabs_tabs__ = __webpack_require__(312);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_profile_profile__ = __webpack_require__(660);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_terms_terms__ = __webpack_require__(314);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pages_settings_settings__ = __webpack_require__(663);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pages_login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pages_widgets_offline_popup_offline_popup__ = __webpack_require__(664);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__utils_commons_user_utils__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__utils_commons_menu_utils__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__utils_commons_device_utils__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__utils_commons_sync_data_utils__ = __webpack_require__(146);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__utils_commons_location_notification_utils__ = __webpack_require__(310);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__utils_commons_target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__utils_commons_transaction_utils__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__utils_commons_wallet_utils__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__services_commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__utils_commons_configuration_utils__ = __webpack_require__(526);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__pages_enrollment_enrollment__ = __webpack_require__(313);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__pages_tutorial_tutorial__ = __webpack_require__(665);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__pages_forceUpdate_forceUpdate__ = __webpack_require__(666);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



































var mEngageApp = (function () {
    function mEngageApp(events, menu, platform, sessionUtils, userUtils, clientUtils, configUtils, deviceUtils, menuUtils, locationNotificationUtils, googleAnalyticsUtils, syncDataUtils, targetUtils, offerUtils, partnerUtils, transactionUtils, walletUtils, appConstants, serviceConstants, networkService, render, translate, mcfLoadService, modalCtrl, customHttpService, configurationUtils, globalizationUtils) {
        this.events = events;
        this.menu = menu;
        this.platform = platform;
        this.sessionUtils = sessionUtils;
        this.userUtils = userUtils;
        this.clientUtils = clientUtils;
        this.configUtils = configUtils;
        this.deviceUtils = deviceUtils;
        this.menuUtils = menuUtils;
        this.locationNotificationUtils = locationNotificationUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.syncDataUtils = syncDataUtils;
        this.targetUtils = targetUtils;
        this.offerUtils = offerUtils;
        this.partnerUtils = partnerUtils;
        this.transactionUtils = transactionUtils;
        this.walletUtils = walletUtils;
        this.appConstants = appConstants;
        this.serviceConstants = serviceConstants;
        this.networkService = networkService;
        this.render = render;
        this.translate = translate;
        this.mcfLoadService = mcfLoadService;
        this.modalCtrl = modalCtrl;
        this.customHttpService = customHttpService;
        this.configurationUtils = configurationUtils;
        this.globalizationUtils = globalizationUtils;
        this.appMenus = [];
        this.menuList = [];
        this.memberInfo = null;
        this.lastSyncDate = null;
        this.shouldHideAvatar = false;
        this.backgroundImageURL = '';
    }
    mEngageApp.prototype.ngOnInit = function () {
        var _this = this;
        this.memberInfo = this.sessionUtils.isUserLoggedIn() ? this.sessionUtils.getMemberInfo() : null;
        this.events.subscribe(this.appConstants.EVENT_LOGIN_STATUS_CHANGED, function () {
            _this.memberInfo = _this.sessionUtils.isUserLoggedIn() ? _this.sessionUtils.getMemberInfo() : null;
            _this.updateMenuList();
            _this.deviceUtils.registerDeviceToken(null, null);
            _this.menuUtils.fetchMenusIfRequired();
            _this.configUtils.fetchAppConfigIfRequired();
            _this.googleAnalyticsUtils.setUserId((_this.memberInfo && _this.memberInfo.personId)
                ? _this.memberInfo.personId.toString() : null);
        });
        this.events.subscribe(this.appConstants.EVENT_USER_PROFILE_CHANGED, function () {
            _this.memberInfo = _this.sessionUtils.getMemberInfo();
            _this.googleAnalyticsUtils.setUserId((_this.memberInfo && _this.memberInfo.personId)
                ? _this.memberInfo.personId.toString() : null);
        });
        this.events.subscribe(this.appConstants.EVENT_MENU_INFO_CHANGED, function () {
            _this.appMenus = _this.menuUtils.getMenuContext();
            _this.updateMenuList();
        });
        this.events.subscribe(this.appConstants.EVENT_NETWORK_STATUS_CONNECTED, function () {
            _this.showHideNetwork(false);
        });
        this.events.subscribe(this.appConstants.EVENT_NETWORK_STATUS_DISCONNECTED, function () {
            _this.lastSyncDate = _this.clientUtils.getFormattedDate('yMMMd', _this.syncDataUtils.getLastSyncDate());
            _this.showHideNetwork(true);
        });
        this.events.subscribe(this.appConstants.EVENT_APP_LANGUAGE_CHANGED, function () {
            _this.menuUtils.cleaTermsConditionsContext();
            _this.locationNotificationUtils.fetchLocationNotifications(null, null);
        });
        this.events.subscribe(this.appConstants.EVENT_APP_DATA_SYNC_REQUEST, function (syncCode) {
            if (_this.clientUtils.isNullOrEmpty(syncCode)) {
                _this.syncDataUtils.fireSyncRequests();
            }
            else {
                _this.syncDataUtils.processSyncCode(syncCode);
            }
        });
        this.events.subscribe(this.appConstants.EVENT_USER_SESSION_EXPIRED, function () {
            if (_this.sessionUtils.isUserLoggedIn()) {
                _this.logoutUser();
                // this.nav.goToRoot({animate: false, keyboardClose: true});
                _this.nav.push(__WEBPACK_IMPORTED_MODULE_3__pages_tabs_tabs__["a" /* TabsPage */]);
                _this.openLoginPage();
            }
        });
        this.events.subscribe(this.appConstants.EVENT_OPEN_ENROLLMENT_PAGE, function () {
            _this.nav.push(__WEBPACK_IMPORTED_MODULE_32__pages_enrollment_enrollment__["a" /* EnrollmentPage */]);
        });
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
        });
        this.events.subscribe(this.appConstants.EVENT_APP_RESUMES, function () {
            _this.syncDataUtils.fireProfileRequests();
        });
        this.platform.ready().then(function () {
            _this.platform.registerBackButtonAction(function () {
                return false;
            });
            __WEBPACK_IMPORTED_MODULE_2_ionic_native__["d" /* StatusBar */].styleLightContent();
            __WEBPACK_IMPORTED_MODULE_2_ionic_native__["b" /* Keyboard */].hideKeyboardAccessoryBar(false);
            _this.fetchConfiguration();
            // this.nav.push(TutorialPage);
        });
    };
    mEngageApp.prototype.fetchConfiguration = function () {
        var _this = this;
        var strURL = 'assets/resources/app.config.json';
        this.customHttpService.fetchLocalData(strURL).subscribe(function (result) {
            var configurationDTO = result;
            _this.configurationUtils.fetchConfigurationDetails(configurationDTO);
        }, function (err) {
        }, function () {
            // this.rootPage = TabsPage;
            if (_this.sessionUtils.getTutorialFlag() == undefined || _this.sessionUtils.getTutorialFlag() == null || _this.sessionUtils.getTutorialFlag() == false) {
                _this.sessionUtils.setTutorialFlag(true);
                _this.nav.push(__WEBPACK_IMPORTED_MODULE_33__pages_tutorial_tutorial__["a" /* TutorialPage */]);
            }
            else {
                _this.rootPage = __WEBPACK_IMPORTED_MODULE_3__pages_tabs_tabs__["a" /* TabsPage */];
            }
            _this.processInitialRequests();
        });
    };
    mEngageApp.prototype.checkForceUpdateRequired = function () {
        var _this = this;
        var forceUpdateObj = this.configUtils.getForceUpdateObj();
        console.log(JSON.stringify(this.deviceUtils.getPlatformName()));
        if (forceUpdateObj) {
            if (forceUpdateObj.forceUpdate == 'Y') {
                if (this.deviceUtils.getPlatformName() == 'IOS' || this.deviceUtils.getPlatformName() == 'iOS') {
                    var appVersion = this.deviceUtils.getDeviceAppVersionNumber();
                    var appVersionArr = appVersion.split('.');
                    var currentVersionArr = forceUpdateObj.iOSVersion.split('.');
                    for (var i = 0; i < appVersionArr.length; i++) {
                        if (appVersionArr[i] < currentVersionArr[i]) {
                            setTimeout(function () {
                                var modal = _this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_34__pages_forceUpdate_forceUpdate__["a" /* ForceUpdatePage */], {}, { enableBackdropDismiss: false });
                                modal.present();
                            }, 3000);
                            break;
                        }
                    }
                }
                else {
                    var appVersion = this.deviceUtils.getDeviceAppVersionNumber();
                    var appVersionArr = appVersion.split('.');
                    var currentVersionArr = forceUpdateObj.androidVersion.split('.');
                    for (var k = 0; k < appVersionArr.length; k++) {
                        if (appVersionArr[k] < currentVersionArr[k]) {
                            setTimeout(function () {
                                var modal = _this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_34__pages_forceUpdate_forceUpdate__["a" /* ForceUpdatePage */], {}, { enableBackdropDismiss: false });
                                modal.present();
                            }, 3000);
                            break;
                        }
                    }
                }
            }
            else if (forceUpdateObj.forceUpdate == 'I') {
                if (this.deviceUtils.getPlatformName() == 'IOS' || this.deviceUtils.getPlatformName() == 'iOS') {
                    var appVersion = this.deviceUtils.getDeviceAppVersionNumber();
                    var appVersionArr = appVersion.split('.');
                    var currentVersionArr = forceUpdateObj.iOSVersion.split('.');
                    var count = 0;
                    for (var i = 0; i < appVersionArr.length; i++) {
                        if (appVersionArr[i] < currentVersionArr[i]) {
                            setTimeout(function () {
                                var modal = _this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_34__pages_forceUpdate_forceUpdate__["a" /* ForceUpdatePage */], {}, { enableBackdropDismiss: false });
                                modal.present();
                            }, 3000);
                            break;
                        }
                        count++;
                    }
                }
            }
            else if (forceUpdateObj.forceUpdate == 'A') {
                if (this.deviceUtils.getPlatformName() == '"ANDROID"' || this.deviceUtils.getPlatformName() == 'ANDROID') {
                    var appVersion = this.deviceUtils.getDeviceAppVersionNumber();
                    var appVersionArr = appVersion.split('.');
                    var currentVersionArr = forceUpdateObj.iOSVersion.split('.');
                    for (var i = 0; i < appVersionArr.length; i++) {
                        if (appVersionArr[i] < currentVersionArr[i]) {
                            setTimeout(function () {
                                var modal = _this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_34__pages_forceUpdate_forceUpdate__["a" /* ForceUpdatePage */], {}, { enableBackdropDismiss: false });
                                modal.present();
                            }, 3000);
                            break;
                        }
                    }
                }
            }
        }
    };
    mEngageApp.prototype.processInitialRequests = function () {
        var _this = this;
        this.networkService.subscribeOnline(null);
        this.networkService.subscribeOffline(null);
        this.googleAnalyticsUtils.startTracking();
        this.googleAnalyticsUtils.setUserId((this.memberInfo && this.memberInfo.personId)
            ? this.memberInfo.personId.toString() : null);
        this.shouldHideAvatar = this.clientUtils.shouldHideAvatar();
        this.deviceUtils.checkNotificationPermission(null);
        this.deviceUtils.registerFoResumeEvent();
        if (this.globalizationUtils.getUserChangedAppLanguageSettings() != 'Y') {
            this.globalizationUtils.setDeviceLanguage();
        }
        this.configUtils.fetchAppConfigIfRequired()
            .then(function (result) {
            _this.finishedConfigRequest();
        });
    };
    mEngageApp.prototype.finishedConfigRequest = function () {
        var _this = this;
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
        var appMenus = this.menuUtils.getMenuContext();
        if (appMenus && (appMenus.length > 0)) {
            this.appMenus = appMenus;
            this.updateMenuList();
            this.finishedMenuRequest();
        }
        else {
            this.menuUtils.fetchMenusIfRequired()
                .then(function (result) {
                _this.finishedMenuRequest();
            });
        }
        setTimeout(function () {
            _this.checkForceUpdateRequired();
        }, 1000);
    };
    mEngageApp.prototype.finishedMenuRequest = function () {
        var _this = this;
        setTimeout(function () {
            __WEBPACK_IMPORTED_MODULE_2_ionic_native__["c" /* Splashscreen */].hide();
        }, 1000);
        this.registerForRemoteNotification();
        this.syncDataUtils.fireProfileRequests();
        this.startSyncTask();
        setTimeout(function () {
            if (!_this.networkService.isOnline()) {
                _this.lastSyncDate = _this.clientUtils.getFormattedDate('yMMMd', _this.syncDataUtils.getLastSyncDate());
                _this.showHideNetwork(true);
            }
        }, 1000);
        setTimeout(function () {
            _this.locationNotificationUtils.startLocationTracking();
        }, 65000);
    };
    mEngageApp.prototype.startSyncTask = function () {
        var shouldStartTimer = true;
        var shouldCheckVersion = this.clientUtils.shouldBulkSyncAfterVersionRelease();
        if (shouldCheckVersion == true) {
            var lastSyncDate = this.syncDataUtils.getLastSyncDate();
            if (lastSyncDate) {
                var versionNumber = this.deviceUtils.getDeviceAppVersionNumber();
                var versionCode = this.deviceUtils.getDeviceAppVersionCode();
                if (versionNumber && versionCode) {
                    var lastVersionNumber = this.deviceUtils.getAppVersionNumber();
                    var lastVersionCode = this.deviceUtils.getAppVersionCode();
                    if ((versionNumber != lastVersionNumber) || (versionCode != lastVersionCode)) {
                        var nowDate = new Date();
                        nowDate.setDate(nowDate.getDate() - 30);
                        this.syncDataUtils.saveLastSyncDate(nowDate.toDateString() + ' ' + nowDate.toTimeString());
                        this.syncDataUtils.startTimer();
                        this.syncDataUtils.checkLastSyncStatus();
                        shouldStartTimer = false;
                        this.deviceUtils.saveAppVersionNumber(versionNumber);
                        this.deviceUtils.saveAppVersionCode(versionCode);
                    }
                }
            }
        }
        if (shouldStartTimer == true) {
            this.syncDataUtils.checkLastSyncStatus();
            this.syncDataUtils.startTimer();
        }
    };
    mEngageApp.prototype.updateMenuList = function () {
        var menus = [];
        for (var index = 0; index < this.appMenus.length; index++) {
            var appMenu = this.appMenus[index];
            if ((appMenu.facilityName != this.menuUtils.FACILITY_NAME_LOGOUT) ||
                this.sessionUtils.isUserLoggedIn()) {
                menus.push(appMenu);
            }
        }
        if ((menus.length == 0) && this.sessionUtils.isUserLoggedIn()) {
            var appMenu = new __WEBPACK_IMPORTED_MODULE_9__dto_common_dto__["a" /* AppMenu */]();
            appMenu.facilityName = this.menuUtils.FACILITY_NAME_LOGOUT;
            menus.push(appMenu);
        }
        this.menuList = menus;
    };
    mEngageApp.prototype.gotoProfile = function () {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_MENU_SCREEN, this.appConstants.MY_PROFILE_EVENT);
        //this.nav.push(ProfilePage);
        //this.app.getRootNav().push(ProfilePage)
        this.nav.push(__WEBPACK_IMPORTED_MODULE_4__pages_profile_profile__["a" /* ProfilePage */]);
    };
    mEngageApp.prototype.openLoginPage = function () {
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_7__pages_login_login__["a" /* LoginPage */]);
        modal.present();
    };
    mEngageApp.prototype.openPage = function (appMenu) {
        if (appMenu.facilityName == this.menuUtils.FACILITY_NAME_LOGOUT) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_MENU_SCREEN, this.appConstants.LOGOUT_EVENT);
            this.logoutUser();
        }
        else if (appMenu.facilityName == this.menuUtils.FACILITY_NAME_RATE_APP) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_MENU_SCREEN, this.appConstants.RATE_THE_APP_EVENT);
            this.openRateTheApp();
        }
        else if (appMenu.facilityName == this.menuUtils.FACILITY_NAME_AIR_MEXICO_MOBILE) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_MENU_SCREEN, this.appConstants.MOBILE_APP_STORE_LINK_EVENT);
            this.openBookingApp();
        }
        else if (appMenu.facilityName == this.menuUtils.FACILITY_NAME_CHAT) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_MENU_SCREEN, this.appConstants.CHAT_EVENT);
            this.openChat();
        }
        else if (appMenu.facilityName == this.menuUtils.FACILITY_NAME_CONTACTS) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_MENU_SCREEN, this.appConstants.CONTACTS_EVENT);
            this.openContacts();
        }
        else if (appMenu.facilityName == this.menuUtils.FACILITY_NAME_SETTINGS) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_MENU_SCREEN, this.appConstants.APP_SETTINGS_EVENT);
            this.nav.push(__WEBPACK_IMPORTED_MODULE_6__pages_settings_settings__["a" /* SettingsPage */]);
        }
        else if (appMenu.facilityName == this.menuUtils.FACILITY_NAME_TERMS_CONDITIONS) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_MENU_SCREEN, this.appConstants.APP_TERMS_AND_CONDITIONS_EVENT);
            this.openTermsPage(appMenu.description);
        }
        else if (appMenu.facilityName == this.menuUtils.FACILITY_NAME_GUIDE) {
            this.openGuidePage();
        }
    };
    mEngageApp.prototype.logoutUser = function () {
        this.userUtils.clearUserInfo();
        this.targetUtils.clearTargetContext();
        this.offerUtils.cleaFavoriteOfferContext();
        this.partnerUtils.clearFavoritePartnerLocationContext();
        this.transactionUtils.clearTransactionContext();
        this.walletUtils.cleaWalletContext();
        this.walletUtils.cleaQRCodeContext();
        this.walletUtils.removeWalletImages();
        this.events.publish(this.appConstants.EVENT_LOGIN_STATUS_CHANGED);
    };
    mEngageApp.prototype.openRateTheApp = function () {
        var url = this.clientUtils.getRateTheAppURL();
        if (this.clientUtils.isNullOrEmpty(url)) {
            this.clientUtils.showAlert(this.translate.instant('MY_PAL_APP_UNAVAILABLE'));
        }
        else {
            this.clientUtils.openExternalWebURL(url);
        }
    };
    mEngageApp.prototype.openBookingApp = function () {
        var url = this.clientUtils.getBookingAppURL();
        if (this.clientUtils.isNullOrEmpty(url)) {
            this.clientUtils.showAlert(this.translate.instant('MY_PAL_APP_UNAVAILABLE'));
        }
        else {
            this.clientUtils.openExternalWebURL(url);
        }
    };
    mEngageApp.prototype.openChat = function () {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            this.mcfLoadService.show('');
            this.menuUtils.getChatContent(function (result) {
                _this.mcfLoadService.hide();
                var shouldShowError = true;
                if (!_this.clientUtils.isNullOrEmpty(result.data)) {
                    var queryInfo = result.data[0];
                    if (queryInfo.queryResult) {
                        shouldShowError = false;
                        var content = queryInfo.queryResult.replace('/ChatClient/chatservlet', 'https://chat.clubpremier.com/ChatClient/chatservlet');
                        _this.clientUtils.createTempFile(content, _this.appConstants.CHAT_FILE_NAME, function (fileURL) {
                            _this.clientUtils.openURL(fileURL);
                        });
                    }
                }
                if (shouldShowError == true) {
                    _this.clientUtils.showAlert(_this.translate.instant('SOMETHING_WENT_WRONG'));
                }
            }, function (error) {
                _this.mcfLoadService.hide();
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showAlert(msg);
            });
        }
        else {
            this.openLoginPage();
        }
    };
    mEngageApp.prototype.openContacts = function () {
        var url = this.configUtils.getContactsLink();
        this.clientUtils.openURL(url);
    };
    mEngageApp.prototype.openTermsPage = function (pageTitle) {
        var data = {
            contentType: this.serviceConstants.TERMS_CONTENT_TYPE_TC,
            pageTitle: pageTitle
        };
        this.nav.push(__WEBPACK_IMPORTED_MODULE_5__pages_terms_terms__["a" /* TermsPage */], { data: data });
    };
    mEngageApp.prototype.openGuidePage = function () {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_33__pages_tutorial_tutorial__["a" /* TutorialPage */]);
    };
    mEngageApp.prototype.registerForRemoteNotification = function () {
        var _this = this;
        this.deviceUtils.requestForDeviceToken(function (result) {
            _this.deviceUtils.registerDeviceToken(null, function (error) {
            });
        }, function (error) {
        });
    };
    mEngageApp.prototype.showHideNetwork = function (isNetworkOkay) {
        var body = document.getElementsByTagName('body')[0];
        this.render.setElementClass(body, 'offline-active', isNetworkOkay);
    };
    mEngageApp.prototype.offlineMode = function () {
        var offlineMsg = this.configUtils.getOfflineMessage();
        var offlineData = {
            offlineMsg: offlineMsg
        };
        var Modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_8__pages_widgets_offline_popup_offline_popup__["a" /* OfflinePopupPage */], { data: offlineData });
        Modal.present();
    };
    mEngageApp.prototype.menuOpened = function () {
        if (this.sessionUtils.isUserLoggedIn()) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.MENU_EVENT);
        }
        else {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.MENU_EVENT);
        }
        this.menuUtils.fetchMenusIfRequired();
        this.configUtils.fetchAppConfigIfRequired();
    };
    return mEngageApp;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["m" /* Nav */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["m" /* Nav */])
], mEngageApp.prototype, "nav", void 0);
mEngageApp = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'app-component',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\app\app.html"*/'<!-- logged in menu -->\n<ion-menu id="loggedInMenu" [content]="content"  (ionOpen)="menuOpened()" swipeEnabled="false">\n    <ion-content class="app-background-image"\n                 [style.background-image]="\'url(\' + backgroundImageURL +\')\'"\n                 no-bounce>\n        <div class="user-profile-side-menu gold-member" *ngIf="memberInfo">\n            <h1>\n                <ion-icon *ngIf="(shouldHideAvatar === false) && (!memberInfo.memberPicture || memberInfo.memberPicture.length == 0)"\n                          name="icon-user"></ion-icon>\n                <img *ngIf="memberInfo.memberPicture && memberInfo.memberPicture.length > 0"\n                     [src]="memberInfo.memberPicture" alt=""/>\n            </h1>\n            <h2>{{memberInfo.preferredCardName}}</h2>\n            <h3>{{memberInfo.tierDescr | translate }}</h3>\n            <button class="button-clear button-clear-white-border" menuClose (click)="gotoProfile()">{{ \'VIEW_PROFILE\' | translate }}</button>\n        </div>\n\n        <div class="side-menu-list">\n            <!--<h2>{{ \'MENU\' | translate }}</h2>-->\n            <ul>\n                <li menuClose *ngFor="let p of menuList" (click)="openPage(p)">\n                    {{ p.description | translate }}\n                </li>\n            </ul>\n        </div>\n    </ion-content>\n</ion-menu>\n\n\n<!-- main navigation -->\n\n<div class="offline-notification">\n    <h2>{{ \'OFFLINE_MODE\' | translate }}</h2>\n    <button (click)="offlineMode()" color="transparent">\n        <ion-icon name="information-circle"></ion-icon>\n    </button>\n    <div *ngIf="lastSyncDate" class="last-sync">{{\'LAST_SYNC_AT\' | translate}} {{lastSyncDate}}</div>\n</div>\n<ion-nav [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\app\app.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["k" /* MenuController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* Platform */],
        __WEBPACK_IMPORTED_MODULE_12__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_13__utils_commons_user_utils__["a" /* UserUtils */],
        __WEBPACK_IMPORTED_MODULE_14__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_15__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_17__utils_commons_device_utils__["a" /* DeviceUtils */],
        __WEBPACK_IMPORTED_MODULE_16__utils_commons_menu_utils__["a" /* MenuUtils */],
        __WEBPACK_IMPORTED_MODULE_20__utils_commons_location_notification_utils__["a" /* LocationNotificationUtils */],
        __WEBPACK_IMPORTED_MODULE_19__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_18__utils_commons_sync_data_utils__["a" /* SyncDataUtils */],
        __WEBPACK_IMPORTED_MODULE_21__utils_commons_target_utils__["a" /* TargetUtils */],
        __WEBPACK_IMPORTED_MODULE_22__utils_commons_offer_utils__["a" /* OfferUtils */],
        __WEBPACK_IMPORTED_MODULE_23__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_24__utils_commons_transaction_utils__["a" /* TransactionUtils */],
        __WEBPACK_IMPORTED_MODULE_25__utils_commons_wallet_utils__["a" /* WalletUtils */],
        __WEBPACK_IMPORTED_MODULE_10__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_11__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_26__services_commons_network_service__["a" /* NetworkService */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_28_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_31__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_27__services_commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_29__utils_commons_configuration_utils__["a" /* ConfigurationUtils */],
        __WEBPACK_IMPORTED_MODULE_30__utils_commons_globalization_utils__["a" /* GlobalizationUtils */]])
], mEngageApp);

//# sourceMappingURL=app.component.js.map

/***/ }),

/***/ 1084:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return SecurityQuestionLov; });
/* unused harmony export CountryLov */
/* unused harmony export StateLov */
/* unused harmony export CityLov */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NameSuffixLov; });
/**
 * Created by sandip on 10/05/17.
 */
var SecurityQuestionLov = (function () {
    function SecurityQuestionLov() {
    }
    return SecurityQuestionLov;
}());

var CountryLov = (function () {
    function CountryLov() {
    }
    return CountryLov;
}());

var StateLov = (function () {
    function StateLov() {
    }
    return StateLov;
}());

var CityLov = (function () {
    function CityLov() {
    }
    return CityLov;
}());

var NameSuffixLov = (function () {
    function NameSuffixLov() {
    }
    return NameSuffixLov;
}());

//# sourceMappingURL=lov-item.dto.js.map

/***/ }),

/***/ 1085:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Swiper; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__offers_offers__ = __webpack_require__(667);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__offers_popup_offers_popup__ = __webpack_require__(668);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__partners_list_partner_list__ = __webpack_require__(147);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_social_sharing_utils__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__mytargets_my_targets__ = __webpack_require__(669);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__dto_slider_dto__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__target_popup_target__ = __webpack_require__(315);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__constants_language_constants__ = __webpack_require__(65);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
























var Swiper = (function () {
    function Swiper(navCtrl, modalCtrl, languageConstants, events, translate, mcfLoadService, offerUtils, partnerUtils, targetUtils, socialShare, globalizationUtils, googleAnalyticsUtils, appConstants, serviceConstants, sessionUtils, render, clientUtils, configUtils, _elementRef) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.languageConstants = languageConstants;
        this.events = events;
        this.translate = translate;
        this.mcfLoadService = mcfLoadService;
        this.offerUtils = offerUtils;
        this.partnerUtils = partnerUtils;
        this.targetUtils = targetUtils;
        this.socialShare = socialShare;
        this.globalizationUtils = globalizationUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.serviceConstants = serviceConstants;
        this.sessionUtils = sessionUtils;
        this.render = render;
        this.clientUtils = clientUtils;
        this.configUtils = configUtils;
        this._elementRef = _elementRef;
        // @ViewChild("Template1") inputChild: ElementRef;
        this.radius = 20;
        this.max = 100;
        this.responsive = false;
        this.clockwise = true;
        this.targetShareRequestTag = '';
        this.showSpinnerFavourite = false;
        this.showSpinnerTarget = false;
        this.shouldHideCheckin = false;
        this.shouldHideSocialShare = false;
        this.backgroundImageURL = '';
    }
    Swiper.prototype.ngOnInit = function () {
        var _this = this;
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
        });
        this.shouldHideCheckin = this.clientUtils.shouldHideCheckin();
        this.shouldHideSocialShare = this.clientUtils.shouldHideSocialSharing();
        if (this.showTemplate == 2) {
            setTimeout(function () {
                _this.Template2.slideTo(_this.activeSlide, 1000, false);
            }, 500);
        }
        if (this.showTemplate == 4) {
            setTimeout(function () {
                _this.usefulSwiperTemplate4.slideTo(_this.activeSlide, 1000, false);
            }, 500);
        }
        this.getTargetShareCode();
    };
    Swiper.prototype.ngAfterViewInit = function () {
        var _this = this;
        var swiperContainer = this._elementRef.nativeElement.getElementsByClassName('swiper-container')[0];
        this.clientUtils.waitRendered(swiperContainer).then(function () {
            if (_this.Template1) {
                _this.Template1.update();
                _this.data[0].isSlidActive = true;
            }
            _this.Template3 ? _this.Template3.update() : null;
        });
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
    };
    Swiper.prototype.slideDidChange = function (index) {
        var activeIndex;
        if (this.Template1) {
            activeIndex = this.Template1.getActiveIndex();
        }
        if (this.Template2) {
            activeIndex = this.Template2.getActiveIndex();
        }
        var itemsIndex = (index.length) - 1;
        if (activeIndex <= itemsIndex) {
            index[activeIndex].isSlidActive = true;
        }
    };
    Swiper.prototype.goToPage = function (data, currentIndex) {
        var myData = {
            data: data,
            currentIndex: currentIndex
        };
        if (this.isMyTarget) {
            this.sepratePersonalTarget(data, currentIndex);
        }
        else {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__offers_offers__["a" /* OffersPage */], myData);
        }
        this.sendGATrackEvent(data);
    };
    Swiper.prototype.moreInfo = function (data) {
        this.googleAnalyticsUtils.trackEvent(((this.isMyTarget == true) ? this.appConstants.TERGET_CARD : this.appConstants.OFFER_CARD), this.appConstants.MORE_INFO_EVENT);
        var profileModal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_5__offers_popup_offers_popup__["a" /* OffersPopupPage */], { data: data });
        profileModal.present();
    };
    Swiper.prototype.liked = function (item) {
        var _this = this;
        console.log('liked swiper.ts 170');
        if (this.sessionUtils.isUserLoggedIn()) {
            if (item.offerId) {
                this.showSpinnerFavourite = true;
                this.offerUtils.setOfferAsFavourite(item.offerId, item.isFavourite, function (result) {
                    _this.showSpinnerFavourite = false;
                    item.isFavourite = !item.isFavourite;
                    if (item.isFavourite) {
                        _this.clientUtils.showToast(_this.translate.instant('THIS_OFFER_SUCCESSFULLY_SET_AS_FAVOURITE'));
                        _this.googleAnalyticsUtils.trackEvent(((_this.isMyTarget == true) ? _this.appConstants.TERGET_CARD : _this.appConstants.OFFER_CARD), _this.appConstants.LIKE_OFFER_EVENT);
                    }
                    else {
                        _this.clientUtils.showToast(_this.translate.instant('THIS_OFFER_IS_SUCCESSFULLY_REMOVED_FROM_YOUR_FAVOURITES'));
                        _this.googleAnalyticsUtils.trackEvent(((_this.isMyTarget == true) ? _this.appConstants.TERGET_CARD : _this.appConstants.OFFER_CARD), _this.appConstants.UNLIKE_OFFER_EVENT);
                    }
                }, function (error) {
                    console.log('error swiper.ts 186  ' + JSON.stringify(error));
                    _this.showSpinnerFavourite = false;
                    if (error.code == 401) {
                        _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                    }
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showToast(msg);
                });
            }
            else if (item.addressId) {
                this.showSpinnerFavourite = true;
                this.partnerUtils.setLocationAsFavourite(item.addressId, item.isFavourite, function (result) {
                    _this.showSpinnerFavourite = false;
                    item.isFavourite = !item.isFavourite;
                    if (item.isFavourite) {
                        var msg = _this.translate.instant('THIS_LOCATION_SUCCESSFULLY_SET_AS_FAVOURITE');
                        _this.clientUtils.showToast(msg);
                        _this.googleAnalyticsUtils.trackEvent(_this.appConstants.PARTNER_LOCATION_CARD, _this.appConstants.LIKE_LOCATION_EVENT);
                    }
                    else {
                        var msg = _this.translate.instant('THIS_LOCATION_SUCCESSFULLY_REMOVED_FROM_YOUR_FAVOURITES');
                        _this.clientUtils.showToast(msg);
                        _this.googleAnalyticsUtils.trackEvent(_this.appConstants.PARTNER_LOCATION_CARD, _this.appConstants.UNLIKE_LOCATION_EVENT);
                    }
                }, function (error) {
                    console.log('error swiper.ts 186  ' + JSON.stringify(error));
                    _this.showSpinnerFavourite = false;
                    if (error.code == 401) {
                        _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                    }
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showToast(msg);
                });
            }
        }
        else {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    Swiper.prototype.setAsTarget = function (item, index) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            if (!item.isTarget) {
                if (!this.targetUtils.isTargetLimitReached()) {
                    var memberInfo = this.sessionUtils.getMemberInfo();
                    if (item.offerPoints > memberInfo.availableBalanceMiles) {
                        this.showSpinnerTarget = true;
                        this.targetUtils.setOfferAsTarget(item.offerId, function (result) {
                            _this.showSpinnerTarget = false;
                            item.isTarget = !item.isTarget;
                            _this.clientUtils.showToast(_this.translate.instant('YOUR_TARGET_SUCCESSFULLY_SAVED'));
                        }, function (error) {
                            if (error.code == 401) {
                                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                            }
                            _this.showSpinnerTarget = false;
                            var msg = '';
                            if (error && error.message && (error.message.trim().length > 0)) {
                                msg = error.message.trim();
                            }
                            else {
                                msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                            }
                            _this.clientUtils.showToast(msg);
                        });
                    }
                    else {
                        var msg = this.translate.instant('YOU_HAVE_ALREADY_ACHIEVED') + item.offerPoints
                            + ' ' + this.translate.instant(this.languageConstants.POINTS) + '.';
                        this.clientUtils.showToast(msg);
                    }
                }
                else {
                    this.clientUtils.showToast(this.translate.instant('SET_TARGET_LIMIT_REACHED'));
                }
                this.googleAnalyticsUtils.trackEvent(((this.isMyTarget == true) ? this.appConstants.TERGET_CARD : this.appConstants.OFFER_CARD), this.appConstants.TARGET_OFFER_EVENT);
            }
            else {
                if (this.showTemplate == 4) {
                    this.mcfLoadService.show('');
                }
                else {
                    this.showSpinnerTarget = true;
                    if (this.showTemplate == 2) {
                        item.active = 'N';
                    }
                }
                this.targetUtils.deleteTarget(item, function (result) {
                    if (_this.showTemplate == 4) {
                        _this.mcfLoadService.hide();
                        _this.hideTargetBigCard(item, index);
                    }
                    else {
                        _this.showSpinnerTarget = false;
                        item.isTarget = !item.isTarget;
                    }
                    _this.clientUtils.showToast(_this.translate.instant('YOUR_GOAL_DELETED_SUCCESSFULLY'));
                }, function (error) {
                    if (error.code == 401) {
                        _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                    }
                    if (_this.showTemplate == 4) {
                        _this.mcfLoadService.hide();
                    }
                    else {
                        _this.showSpinnerTarget = false;
                    }
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showToast(msg);
                });
                this.googleAnalyticsUtils.trackEvent(((this.isMyTarget == true) ? this.appConstants.TERGET_CARD : this.appConstants.OFFER_CARD), this.appConstants.DROP_TARGETS_EVENT);
            }
        }
        else {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    Swiper.prototype.sendGATrackEvent = function (data) {
        if (data[0].pageTitle == this.appConstants.HEADING_NEAR_ME_OFFERS) {
            if (this.sessionUtils.isUserLoggedIn()) {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.NEAR_ME_OFFER_EVENT);
            }
            else {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.NEAR_ME_OFFER_EVENT);
            }
        }
        else if (data[0].pageTitle == this.appConstants.HEADING_NEAR_ME_STORES) {
            if (this.sessionUtils.isUserLoggedIn()) {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.NEAR_ME_STORE_EVENT);
            }
            else {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.NEAR_ME_STORE_EVENT);
            }
        }
        else if (data[0].pageTitle == this.appConstants.HEADING_RECOMMENDED_OFFERS) {
            if (this.sessionUtils.isUserLoggedIn()) {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.RECOMMENDED_OFFER_EVENT);
            }
            else {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.RECOMMENDED_OFFER_EVENT);
            }
        }
        else if (data[0].pageTitle == this.appConstants.HEADING_MY_TARGETS) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.MY_PROFILE_SCREEN, this.appConstants.MY_TARGETS_EVENT);
        }
        else if (data[0].pageTitle == this.appConstants.HEADING_MY_FAVOURITE_OFFERS) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.MY_PROFILE_SCREEN, this.appConstants.MY_FAVORITES_OFFER_EVENT);
        }
        else if (data[0].pageTitle == this.appConstants.HEADING_MY_FAVOURITE_LOCATIONS) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.MY_PROFILE_SCREEN, this.appConstants.MY_FAVORITES_LOCATION_EVENT);
        }
    };
    Swiper.prototype.hideTarget = function (index) {
        var _this = this;
        index.showHide = !index.showHide;
        setTimeout(function () {
            var indexx = _this.data.indexOf(index);
            _this.data.splice(indexx, 1);
            _this.usefulSwiperTemplate5.update();
        }, 900);
    };
    Swiper.prototype.hideTargetBigCard = function (item, index) {
        var _this = this;
        setTimeout(function () {
            if (_this.data.length > 1) {
                console.log('hideTargetBigCard: ', index);
                _this.data.splice(index, 1);
            }
            else if (_this.navCtrl) {
            }
        }, 500);
    };
    Swiper.prototype.checkIn = function (item) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.PARTNER_LOCATION_CARD, this.appConstants.CHECKIN_LOCATION_EVENT);
            if (item.isCheckedIn != true && this.partnerUtils.shouldCheckin(item.lastCheckinTime)) {
                this.mcfLoadService.show('');
                this.partnerUtils.locationCheckIn(item.addressId, function (result) {
                    item.isCheckedIn = true;
                    var code = '';
                    var langCode = _this.globalizationUtils.getAppLanguage();
                    if (langCode === _this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
                        code = _this.serviceConstants.SHR_CHKIN_EN;
                    }
                    else if (langCode === _this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
                        code = _this.serviceConstants.SHR_CHKIN_ES;
                    }
                    if (_this.shouldHideSocialShare == false) {
                        _this.getShareMessage(code, item.storeName);
                    }
                }, function (error) {
                    if (error.code == 401) {
                        _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                    }
                    _this.mcfLoadService.hide();
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showToast(msg);
                });
            }
            else {
                item.isCheckedIn = true;
                var msg = this.translate.instant('YOUR_ALREADY_CHECKED_IN');
                this.clientUtils.showToast(msg);
            }
        }
        else {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    Swiper.prototype.openShareModal = function (code) {
        this.mcfLoadService.show('');
        this.getShareMessage(code, '');
        this.googleAnalyticsUtils.trackEvent(this.appConstants.TERGET_CARD, this.appConstants.SHARE_TARGET_EVENT);
    };
    Swiper.prototype.getShareMessage = function (code, storeName) {
        var _this = this;
        var requestData = new __WEBPACK_IMPORTED_MODULE_19__dto_common_dto__["g" /* MessageInfo */]();
        requestData.code = code;
        this.socialShare.generateShareMessage(requestData, function (result) {
            _this.mcfLoadService.hide();
            var message = '';
            var subject = '';
            if (result && !_this.clientUtils.isNullOrEmpty(result.data)) {
                message = result.data[0].content + storeName;
                subject = result.data[0].msgSubject;
            }
            else {
                message = storeName;
            }
            var options = {
                message: message,
                subject: subject
            };
            _this.socialShare.share(options);
        }, function (error) {
            _this.mcfLoadService.hide();
            var options = {
                message: storeName,
                subject: ''
            };
            _this.socialShare.share(options);
        });
    };
    Swiper.prototype.openLocation = function (obj) {
        var _this = this;
        if (obj.latitude && obj.longitude) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.PARTNER_LOCATION_CARD, this.appConstants.PARTNER_LOCATION_EVENT);
            var urlQuery = obj.latitude + "," + obj.longitude;
            if (obj.storeName) {
                urlQuery = urlQuery + '(' + obj.storeName + ')';
            }
            this.clientUtils.openMapURL(urlQuery);
        }
        else if (obj.offerId && obj.partnerCode) {
            this.mcfLoadService.show('');
            this.googleAnalyticsUtils.trackEvent(((this.isMyTarget == true) ? this.appConstants.TERGET_CARD : this.appConstants.OFFER_CARD), this.appConstants.OFFER_LOCATION_EVENT);
            this.partnerUtils.fetchPartnersByCode(obj.partnerCode, null, function (result) {
                _this.mcfLoadService.hide();
                var response = result.data;
                if (response && response.length) {
                    var data = {
                        offerId: obj.offerId,
                        parnterDetail: response[0]
                    };
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__partners_list_partner_list__["a" /* PartnersListPage */], data);
                }
                else {
                    var msg = _this.translate.instant('SEARCH_NO_PARTNER');
                    _this.clientUtils.showToast(msg);
                }
            }, function (error) {
                _this.mcfLoadService.hide();
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showToast(msg);
            });
        }
    };
    Swiper.prototype.getTargetShareCode = function () {
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            this.targetShareRequestTag = this.serviceConstants.SHR_TRGT_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            this.targetShareRequestTag = this.serviceConstants.SHR_TRGT_ES;
        }
    };
    Swiper.prototype.sepratePersonalTarget = function (data, currentIndex) {
        var personalTargetList = [];
        var offerTargetList = [];
        var selectedIndex = null;
        var currentObj = null;
        if (currentIndex < data.length) {
            currentObj = data[currentIndex];
        }
        for (var count = 0; count < data.length; count++) {
            if (data[count].offerId != 0) {
                var sliderObj = new __WEBPACK_IMPORTED_MODULE_20__dto_slider_dto__["a" /* SliderData */]();
                sliderObj.title = data[count].title;
                sliderObj.name = data[count].name;
                sliderObj.logo = data[count].logo;
                sliderObj.partnerCode = data[count].partnerCode;
                sliderObj.location = data[count].location;
                sliderObj.earnBurn = data[count].earnBurn;
                sliderObj.offerId = data[count].offerId;
                sliderObj.offerPoints = data[count].offerPoints;
                sliderObj.isTarget = data[count].isTarget;
                sliderObj.myTarget = data[count].myTarget;
                sliderObj.img = data[count].img;
                sliderObj.points = data[count].points;
                sliderObj.isFavourite = data[count].isFavourite;
                sliderObj.targetId = data[count].targetId;
                sliderObj.showHide = data[count].showHide;
                sliderObj.targetStatus = data[count].targetStatus;
                sliderObj.targetEndDate = data[count].targetEndDate;
                sliderObj.targetEndDateString = this.clientUtils.getFormattedDate('yMMMd', sliderObj.targetEndDate);
                sliderObj.targetStatusDescription = data[count].targetStatusDescription;
                sliderObj.special = data[count].special;
                sliderObj.description = null;
                offerTargetList.push(sliderObj);
                if (currentObj && (currentObj.targetId === sliderObj.targetId)) {
                    selectedIndex = offerTargetList.length - 1;
                }
            }
            else {
                var sliderObj = new __WEBPACK_IMPORTED_MODULE_20__dto_slider_dto__["a" /* SliderData */]();
                sliderObj.title = data[count].title;
                sliderObj.isTarget = data[count].isTarget;
                sliderObj.myTarget = data[count].myTarget;
                sliderObj.points = data[count].points;
                sliderObj.isFavourite = data[count].isFavourite;
                sliderObj.targetId = data[count].targetId;
                sliderObj.description = null;
                sliderObj.targetEndDate = data[count].targetEndDate;
                sliderObj.targetEndDateString = data[count].targetEndDateString;
                personalTargetList.push(sliderObj);
            }
        }
        if (selectedIndex == null) {
            selectedIndex = (personalTargetList.length > 0) ? offerTargetList.length : 0;
        }
        var myData = {
            pageTitle: data[0].pageTitle,
            personalTargets: personalTargetList,
            offerTargets: offerTargetList,
            currentIndex: selectedIndex
        };
        console.log(JSON.stringify(myData));
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_18__mytargets_my_targets__["a" /* MyTargetsPage */], myData);
    };
    Swiper.prototype.setTarget = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.MY_PROFILE_SCREEN, this.appConstants.CREATE_PERSONAL_TARGET_EVENT);
        if (!this.targetUtils.isTargetLimitReached()) {
            var body_1 = document.getElementsByTagName('body')[0];
            var opts = {
                showBackdrop: true,
                enableBackdropDismiss: true
            };
            var data = "";
            var profileModal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_22__target_popup_target__["a" /* TargetPopupPage */], { data: data }, opts);
            profileModal.onDidDismiss(function (value) {
                _this.render.setElementClass(body_1, 'smallModal', false);
            });
            this.render.setElementClass(body_1, 'smallModal', true);
            profileModal.present();
        }
        else {
            this.clientUtils.showToast(this.translate.instant('SET_TARGET_LIMIT_REACHED'));
        }
    };
    return Swiper;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Object)
], Swiper.prototype, "showTemplate", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Array)
], Swiper.prototype, "data", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Object)
], Swiper.prototype, "personalTargetData", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Boolean)
], Swiper.prototype, "isMyTarget", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Number)
], Swiper.prototype, "activeSlide", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('Template3'),
    __metadata("design:type", Object)
], Swiper.prototype, "Template3", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('usefulSwiperTemplate5'),
    __metadata("design:type", Object)
], Swiper.prototype, "usefulSwiperTemplate5", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('Template2'),
    __metadata("design:type", Object)
], Swiper.prototype, "Template2", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('usefulSwiperTemplate4'),
    __metadata("design:type", Object)
], Swiper.prototype, "usefulSwiperTemplate4", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('Template1'),
    __metadata("design:type", Object)
], Swiper.prototype, "Template1", void 0);
Swiper = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'component-swiper',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\swiper\swiper.html"*/'<ion-slides class="Swipertemplate1 custom" #Template1 *ngIf="showTemplate == 1" (ionSlideDidChange)="slideDidChange(this.data)">\n    <ion-slide class="swiper-slide" *ngFor="let i of data; let index = index">\n        <div class="slider-holder app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" (click)="goToPage(data, index)"\n            tappable>\n\n            <div class="row slider-holder-img">\n                <img src="{{i.img}}" alt="">\n                <span class="badge-holder" *ngIf="i.earnBurn" [ngClass]="{\'badge-earn\': i.earnBurn == \'E\'}">\n                    <div class="ribbonz"> {{ (i.earnBurn == \'E\' ? \'EARN\' : languageConstants.BURN) | translate }}</div>\n                </span>\n                <div class="special-offers" *ngIf="i.special === \'Y\'">\n                    <ion-icon name="star"></ion-icon>\n                </div>\n            </div>\n            <div class="row slider-holder-content">\n                <div class="col-xs-12">\n                    <div class="row">\n                        <div class="strip-logo-content" [ngClass]="{\'col-xs-9\': i.myTarget != null}">\n                            <div class="card-logo">\n                                <img [src]="i.logo" alt="" />\n                                <h3>{{i.name}}\n                                    <span *ngIf="i.location"> - {{i.location}}</span>\n                                </h3>\n                                <h4>{{i.title}}</h4>\n                            </div>\n                        </div>\n                        <div class="col-xs-3" *ngIf="i.myTarget != null">\n                            <div class="rounded-progress-position">\n                                <div class="" [@visibilityChanged]="i.isSlidActive">\n                                    <round-progress [current]="i.myTarget" [radius]="radius" [max]="max" [duration]="3000" [stroke]="4" [responsive]="responsive"\n                                        [clockwise]="clockwise">\n                                    </round-progress>\n                                    <h6>{{i.myTarget}}%</h6>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ion-slide>\n</ion-slides>\n\n\n<ion-slides class=" swiper-big-holder custom" *ngIf="showTemplate == 2" #Template2 (ionSlideDidChange)="slideDidChange(this.data)">\n    <ion-slide class="swiper-wrapper swiper-wrapper-big" *ngFor="let i of data ; let id = index">\n        <div class="swiper-wrapper swiper-wrapper-big">\n            <div class="swiper-slide-big-holder">\n                <div class="slider-holder-top-clear app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" tappable>\n                    <div class="row slider-holder-img">\n                        <img src="{{i.img}}" alt="">\n                        <span class="badge-holder" *ngIf="i.earnBurn" [ngClass]="{\'badge-earn\': i.earnBurn == \'E\'}">\n                            <div class="ribbonz"> {{ (i.earnBurn == \'E\' ? \'EARN\' : languageConstants.BURN) | translate }}</div>\n                        </span>\n                        <div class="special-offers" *ngIf="i.special === \'Y\'">\n                            <ion-icon name="star"></ion-icon>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content" [ngClass]="{\'col-xs-9\': i.myTarget != null}">\n                                    <div class="card-logo">\n                                        <img [src]="i.logo" alt="" />\n                                        <h3>{{i.name}}</h3>\n                                        <h4 *ngIf="i.location">\n                                            {{i.location}}\n                                        </h4>\n                                        <h4 *ngIf="!i.location">\n                                            <span *ngIf="i.offersCount && i.offersCount > 0">\n                                                {{i.offersCount}} {{i.offers}}&nbsp;&nbsp;\n                                            </span>\n                                            <span *ngIf="i.distance && i.distance > 0">\n                                                {{i.distance | number}} {{i.distanceDenom}}\n                                            </span>\n                                        </h4>\n                                    </div>\n                                </div>\n                                <div class="col-xs-3" *ngIf="i.isSlidActive && i.myTarget != null">\n                                    <div class="rounded-progress-position">\n                                        <div class="" [@visibilityChanged]="i.isSlidActive">\n                                            <round-progress [current]="i.myTarget" [radius]="radius" [max]="max" [duration]="3000" [stroke]="4" [responsive]="responsive"\n                                                [clockwise]="clockwise">\n                                            </round-progress>\n                                            <h6>{{i.myTarget}}%</h6>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="slider-holder-middle">\n                    <h2>{{i.title}} </h2>\n\n                    <p class="in-app-browser-anchor" onclick="onInnerHTMLTap(event)" [innerHTML]="i.description"></p>\n\n                    <div class="moreInfo" (click)="moreInfo(i)">{{ \'MORE_INFO\' | translate }}</div>\n\n                </div>\n\n                <div class="slider-holder-footer">\n                    <ul>\n                        <li [ngClass]="{\'itemLiked\': i.isFavourite}">\n                            <a (click)="liked(i)">\n                                <ion-icon name="icon-heart" *ngIf="!showSpinnerFavourite"></ion-icon>\n                                <ion-spinner *ngIf="showSpinnerFavourite"></ion-spinner>\n                            </a>\n                        </li>\n\n                        <li *ngIf="i.offerId && (i.earnBurn != \'E\')" [ngClass]="{\'itemLiked\': i.isTarget}">\n                            <a (click)="setAsTarget(i,id)">\n                                <ion-icon name="icon-flag" *ngIf="!showSpinnerTarget"></ion-icon>\n                                <ion-spinner *ngIf="showSpinnerTarget"></ion-spinner>\n                            </a>\n                        </li>\n\n                        <li *ngIf="!i.targetId && !i.offerId && i.addressId && !shouldHideCheckin" [ngClass]="{\'itemLiked\': i.isCheckedIn}">\n                            <a (click)="checkIn(i)">\n                                <ion-icon name="icon-check"></ion-icon>\n                            </a>\n                        </li>\n                        <li *ngIf="i.partnerCode || (i.latitude && i.longitude)">\n                            <a (click)="openLocation(i)">\n                                <ion-icon name="icon-navigation"></ion-icon>\n                            </a>\n                        </li>\n                    </ul>\n\n                </div>\n            </div>\n        </div>\n    </ion-slide>\n</ion-slides>\n\n\n<ion-slides class=" Swipertemplate3 custom" *ngIf="showTemplate == 3" #Template3>\n    <ion-slide class="swiper-slide" *ngFor="let i of data; let index = index">\n        <div class="slider-holder app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" (click)="goToPage(data, index)"\n            tappable>\n\n            <div class="row slider-holder-img">\n                <img src="{{i.img}}" alt="">\n            </div>\n            <div class="row slider-holder-content">\n                <div class="strip-logo-content col-xs-12">\n                    <div class="card-logo">\n                        <img [src]="i.logo" alt="" />\n                        <h3>{{i.name}}\n                            <span *ngIf="i.storeName"> - {{i.storeName}}</span>\n                        </h3>\n                        <h4>\n                            <span *ngIf="i.offersCount && i.offersCount > 0">\n                                {{i.offersCount}} {{i.offers}}&nbsp;&nbsp;\n                            </span>\n                            <span *ngIf="i.distance && i.distance > 0">\n                                {{i.distance | number}} {{i.distanceDenom}}\n                            </span>\n                        </h4>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </ion-slide>\n</ion-slides>\n<!--My vouchers --start-->\n<ion-slides class=" Swipertemplate6 custom" *ngIf="showTemplate == 6" #Template6>\n    <ion-slide class="swiper-slide" *ngFor="let i of data; let index = index">\n        <div class="slider-holder app-background-image" [style.background-image]="\'url(\' + backgroundImageURL + \')\'" tappable>\n            <div class="row slider-holder-img">\n                <div class="voucher slider-holder-color">\n                    <div class="heading" style="    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n                    width: 100%;">\n                        <span class="desc">{{i.voucherDescription}}</span>\n                        <span class="free-space"></span>\n                        <span class="miles" style="font-size:12px">-for points miles</span>\n                    </div>\n                    <div class="margin-bottom"></div>\n                    <div style="font-size:12px;">\n                        Valid for 0 months.\n                    </div>\n                    <div>\n                        <span style="font-size:12px;">Can be used at any location</span>\n                    </div>\n\n                </div>\n            </div>\n            <div class="row slider-holder-content">\n                <div class="strip-logo-content col-xs-12">\n                    <div class="card-logo">\n                        <img [src]="i.logo" alt="" />\n                        <h3>\n                            <span> Starbucks</span>\n                        </h3>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ion-slide>\n    <!-- <ion-slide class="swiper-slide">\n        <div class="slider-holder app-background-image" [style.background-image]="\'url(\' + backgroundImageURL + \')\'" tappable>\n            <div class="row slider-holder-img">\n                <div class="voucher slider-holder-color">\n                    <div class="heading">\n                        <span class="desc">Desc</span>\n                        <span class="free-space"></span>\n                        <span class="miles">-for points miles</span>\n                    </div>\n                    <div class="margin-bottom"></div>\n                    <div style="font-size:11px;">\n                        Valid for 0 months.\n                    </div>\n                    <div>\n                        <span style="font-size:11px;">Can be used at any location</span>\n                    </div>\n\n                </div>\n            </div>\n            <div class="row slider-holder-content">\n                <div class="strip-logo-content col-xs-12">\n                    <div class="card-logo">\n                        <img src="" alt="" />\n                        <h3>\n                            name\n                            <span> - star bucks</span>\n                        </h3>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ion-slide> -->\n</ion-slides>\n<!--My vouchers --end-->\n\n<ion-slides class="  swiper-big-holder custom" *ngIf="showTemplate == 4" #usefulSwiperTemplate4>\n\n\n    <ion-slide class="swiper-wrapper swiper-wrapper-big" *ngFor="let i of data ; let id = index" [@visibilityChanged]="i.showHide">\n\n        <div class="swiper-wrapper swiper-wrapper-big">\n\n            <!--Target In Progress-->\n            <div class="swiper-slide-big-holder" *ngIf="i.targetStatus == \'\' || i.targetStatus == \'I\'">\n\n                <div class="slider-holder-top-clear app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" tappable>\n                    <div class="row slider-holder-img">\n                        <img src="{{i.img}}" alt="">\n                        <div class="special-offers" *ngIf="i.special === \'Y\'">\n                            <ion-icon name="star"></ion-icon>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content" [ngClass]="{\'col-xs-9\': i.myTarget != null}">\n                                    <div class="card-logo">\n                                        <img [src]="i.logo" alt="" />\n                                        <h3>{{i.name}}</h3>\n                                        <h4>{{i.location}}</h4>\n                                    </div>\n                                </div>\n                                <div class="col-xs-3">\n                                    <div class="position-relative rounded-progress-position" *ngIf="i.myTarget != null">\n                                        <div class="" [@visibilityChanged]="i.isSlidActive">\n                                            <round-progress [current]="i.myTarget" [radius]="radius" [max]="max" [duration]="3000" [stroke]="4" [responsive]="responsive"\n                                                [clockwise]="clockwise">\n                                            </round-progress>\n                                            <h6>{{i.myTarget}}%</h6>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="slider-holder-middle">\n                    <h2>{{i.title}} </h2>\n                    <p class="in-app-browser-anchor" onclick="onInnerHTMLTap(event)" *ngIf="i.description" [innerHTML]="i.description"></p>\n                </div>\n\n                <div class="slider-holder-footer">\n                    <ul>\n                        <li [ngClass]="{\'itemLiked\': i.isFavourite}">\n                            <a (click)="liked(i)">\n                                <ion-icon name="icon-heart" *ngIf="!showSpinnerFavourite"></ion-icon>\n                                <ion-spinner *ngIf="showSpinnerFavourite"></ion-spinner>\n                            </a>\n                        </li>\n                        <li *ngIf="shouldHideSocialShare == false">\n                            <a (click)="openShareModal(targetShareRequestTag)">\n                                <ion-icon name="icon-share"></ion-icon>\n                            </a>\n                        </li>\n                        <li [ngClass]="{\'itemLiked\': i.isTarget}">\n                            <a (click)="setAsTarget(i, id)">\n                                <ion-icon name="icon-flag" *ngIf="!showSpinnerTarget"></ion-icon>\n                                <ion-spinner *ngIf="showSpinnerTarget"></ion-spinner>\n                            </a>\n                        </li>\n                        <li *ngIf="i.partnerCode || (i.latitude && i.longitude)">\n                            <a (click)="openLocation(i)">\n                                <ion-icon name="icon-navigation"></ion-icon>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n\n\n            <!--Target Achieve-->\n            <div class="swiper-slide-big-holder" *ngIf="i.targetStatus == \'A\'">\n                <div class="slider-holder-top-clear app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" tappable>\n                    <div class="row slider-holder-img">\n                        <img src="{{i.img}}" alt="">\n                        <div class="special-offers" *ngIf="i.special === \'Y\'">\n                            <ion-icon name="star"></ion-icon>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content" [ngClass]="{\'col-xs-9\': i.myTarget != null}">\n                                    <div class="card-logo">\n                                        <img [src]="i.logo" alt="" />\n                                        <h3>{{i.name}}</h3>\n                                        <h4>{{i.location}}</h4>\n                                    </div>\n                                </div>\n                                <div class="col-xs-3" *ngIf="i.myTarget != null">\n                                    <div class="position-relative rounded-progress-position">\n                                        <div class="" [@visibilityChanged]="i.isSlidActive">\n                                            <round-progress [current]="i.myTarget" [radius]="radius" [max]="max" [duration]="3000" [stroke]="4" [responsive]="responsive"\n                                                [clockwise]="clockwise">\n                                            </round-progress>\n                                            <h6>{{i.myTarget}}%</h6>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="slider-holder-middle">\n                    <h2>{{i.title}} </h2>\n                    <div class="user-target-card-holder">\n                        <div class="congratulations -template-4">\n                            <h3>{{ \'CONGRATULATIONS_TARGET_ACHIEVED\' | translate }}</h3>\n\n                            <h2>\n                                <ion-icon name="icon-check"></ion-icon>\n                            </h2>\n                            <h6>\n                                <ion-icon name="calendar"></ion-icon>\n                                {{i.targetEndDateString}}\n                                <span></span>\n                                <ion-icon name="flag"></ion-icon>\n                                {{i.points}} {{ languageConstants.POINTS | translate }}\n                            </h6>\n                        </div>\n                    </div>\n\n\n                </div>\n\n                <div class="slider-holder-footer">\n                    <ul>\n                        <li *ngIf="shouldHideSocialShare == false">\n                            <a (click)="openShareModal(targetShareRequestTag)">\n                                <ion-icon name="icon-share"></ion-icon>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n\n\n            <!--Target Expired-->\n            <div class="swiper-slide-big-holder -target-expired-image" *ngIf="i.targetStatus == \'E\'">\n                <div class="slider-holder-top-clear app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" tappable>\n                    <div class="row slider-holder-img">\n                        <img src="{{i.img}}" alt="">\n                        <div class="special-offers" *ngIf="i.special === \'Y\'">\n                            <ion-icon name="star"></ion-icon>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content">\n                                    <div class="card-logo">\n                                        <img [src]="i.logo" alt="" />\n                                        <h3>{{i.name}}</h3>\n                                        <h4>{{i.location}}</h4>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="slider-holder-middle">\n                    <h2>{{i.title}} </h2>\n\n                    <div class="user-target-card-holder">\n                        <div class="congratulations -template-4">\n                            <h3>{{ \'EXPIRED\' | translate }}</h3>\n                            <h2>\n                                <ion-icon name="close-circle"></ion-icon>\n                            </h2>\n                            <h6>\n                                <ion-icon name="calendar"></ion-icon>\n                                {{i.targetEndDateString}}\n                                <span></span>\n                                <ion-icon name="flag"></ion-icon>\n                                {{i.points}} {{ languageConstants.POINTS | translate }}\n                            </h6>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class="slider-holder-footer">\n                    <ul>\n                        <li *ngIf="shouldHideSocialShare == false">\n                            <a (click)="openShareModal(targetShareRequestTag)">\n                                <ion-icon name="icon-share"></ion-icon>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n\n        </div>\n\n    </ion-slide>\n    <div class="swiper-slide swiper-slide-big my-targets" *ngIf="personalTargetData && (personalTargetData.length > 0)">\n\n        <component-personal-target [personalTargetData]="personalTargetData"></component-personal-target>\n    </div>\n</ion-slides>\n\n\n<ion-slides class="swiper-container custom c" *ngIf="showTemplate == 5" #usefulSwiperTemplate5>\n    <div class="swiper-wrapper">\n\n\n        <div class="add-new-target-profile" *ngIf="!data || data.length == 0" (click)="setTarget()" tappable>\n\n            <h3>\n                <ion-icon name="ios-add-circle-outline"></ion-icon>\n                <span>{{\'CREATE_PERSONAL_GOAL\' | translate }}</span>\n            </h3>\n\n        </div>\n\n        <ion-slide class="swiper-slide" *ngFor="let i of data ; let id = index" [@visibilityChanged]="i.showHide">\n\n\n            <!--OFFER BASED -->\n            <div *ngIf="i.offerId != 0">\n                <!--<div *ngIf="i.offerId != 0">-->\n\n                <!--Target In Progress-->\n                <div class="slider-holder app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" (click)="goToPage(data, index)"\n                    *ngIf="i.targetStatus == \'\' || i.targetStatus == \'I\'" tappable>\n\n                    <div class="row slider-holder-img">\n                        <img src="{{i.img}}" alt="">\n                        <div class="special-offers" *ngIf="i.special === \'Y\'">\n                            <ion-icon name="star"></ion-icon>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content" [ngClass]="{\'col-xs-9\': i.myTarget != null}">\n                                    <div class="card-logo">\n                                        <img [src]="i.logo" alt="" />\n                                        <h3>{{i.name}}\n                                            <span *ngIf="i.location"> - {{i.location}}</span>\n                                        </h3>\n                                        <h4>{{i.title}}</h4>\n                                    </div>\n                                </div>\n                                <div class="col-xs-3" *ngIf="i.myTarget != null">\n                                    <div class="position-relative rounded-progress-position">\n                                        <div class="" [@visibilityChanged]="i.isSlidActive">\n                                            <round-progress [current]="i.myTarget" [radius]="radius" [max]="max" [duration]="3000" [stroke]="4" [responsive]="responsive"\n                                                [clockwise]="clockwise">\n                                            </round-progress>\n                                            <h6>{{i.myTarget}}%</h6>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <!--Target Achieved-->\n                <div class="slider-holder-target app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" (click)="goToPage(data, id)"\n                    tappable *ngIf="i.targetStatus == \'A\'">\n                    <div class="row slider-holder-img -target-completed">\n                        <div class="user-target-card-holder">\n                            <div class="congratulations">\n                                <h3>{{ \'CONGRATULATIONS_TARGET_ACHIEVED\' | translate }}</h3>\n\n                                <h2>\n                                    <ion-icon name="icon-check"></ion-icon>\n                                </h2>\n                                <h6>\n                                    <ion-icon name="calendar"></ion-icon>\n                                    {{i.targetEndDateString}}\n                                    <span></span>\n                                    <ion-icon name="flag"></ion-icon>\n                                    {{i.points}} {{ languageConstants.POINTS | translate }}\n                                </h6>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content">\n                                    <div class="card-logo">\n                                        <img [src]="i.logo" alt="" />\n                                        <h3>{{i.name}}\n                                            <span *ngIf="i.location"> - {{i.location}}</span>\n                                        </h3>\n                                        <h4>{{i.title}}</h4>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <!--Target Expired-->\n                <div class="slider-holder-target app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" (click)="goToPage(data, id)"\n                    tappable *ngIf="i.targetStatus == \'E\'">\n\n                    <div class="row slider-holder-img -target-expired-image" [style.background-image]="\'url(\' + i.img + \')\'">\n                        <div class="user-target-card-holder">\n                            <div class="congratulations">\n                                <h3>Expired</h3>\n                                <h2>\n                                    <ion-icon name="close-circle"></ion-icon>\n                                </h2>\n                                <h6>\n                                    <ion-icon name="calendar"></ion-icon>\n                                    {{i.targetEndDateString}}\n                                    <span></span>\n                                    <ion-icon name="flag"></ion-icon>\n                                    {{i.points}} {{ languageConstants.POINTS | translate }}\n                                </h6>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content">\n                                    <div class="card-logo">\n                                        <img [src]="i.logo" alt="" />\n                                        <h3>{{i.name}}\n                                            <span *ngIf="i.location"> - {{i.location}}</span>\n                                        </h3>\n                                        <h4>{{i.title}}</h4>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <!--NOT OFFER BASED -->\n            <div *ngIf="i.offerId == 0">\n\n                <!--Target In Progress-->\n                <div class="slider-holder-target app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" (click)="goToPage(data, id)"\n                    tappable *ngIf="i.targetStatus == \'\' || i.targetStatus == \'I\'">\n                    <div class="row slider-holder-img personal-targets-item">\n                        <div class="round-progress-holder">\n                            <div class="_round-progress">\n                                <round-progress [current]="i.myTarget" [radius]="radius" [max]="max" [duration]="3000" [stroke]="4" [responsive]="responsive"\n                                    [clockwise]="clockwise">\n                                </round-progress>\n                                <h6>{{i.myTarget}}%</h6>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content">\n                                    <div class="card-logo -icon-user">\n                                        <ion-icon name="icon-user"></ion-icon>\n                                        <h3>{{i.title}}</h3>\n                                        <h4>{{i.targetEndDateString}}</h4>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n\n                <!--Target Achieved-->\n                <div class="slider-holder-target app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" (click)="goToPage(data, id)"\n                    tappable *ngIf="i.targetStatus == \'A\'">\n                    <div class="row slider-holder-img -target-completed">\n                        <div class="user-target-card-holder">\n                            <div class="congratulations">\n                                <h3>{{ \'CONGRATULATIONS_TARGET_ACHIEVED\' | translate }}</h3>\n\n                                <h2>\n                                    <ion-icon name="icon-check"></ion-icon>\n                                </h2>\n                                <h3>{{i.name}}</h3>\n                                <h6>\n                                    <ion-icon name="calendar"></ion-icon>\n                                    {{i.targetEndDateString}}\n                                    <span></span>\n                                    <ion-icon name="flag"></ion-icon>\n                                    {{i.points}} {{ languageConstants.POINTS | translate }}\n                                </h6>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content">\n                                    <div class="card-logo -icon-user">\n                                        <ion-icon name="icon-user"></ion-icon>\n                                        <h3>{{i.title}}</h3>\n                                        <h4>{{i.targetEndDateString}}</h4>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <!--Target Expired-->\n                <div class="slider-holder-target app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'" (click)="goToPage(data, id)"\n                    tappable *ngIf="i.targetStatus == \'E\'">\n                    <div class="row slider-holder-img -target-expired">\n                        <div class="user-target-card-holder">\n                            <div class="congratulations">\n                                <h3>{{ \'EXPIRED\' | translate }}</h3>\n                                <h2>\n                                    <ion-icon name="close-circle"></ion-icon>\n                                </h2>\n                                <h3>{{i.name}}</h3>\n                                <h6>\n                                    <ion-icon name="calendar"></ion-icon>\n                                    {{i.targetEndDateString}}\n                                    <span></span>\n                                    <ion-icon name="flag"></ion-icon>\n                                    {{i.points}} {{ languageConstants.POINTS | translate }}\n                                </h6>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row slider-holder-content">\n                        <div class="col-xs-12">\n                            <div class="row">\n                                <div class="strip-logo-content">\n                                    <div class="card-logo -icon-user">\n                                        <ion-icon name="icon-user"></ion-icon>\n                                        <h3>{{i.title}}</h3>\n                                        <h4>{{i.targetEndDateString}}</h4>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </ion-slide>\n    </div>\n</ion-slides>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\swiper\swiper.html"*/,
        animations: [
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_38" /* trigger */])('visibilityChanged', [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_35" /* state */])('true', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 1, transform: 'scale(1.0)' })),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_35" /* state */])('false', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0, transform: 'scale(0.0)', display: 'none' })),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('1 => 0', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])('300ms')),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('0 => 1', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])('900ms'))
            ])
        ],
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_23__constants_language_constants__["a" /* LanguageConstants */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_21_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_4__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_offer_utils__["a" /* OfferUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_target_utils__["a" /* TargetUtils */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_social_sharing_utils__["a" /* SocialSharingUtils */],
        __WEBPACK_IMPORTED_MODULE_15__utils_commons_globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_14__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_16__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_17__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_11__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_12__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_13__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["B" /* ElementRef */]])
], Swiper);

//# sourceMappingURL=swiper.js.map

/***/ }),

/***/ 1086:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginCardComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_commons_network_service__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var LoginCardComponent = (function () {
    function LoginCardComponent(navCtrl, modalCtrl, configUtils, clientUtils, events, translate, googleAnalyticsUtils, appConstants, networkService) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.configUtils = configUtils;
        this.clientUtils = clientUtils;
        this.events = events;
        this.translate = translate;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.networkService = networkService;
        this.loginCardImageURL = '';
        this.guestUserText = '';
        this.shouldShowEnrollment = false;
    }
    LoginCardComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.loginCardImageURL = _this.configUtils.getLoginCardImageURL();
            _this.guestUserText = _this.configUtils.getGuestUserText();
        });
        this.events.subscribe(this.appConstants.EVENT_APP_LANGUAGE_CHANGED, function () {
            _this.guestUserText = _this.configUtils.getGuestUserText();
        });
        this.loginCardImageURL = this.configUtils.getLoginCardImageURL();
        this.guestUserText = this.configUtils.getGuestUserText();
        this.shouldShowEnrollment = this.clientUtils.shouldShowEnrollment();
    };
    LoginCardComponent.prototype.openModal = function () {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.LOGIN_EVENT);
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__login_login__["a" /* LoginPage */]);
        modal.present();
    };
    LoginCardComponent.prototype.enrollUser = function () {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.USER_ENROLLMENT_EVENT);
        if (this.networkService.isOnline()) {
            if (this.shouldShowEnrollment == true) {
                this.events.publish(this.appConstants.EVENT_OPEN_ENROLLMENT_PAGE);
            }
            else {
                this.clientUtils.openExternalWebURL(this.configUtils.getEnrollmentLink());
            }
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    return LoginCardComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Object)
], LoginCardComponent.prototype, "data", void 0);
LoginCardComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'login-component',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\logincard\login.html"*/'<div class="headerCard login" [style.background-image]="\'url(\' + loginCardImageURL +\')\'">\n    <div class="row">\n        <div class="col-xs-12">\n            <h2>{{guestUserText}}</h2>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-xs-12">\n            <button class="button-clear button-clear-white-border login-button" (click)="openModal()">\n                {{ \'LOGIN\' | translate }}\n            </button>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-xs-12">\n            <button ion-button clear class="register-button" (click)="enrollUser()">\n                {{ \'NOT_MEMBER_ENROLL_HERE\' | translate }}\n            </button>\n        </div>\n    </div>\n</div>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\logincard\login.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_8__services_commons_network_service__["a" /* NetworkService */]])
], LoginCardComponent);

//# sourceMappingURL=login.js.map

/***/ }),

/***/ 1087:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PartnersCardComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__partners_list_partner_list__ = __webpack_require__(147);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__dto_partners_dto__ = __webpack_require__(110);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var PartnersCardComponent = (function () {
    function PartnersCardComponent(navCtrl, sessionUtils, googleAnalyticsUtils, appConstants) {
        this.navCtrl = navCtrl;
        this.sessionUtils = sessionUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
    }
    PartnersCardComponent.prototype.viewDetails = function () {
        this.sendGATrackPage();
        if (this.data && this.data.partnerCode) {
            var data = {
                offerId: null,
                parnterDetail: this.data
            };
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__partners_list_partner_list__["a" /* PartnersListPage */], data);
        }
    };
    PartnersCardComponent.prototype.sendGATrackPage = function () {
        if (this.sessionUtils.isUserLoggedIn()) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.FEATURED_PARTNER_EVENT);
        }
        else {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.FEATURED_PARTNER_EVENT);
        }
    };
    return PartnersCardComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_6__dto_partners_dto__["f" /* PartnerInfo */])
], PartnersCardComponent.prototype, "data", void 0);
PartnersCardComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'partners-card-component',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\partners\partners.html"*/'<div class="card-item">\n    <div class="row main-row" (click)="viewDetails()">\n        <div class="col-xs-3 img-max-65">\n\n            <div class="image-holder-logo">\n                <img [src]="data.partnerLogoPath" alt=""\n                     *ngIf="data.partnerLogoPath && data.partnerLogoPath.length > 0">\n                <img src="../assets/img/no_image.jpg" alt=""\n                     *ngIf="!data.partnerLogoPath || data.partnerLogoPath.length == 0">\n            </div>\n\n        </div>\n        <div class="col-xs-9">\n            <div class="row small-icon">\n                <div class="col-xs-12">\n                    <h3>{{data.description}}</h3>\n                </div>\n                <div class="col-xs-6" *ngIf="data.offersCount != 0">\n                    <ion-icon name="icon-offers"></ion-icon>\n                    {{data.offersCount}} {{ data.offersCount == 1 ? (\'OFFER\' | translate) : (\'OFFERS\' | translate) }}\n                </div>\n                <div class="col-xs-6">\n                    <ion-icon name="icon-location"></ion-icon>\n                    {{data.partnerLocationCount}} {{ data.partnerLocationCount == 1 ? (\'LOCATION\' | translate) : (\'LOCATIONS\' | translate) }}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\partners\partners.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__["a" /* AppConstants */]])
], PartnersCardComponent);

//# sourceMappingURL=partners.js.map

/***/ }),

/***/ 1088:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoggedInCardComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_language_constants__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__dto_account_dto__ = __webpack_require__(52);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var LoggedInCardComponent = (function () {
    function LoggedInCardComponent(navCtrl, languageConstants, events, translate, appConstants, clientUtils, configUtils, sessionUtils) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.languageConstants = languageConstants;
        this.events = events;
        this.translate = translate;
        this.appConstants = appConstants;
        this.clientUtils = clientUtils;
        this.configUtils = configUtils;
        this.sessionUtils = sessionUtils;
        this.expiryMessage = null;
        this.backgroundImageURL = '';
        this.shouldShowInfo = true;
        this.events.subscribe(this.appConstants.EVENT_APP_LANGUAGE_CHANGED, function () {
            _this.shouldShowInfo = false;
            _this.updateExpiryMessage();
            setTimeout(function () {
                _this.shouldShowInfo = true;
            }, 500);
        });
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.shouldShowInfo = false;
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
            setTimeout(function () {
                _this.shouldShowInfo = true;
            }, 500);
        });
        this.events.subscribe(this.appConstants.EVENT_USER_PROFILE_CHANGED, function () {
            _this.shouldShowInfo = false;
            _this.data = _this.sessionUtils.getMemberInfo();
            _this.updateExpiryMessage();
            setTimeout(function () {
                _this.shouldShowInfo = true;
            }, 500);
        });
    }
    LoggedInCardComponent.prototype.ngAfterViewInit = function () {
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
        this.updateExpiryMessage();
    };
    LoggedInCardComponent.prototype.updateExpiryMessage = function () {
        if (this.data &&
            (this.data.nextExpiryMiles != '0') &&
            (this.data.milesExpiryDiff > 0) &&
            this.data.milesExpiryDate) {
            var nextExpiryMiles = Number(this.data.nextExpiryMiles);
            this.expiryMessage = nextExpiryMiles.toLocaleString() + ' ' + this.translate.instant('POINTS_EXPIRING_ON') + ' ' +
                this.clientUtils.getFormattedDate('yMMMd', this.data.milesExpiryDate);
        }
        else {
            this.expiryMessage = null;
        }
    };
    return LoggedInCardComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_8__dto_account_dto__["f" /* MemberInfo */])
], LoggedInCardComponent.prototype, "data", void 0);
LoggedInCardComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'loggedin-component',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\loggedin\loggedin.html"*/'<div class="headerCard app-background-image"\n     [style.background-image]="\'url(\' + backgroundImageURL +\')\'">\n    <div class="row">\n        <div class="col-xs-7">\n            <h4>{{ languageConstants.POINTS | translate }}</h4>\n            <h3 *ngIf="shouldShowInfo === true">{{data.availableBalanceMiles | number}}</h3>\n            <h3 *ngIf="shouldShowInfo === false">&nbsp;</h3>\n        </div>\n        <div class="col-xs-5" *ngIf="data.tierDescr">\n            <h4>{{ languageConstants.LEVEL | translate }}</h4>\n            <h3 *ngIf="shouldShowInfo === true">{{data.tierDescr | translate }}</h3>\n            <h3 *ngIf="shouldShowInfo === false">&nbsp;</h3>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-xs-12">\n            <h6 *ngIf="shouldShowInfo === true">\n                <span *ngIf="expiryMessage">\n                {{ expiryMessage }}\n                </span>\n            </h6>\n            <h6 *ngIf="shouldShowInfo === false">&nbsp;</h6>\n        </div>\n    </div>\n</div>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\loggedin\loggedin.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_3__constants_language_constants__["a" /* LanguageConstants */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__["a" /* SessionUtils */]])
], LoggedInCardComponent);

//# sourceMappingURL=loggedin.js.map

/***/ }),

/***/ 1089:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ExpandableComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__partners_list_partner_list__ = __webpack_require__(147);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__dto_offers_dto__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__constants_language_constants__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__constants_app_constants__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var ExpandableComponent = (function () {
    function ExpandableComponent(navCtrl, modalCtrl, clientUtils, languageConstants, events, translate, mcfLoadService, offerUtils, targetUtils, sessionUtils, partnerUtils, configUtils, googleAnalyticsUtils, appConstants) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.clientUtils = clientUtils;
        this.languageConstants = languageConstants;
        this.events = events;
        this.translate = translate;
        this.mcfLoadService = mcfLoadService;
        this.offerUtils = offerUtils;
        this.targetUtils = targetUtils;
        this.sessionUtils = sessionUtils;
        this.partnerUtils = partnerUtils;
        this.configUtils = configUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.myTarget = null;
        this.memberInfo = null;
        this.radius = 20;
        this.max = 100;
        this.responsive = false;
        this.clockwise = true;
        this.showSpinner = false;
        this.showSpinnerTarget = false;
        this.backgroundImageURL = '';
        this.visible = false;
    }
    ExpandableComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
        });
        if (this.sessionUtils.isUserLoggedIn()) {
            if ((this.data.isTarget == 'Y') && (this.data.offerPoints > 0)) {
                this.memberInfo = this.sessionUtils.getMemberInfo();
                var percentValue = Math.round((this.memberInfo.availableBalanceMiles /
                    this.data.offerPoints) * 100);
                if (percentValue > 100) {
                    percentValue = 100;
                }
                this.myTarget = percentValue;
            }
        }
    };
    ExpandableComponent.prototype.ngAfterViewInit = function () {
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
    };
    ExpandableComponent.prototype.toggle = function () {
        this.visible = !this.visible;
    };
    ExpandableComponent.prototype.updateOfferAsFavourite = function (item) {
        var _this = this;
        //console.log(JSON.stringify(item));
        if (this.sessionUtils.isUserLoggedIn()) {
            this.showSpinner = true;
            var isFavorite_1 = (item.isFavorite === 'Y');
            this.offerUtils.setOfferAsFavourite(item.offerId, isFavorite_1, function (result) {
                _this.showSpinner = false;
                if (!isFavorite_1) {
                    item.isFavorite = 'Y';
                    _this.clientUtils.showToast(_this.translate.instant('THIS_OFFER_SUCCESSFULLY_SET_AS_FAVOURITE'));
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.OFFER_CARD, _this.appConstants.LIKE_OFFER_EVENT);
                }
                else {
                    item.isFavorite = 'N';
                    _this.clientUtils.showToast(_this.translate.instant('THIS_OFFER_IS_SUCCESSFULLY_REMOVED_FROM_YOUR_FAVOURITES'));
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.OFFER_CARD, _this.appConstants.UNLIKE_OFFER_EVENT);
                }
            }, function (error) {
                _this.showSpinner = false;
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showToast(msg);
            });
        }
        else {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    ExpandableComponent.prototype.updateOfferAsTarget = function (item) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            if (item.isTarget == 'N') {
                if (!this.targetUtils.isTargetLimitReached()) {
                    var memberInfo = this.sessionUtils.getMemberInfo();
                    if (item.offerPoints > memberInfo.availableBalanceMiles) {
                        //this.mcfLoadService.show('');
                        this.showSpinnerTarget = true;
                        this.targetUtils.setOfferAsTarget(item.offerId, function (result) {
                            //this.mcfLoadService.hide();
                            _this.showSpinnerTarget = false;
                            item.isTarget = 'Y';
                            _this.clientUtils.showToast(_this.translate.instant('YOUR_TARGET_SUCCESSFULLY_SAVED'));
                        }, function (error) {
                            //this.mcfLoadService.hide();
                            _this.showSpinnerTarget = false;
                            var msg = '';
                            if (error && error.message && (error.message.trim().length > 0)) {
                                msg = error.message.trim();
                            }
                            else {
                                msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                            }
                            _this.clientUtils.showToast(msg);
                        });
                    }
                    else {
                        var msg = this.translate.instant('YOU_HAVE_ALREADY_ACHIEVED') +
                            item.offerPoints + ' ' + this.translate.instant(this.languageConstants.POINTS) + '.';
                        this.clientUtils.showToast(msg);
                    }
                }
                else {
                    this.clientUtils.showToast(this.translate.instant('SET_TARGET_LIMIT_REACHED'));
                }
                this.googleAnalyticsUtils.trackEvent(this.appConstants.OFFER_CARD, this.appConstants.TARGET_OFFER_EVENT);
            }
        }
        else {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    ExpandableComponent.prototype.openLocation = function (obj) {
        var _this = this;
        if (obj.partnerCode) {
            this.mcfLoadService.show('');
            this.googleAnalyticsUtils.trackEvent(this.appConstants.OFFER_CARD, this.appConstants.OFFER_LOCATION_EVENT);
            this.partnerUtils.fetchPartnersByCode(obj.partnerCode, null, function (result) {
                _this.mcfLoadService.hide();
                var response = result.data;
                if (response && response.length) {
                    var data = {
                        offerId: obj.offerId,
                        parnterDetail: response[0]
                    };
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__partners_list_partner_list__["a" /* PartnersListPage */], data);
                }
                else {
                    var msg = _this.translate.instant('SEARCH_NO_PARTNER');
                    _this.clientUtils.showToast(msg);
                }
            }, function (error) {
                _this.mcfLoadService.hide();
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showToast(msg);
            });
        }
    };
    return ExpandableComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_12__dto_offers_dto__["a" /* OfferInfo */])
], ExpandableComponent.prototype, "data", void 0);
ExpandableComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'expandable-component',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\expandable\expandable.html"*/'<div class="expandable-card-holder app-background-image"\n     [style.background-image]="\'url(\' + backgroundImageURL +\')\'">\n    <div class="expandable-img-holder" (click)="toggle()">\n        <div class="row">\n            <img src="{{data.offerBannerPath}}" alt="">\n           <span class="badge-holder"\n                 *ngIf="data.earnBurnFlag"\n                 [ngClass]="{\'badge-earn\': data.earnBurnFlag == \'E\'}">\n                    <div class="ribbonz"> {{ (data.earnBurnFlag == \'E\' ? \'EARN\' : languageConstants.BURN) | translate }}</div>\n            </span>\n        </div>\n\n        <div class="special-offers"  *ngIf="data.special === \'Y\'">\n            <ion-icon name="star"></ion-icon>\n        </div>\n    </div>\n    <div class="expandable-strip-holder" (click)="toggle()">\n\n        <div class="row">\n            <div class="strip-logo-content" [ngClass]="{\'col-xs-9\': (data.isTarget === \'Y\') && (myTarget != null)}">\n                <div class="expandable-logo">\n                    <img [src]="data.partnerLogoPath" alt="" />\n                    <h3>{{data.partnerName}}\n                        <span *ngIf="data.partnerLoationCount == \'ALL\'">\n                            - {{ \'ALL_LOCATIONS\' | translate }}\n                        </span>\n                        <span *ngIf="data.partnerLoationCount && data.partnerLoationCount != \'ALL\' && data.partnerLoationCount != \'0\'">\n                            - {{data.partnerLoationCount}} {{ \'LOCATIONS\' | translate }}\n                        </span>\n                    </h3>\n                    <h4>{{data.offerName}}</h4>\n                </div>\n            </div>\n            <div class="col-xs-3" *ngIf="(data.isTarget === \'Y\') && (myTarget != null)">\n                <div class="position-relative rounded-progress-position">\n                    <round-progress [current]="myTarget"\n                                    [radius]="radius"\n                                    [max]="max"\n                                    [duration]="3000"\n                                    [stroke]="4"\n                                    [responsive]="responsive"\n                                    [clockwise]="clockwise">\n                    </round-progress>\n                    <h6>{{myTarget}}%</h6>\n                </div>\n            </div>\n        </div>\n\n    </div>\n    <div class="expandable-content-holder" *ngIf="visible" [@fadeInOut]>\n        <p class="in-app-browser-anchor" onclick="onInnerHTMLTap(event)" [innerHTML]="data.description"></p>\n    </div>\n    <div class="slider-holder-footer" *ngIf="visible" [@fadeInOut] >\n        <ul>\n            <li [ngClass]="{\'itemLiked\': data.isFavorite === \'Y\'}">\n                <a (click)="updateOfferAsFavourite(data)">\n                    <ion-icon name="icon-heart" *ngIf="!showSpinner"></ion-icon>\n                    <ion-spinner *ngIf="showSpinner"></ion-spinner>\n                </a>\n            </li>\n\n            <li *ngIf="data.earnBurnFlag != \'E\'"\n                [ngClass]="{\'itemLiked\': (data.isTarget === \'Y\')}">\n                <a (click)="updateOfferAsTarget(data)">\n                    <ion-icon name="icon-flag" *ngIf="!showSpinnerTarget"></ion-icon>\n                    <ion-spinner *ngIf="showSpinnerTarget"></ion-spinner>\n                </a>\n            </li>\n            <li *ngIf="data.partnerCode">\n                <a (click)="openLocation(data)">\n                    <ion-icon name="icon-navigation"></ion-icon>\n                </a>\n            </li>\n        </ul>\n\n    </div>\n</div>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\expandable\expandable.html"*/,
        animations: [
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_38" /* trigger */])('fadeInOut', [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('void => *', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0 }),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(600, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 1 }))
                ]),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('* => void', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(300, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0 }))
                ])
            ])
        ]
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_14__constants_language_constants__["a" /* LanguageConstants */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_13_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_2__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_offer_utils__["a" /* OfferUtils */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_target_utils__["a" /* TargetUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_15__constants_app_constants__["a" /* AppConstants */]])
], ExpandableComponent);

//# sourceMappingURL=expandable.js.map

/***/ }),

/***/ 109:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WalletUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_account_dto__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_commons_file_service__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_ng2_translate__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/5/17.
 */











var WalletUtils = (function () {
    function WalletUtils(events, translate, sessionUtils, fileService, dataAccessService, appConstants, serviceConstants) {
        this.events = events;
        this.translate = translate;
        this.sessionUtils = sessionUtils;
        this.fileService = fileService;
        this.dataAccessService = dataAccessService;
        this.appConstants = appConstants;
        this.serviceConstants = serviceConstants;
    }
    WalletUtils.prototype.getWalletContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.virtualCards;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    WalletUtils.prototype.saveWalletContext = function (contextObj) {
        console.log("Wallet  : " + JSON.stringify(contextObj));
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.virtualCards = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    WalletUtils.prototype.cleaWalletContext = function () {
        var contextObj = new Array();
        this.saveWalletContext(contextObj);
    };
    WalletUtils.prototype.getQRCodeContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.qrCodes;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    WalletUtils.prototype.saveQRCodeContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.qrCodes = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    WalletUtils.prototype.cleaQRCodeContext = function () {
        var contextObj = new Array();
        this.saveQRCodeContext(contextObj);
    };
    WalletUtils.prototype.fetchWalletData = function (successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var requestData = new __WEBPACK_IMPORTED_MODULE_2__dto_account_dto__["n" /* VirtualCardInfo */]();
            requestData.cardNumber = memberInfo.activeCardNo;
            requestData.tierCode = memberInfo.tier;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_7__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_WALLET, this.serviceConstants.WALLET_SERVICE_NAME_VIRTUAL_CARD, requestData);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var shouldPublishEvent = false;
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_2__dto_account_dto__["o" /* VirtualCardResponse */]();
                    response.data = [];
                }
                else if (response.data && response.data.length > 0) {
                    var oldData = _this.getWalletContext();
                    if (oldData && oldData.length > 0) {
                        var oldCardInfo = oldData[0];
                        var cardInfo = response.data[0];
                        shouldPublishEvent = ((_this.frontCardImageURL(oldCardInfo) != _this.frontCardImageURL(cardInfo)) ||
                            (oldCardInfo.cardBackUrl != cardInfo.cardBackUrl));
                    }
                    else {
                        shouldPublishEvent = true;
                    }
                }
                if (shouldPublishEvent === true) {
                    _this.saveWalletContext(response.data);
                    _this.events.publish(_this.appConstants.EVENT_WALLET_INFO_CHANGED);
                }
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = this.translate.instant('YOU_ARE_NOT_LOGGED_IN');
                errorCallback(error);
            }
        }
    };
    WalletUtils.prototype.fetchQRCodeData = function (successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var requestData = new __WEBPACK_IMPORTED_MODULE_2__dto_account_dto__["j" /* QRCodeInfo */]();
            requestData.memberUid = memberInfo.memUID;
            requestData.cardNumber = memberInfo.activeCardNo;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_7__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_WALLET, this.serviceConstants.WALLET_SERVICE_NAME_QR_CODE, requestData);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_2__dto_account_dto__["k" /* QRCodeResponse */]();
                    response.data = [];
                }
                _this.saveQRCode(response.data, function (isSaved) {
                    if (isSaved) {
                        if (successCallback) {
                            successCallback(response);
                        }
                    }
                    else {
                        if (errorCallback) {
                            var error = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["j" /* ServiceErrorInfo */]();
                            error.message = _this.translate.instant('INVALID_QR_CODE');
                            errorCallback(error);
                        }
                    }
                });
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = this.translate.instant('YOU_ARE_NOT_LOGGED_IN');
                errorCallback(error);
            }
        }
    };
    WalletUtils.prototype.saveQRCode = function (qrCodeData, callback) {
        var _this = this;
        if (qrCodeData && (qrCodeData.length > 0)) {
            var qrCodeAsByte = qrCodeData[0].qrCodeAsByte;
            if (qrCodeAsByte && (qrCodeAsByte.length > 0)) {
                var base64String = 'data:image/jpg;base64,' + qrCodeAsByte;
                var base64Blob = this.base64toBlob(base64String);
                if (base64Blob) {
                    this.fileService.writeFile(base64Blob, this.appConstants.WALLET_QR_CODE_IMAGE, false, function (result) {
                        if (result != true) {
                            _this.saveQRCodeContext(qrCodeData);
                        }
                        callback(true);
                    });
                }
                else {
                    this.saveQRCodeContext(qrCodeData);
                    callback(true);
                }
            }
            else {
                callback(false);
            }
        }
        else {
            callback(false);
        }
    };
    WalletUtils.prototype.base64toBlob = function (imageData) {
        var byteString = '';
        var dataURIArray = imageData.split(',');
        if (dataURIArray[0].indexOf('base64') >= 0) {
            byteString = atob(dataURIArray[1]);
        }
        else {
            byteString = decodeURI(dataURIArray[1]);
        }
        var mimeString = dataURIArray[0].split(':')[1].split(';')[0];
        var ia = new Uint8Array(byteString.length);
        for (var i = 0; i < byteString.length; i++) {
            ia[i] = byteString.charCodeAt(i);
        }
        var fileAfter = new Blob([ia], { type: mimeString });
        return fileAfter;
    };
    WalletUtils.prototype.frontCardImageURL = function (cardInfo) {
        var cardFrontUrl = cardInfo.cardFrontUrl;
        if (cardFrontUrl) {
            if (cardInfo.isUsable == 'Y') {
                var extension = cardFrontUrl.split('.').pop();
                if (extension && extension.length > 0) {
                    var searchString = '.' + extension;
                    var replaceString = this.appConstants.WALLET_CARD_FRONT_MASTER_IMAGE_NAME + '.' + extension;
                    cardFrontUrl = cardFrontUrl.replace(searchString, replaceString);
                }
            }
            var memberInfo = this.sessionUtils.getMemberInfo();
            if (memberInfo.tier === 'MIN') {
                var suffix = (memberInfo.gender === 'F') ? '-F' : '-M';
                var extension = cardFrontUrl.split('.').pop();
                if (extension && extension.length > 0) {
                    var searchString = '.' + extension;
                    var replaceString = suffix + '.' + extension;
                    cardFrontUrl = cardFrontUrl.replace(searchString, replaceString);
                }
            }
        }
        return cardFrontUrl;
    };
    WalletUtils.prototype.removeWalletImages = function () {
        var _this = this;
        this.fileService.removeFile(this.appConstants.WALLET_CARD_FRONT_IMAGE, false, function (result1) {
            _this.fileService.removeFile(_this.appConstants.WALLET_CARD_BACK_IMAGE, false, function (result2) {
                _this.fileService.removeFile(_this.appConstants.WALLET_QR_CODE_IMAGE, false, null);
            });
        });
    };
    WalletUtils.prototype.hasVirtualCardData = function () {
        var virtualCards = this.getWalletContext();
        return (virtualCards && (virtualCards.length > 0));
    };
    return WalletUtils;
}());
WalletUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_10_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_4__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_5__services_commons_file_service__["a" /* FileService */],
        __WEBPACK_IMPORTED_MODULE_6__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_8__constants_service_constants__["a" /* ServiceConstants */]])
], WalletUtils);

//# sourceMappingURL=wallet.utils.js.map

/***/ }),

/***/ 1090:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ExpandableLocationComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_social_sharing_utils__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__services_commons_service_loading__ = __webpack_require__(29);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var ExpandableLocationComponent = (function () {
    function ExpandableLocationComponent(navCtrl, navParams, modalCtrl, events, translate, serviceConstants, mcfLoadService, partnerUtils, socialShare, sessionUtils, globalizationUtils, clientUtils, configUtils, googleAnalyticsUtils, appConstants) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.events = events;
        this.translate = translate;
        this.serviceConstants = serviceConstants;
        this.mcfLoadService = mcfLoadService;
        this.partnerUtils = partnerUtils;
        this.socialShare = socialShare;
        this.sessionUtils = sessionUtils;
        this.globalizationUtils = globalizationUtils;
        this.clientUtils = clientUtils;
        this.configUtils = configUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.visible = false;
        this.showSpinner = false;
        this.shouldHideCheckin = false;
        this.shouldHideSocialShare = false;
        this.backgroundImageURL = '';
    }
    ExpandableLocationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
        });
        this.shouldHideCheckin = this.clientUtils.shouldHideCheckin();
        this.shouldHideSocialShare = this.clientUtils.shouldHideSocialSharing();
    };
    ExpandableLocationComponent.prototype.ngAfterViewInit = function () {
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
    };
    ExpandableLocationComponent.prototype.toggle = function () {
        this.visible = !this.visible;
    };
    ExpandableLocationComponent.prototype.openLocation = function (obj) {
        if (obj.latitude && obj.longitude) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.PARTNER_LOCATION_CARD, this.appConstants.PARTNER_LOCATION_EVENT);
            var urlQuery = obj.latitude + "," + obj.longitude;
            if (obj.storeName) {
                urlQuery = urlQuery + '(' + obj.storeName + ')';
            }
            this.clientUtils.openMapURL(urlQuery);
        }
    };
    ExpandableLocationComponent.prototype.checkIn = function (item) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.PARTNER_LOCATION_CARD, this.appConstants.CHECKIN_LOCATION_EVENT);
            if (item.isCheckedIn != true && this.partnerUtils.shouldCheckin(item.lastCheckinTime)) {
                this.mcfLoadService.show('');
                this.partnerUtils.locationCheckIn(item.addressId, function (result) {
                    item.isCheckedIn = true;
                    var code = '';
                    var langCode = _this.globalizationUtils.getAppLanguage();
                    if (langCode === _this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
                        code = _this.serviceConstants.SHR_CHKIN_EN;
                    }
                    else if (langCode === _this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
                        code = _this.serviceConstants.SHR_CHKIN_ES;
                    }
                    if (_this.shouldHideSocialShare == false) {
                        _this.getShareMessage(code, item.storeName);
                    }
                }, function (error) {
                    _this.mcfLoadService.hide();
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showToast(msg);
                });
            }
            else {
                item.isCheckedIn = true;
                var msg = this.translate.instant('YOUR_ALREADY_CHECKED_IN');
                this.clientUtils.showToast(msg);
            }
        }
        else {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_5__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    ExpandableLocationComponent.prototype.getShareMessage = function (code, storeName) {
        var _this = this;
        var requestData = new __WEBPACK_IMPORTED_MODULE_13__dto_common_dto__["g" /* MessageInfo */]();
        requestData.code = code;
        this.socialShare.generateShareMessage(requestData, function (result) {
            _this.mcfLoadService.hide();
            var message = '';
            var subject = '';
            if (result && !_this.clientUtils.isNullOrEmpty(result.data)) {
                message = result.data[0].content + storeName;
                subject = result.data[0].msgSubject;
            }
            else {
                message = storeName;
            }
            var options = {
                message: message,
                subject: subject
            };
            _this.socialShare.share(options);
        }, function (error) {
            _this.mcfLoadService.hide();
            var options = {
                message: storeName,
                subject: ''
            };
            _this.socialShare.share(options);
        });
    };
    ExpandableLocationComponent.prototype.liked = function (item) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            this.showSpinner = true;
            var isFavorite_1 = (item.isFavorite == 'Y');
            this.partnerUtils.setLocationAsFavourite(item.addressId, isFavorite_1, function (result) {
                _this.showSpinner = false;
                if (!isFavorite_1) {
                    item.isFavorite = 'Y';
                    var msg = _this.translate.instant('THIS_LOCATION_SUCCESSFULLY_SET_AS_FAVOURITE');
                    _this.clientUtils.showToast(msg);
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.PARTNER_LOCATION_CARD, _this.appConstants.LIKE_LOCATION_EVENT);
                }
                else {
                    item.isFavorite = 'N';
                    var msg = _this.translate.instant('THIS_LOCATION_SUCCESSFULLY_REMOVED_FROM_YOUR_FAVOURITES');
                    _this.clientUtils.showToast(msg);
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.PARTNER_LOCATION_CARD, _this.appConstants.UNLIKE_LOCATION_EVENT);
                }
            }, function (error) {
                _this.showSpinner = false;
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showToast(msg);
            });
        }
        else {
            this.showSpinner = false;
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_5__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    return ExpandableLocationComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Object)
], ExpandableLocationComponent.prototype, "data", void 0);
ExpandableLocationComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'expandable-location-component',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\expandable-location\expandable-location.html"*/'<div class="expandable-card-holder app-background-image"\n     [style.background-image]="\'url(\' + backgroundImageURL +\')\'">\n    <div class="expandable-img-holder" (click)="toggle()">\n        <img src="{{data.imagePath}}" alt="">\n    </div>\n    <div class="expandable-strip-holder" (click)="toggle()">\n        <div class="row">\n            <div class="strip-logo-content col-xs-12">\n                <div class="expandable-logo">\n                    <img [src]="data.partnerLogoPath" alt=""/>\n                    <h3>\n                        {{data.partnerName}}<span *ngIf="data.storeName"> - {{data.storeName}}</span>\n                    </h3>\n                    <h4>\n                        <span>{{data.numberOfOffers}}</span> {{ \'OFFERS\' | translate }} &nbsp; &nbsp;\n                        <span>{{data.distance | number}}</span> {{ \'KM\' | translate }} {{ \'APPROX\' | translate }}\n                    </h4>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="expandable-content-holder" *ngIf="visible" [@fadeInOut]>\n        <p class="in-app-browser-anchor" onclick="onInnerHTMLTap(event)" [innerHTML]="data.addressDescription"></p>\n    </div>\n    <div class="slider-holder-footer" *ngIf="visible" [@fadeInOut]>\n        <ul>\n\n            <li [ngClass]="{\'itemLiked\': data.isFavorite == \'Y\'}">\n                <a (click)="liked(data)">\n                    <ion-icon name="icon-heart" *ngIf="!showSpinner"></ion-icon>\n                    <ion-spinner *ngIf="showSpinner"></ion-spinner>\n                </a>\n            </li>\n\n            <li [ngClass]="{\'itemLiked\': data.isCheckedIn}"\n                *ngIf="data.addressId && !shouldHideCheckin">\n                <a (click)="checkIn(data)">\n                    <ion-icon name="icon-check"></ion-icon>\n                </a>\n            </li>\n\n            <li *ngIf="data.latitude && data.longitude">\n                <a (click)="openLocation(data)">\n                    <ion-icon name="icon-navigation"></ion-icon>\n                </a>\n            </li>\n        </ul>\n\n    </div>\n</div>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\expandable-location\expandable-location.html"*/,
        animations: [
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_38" /* trigger */])('fadeInOut', [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('void => *', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0 }),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(600, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 1 }))
                ]),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('* => void', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(300, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0 }))
                ])
            ])
        ]
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_8__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_14__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_social_sharing_utils__["a" /* SocialSharingUtils */],
        __WEBPACK_IMPORTED_MODULE_11__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_12__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__["a" /* AppConstants */]])
], ExpandableLocationComponent);

//# sourceMappingURL=expandable-location.js.map

/***/ }),

/***/ 1091:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VirtualCardComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_commons_file_service__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_wallet_utils__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_client_utils__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var VirtualCardComponent = (function () {
    function VirtualCardComponent(navCtrl, navParams, events, ngZone, appConstants, fileService, configUtils, walletUtils, sessionUtils, clientUtils) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.events = events;
        this.ngZone = ngZone;
        this.appConstants = appConstants;
        this.fileService = fileService;
        this.configUtils = configUtils;
        this.walletUtils = walletUtils;
        this.sessionUtils = sessionUtils;
        this.clientUtils = clientUtils;
        this.isFrontVisible = false;
        this.changeIsFrontVisible = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* EventEmitter */]();
        this.data = null;
        this.memberInfo = null;
        this.cardFront = null;
        this.cardBack = null;
        this.shouldDisplayIndicator = false;
        this.shouldDisplayCard = false;
        this.cardExpiryDate = null;
    }
    VirtualCardComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.tenantCode = this.clientUtils.getTenantCode();
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.updateDisplayExpiryDateStatus();
        });
        this.events.subscribe(this.appConstants.EVENT_WALLET_INFO_CHANGED, function () {
            if (_this.walletUtils.hasVirtualCardData()) {
                var data = _this.walletUtils.getWalletContext()[0];
                if (_this.data &&
                    ((_this.data.cardFrontUrl != data.cardFrontUrl) || (_this.data.cardBackUrl != data.cardBackUrl))) {
                    _this.cardFront = null;
                    _this.cardBack = null;
                    _this.shouldDisplayCard = false;
                    _this.toggleFrontCardVisibility(false);
                }
                _this.data = data;
                _this.downloadCardFrontImage();
                _this.downloadCardBackImage();
            }
        });
        this.events.subscribe(this.appConstants.EVENT_LOGIN_STATUS_CHANGED, function () {
            _this.memberInfo = _this.sessionUtils.getMemberInfo();
            if (_this.sessionUtils.isUserLoggedIn()) {
                _this.updateDisplayExpiryDateStatus();
            }
            else {
                _this.data = null;
                _this.cardFront = null;
                _this.cardBack = null;
                _this.shouldDisplayCard = false;
                _this.toggleFrontCardVisibility(false);
            }
        });
        this.events.subscribe(this.appConstants.EVENT_USER_PROFILE_CHANGED, function () {
            _this.memberInfo = _this.sessionUtils.getMemberInfo();
            _this.updateDisplayExpiryDateStatus();
        });
    };
    VirtualCardComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.memberInfo = this.sessionUtils.getMemberInfo();
        this.updateDisplayExpiryDateStatus();
        if (this.walletUtils.hasVirtualCardData()) {
            this.data = this.walletUtils.getWalletContext()[0];
            this.fileService.isFileExists(this.appConstants.WALLET_CARD_FRONT_IMAGE, false, function () {
                _this.fileService.dataURL(_this.appConstants.WALLET_CARD_FRONT_IMAGE, false)
                    .then(function (result) {
                    if (result) {
                        _this.ngZone.run(function () {
                            _this.cardFront = result;
                            _this.shouldDisplayCard = true;
                        });
                    }
                });
            }, function (error) {
                if (error && (error.code === _this.fileService.FILE_NOT_SUPPORT_ERROR_CODE)) {
                    _this.cardFront = _this.walletUtils.frontCardImageURL(_this.data);
                    _this.shouldDisplayCard = true;
                }
                else {
                    _this.downloadCardFrontImage();
                }
            });
            this.fileService.isFileExists(this.appConstants.WALLET_CARD_BACK_IMAGE, false, function () {
                _this.fileService.dataURL(_this.appConstants.WALLET_CARD_BACK_IMAGE, false)
                    .then(function (result) {
                    if (result) {
                        _this.cardBack = result;
                    }
                });
            }, function (error) {
                if (error && (error.code === _this.fileService.FILE_NOT_SUPPORT_ERROR_CODE)) {
                    _this.cardBack = _this.data.cardBackUrl;
                }
                else {
                    _this.downloadCardBackImage();
                }
            });
        }
    };
    VirtualCardComponent.prototype.swipeEvent = function (e) {
        if ((this.shouldDisplayCard == true) && this.cardFront && this.cardBack) {
            this.toggleFrontCardVisibility(!this.isFrontVisible);
        }
    };
    VirtualCardComponent.prototype.toggleFrontCardVisibility = function (value) {
        this.isFrontVisible = value;
        if (this.changeIsFrontVisible) {
            this.changeIsFrontVisible.emit(value);
        }
    };
    VirtualCardComponent.prototype.downloadCardFrontImage = function () {
        var _this = this;
        var cardFrontUrl = this.walletUtils.frontCardImageURL(this.data);
        if (cardFrontUrl && (cardFrontUrl.length > 0)) {
            this.shouldDisplayIndicator = true;
            this.fileService.downloadFile(cardFrontUrl, this.appConstants.WALLET_CARD_FRONT_IMAGE, false, function (result) {
                _this.fileService.dataURL(_this.appConstants.WALLET_CARD_FRONT_IMAGE, false)
                    .then(function (result) {
                    if (result) {
                        _this.ngZone.run(function () {
                            _this.cardFront = result;
                            _this.shouldDisplayCard = true;
                        });
                    }
                });
                _this.shouldDisplayIndicator = false;
            }, function (error) {
                console.log('Download card front image error:\n' + JSON.stringify(error));
                if (error && (error.code === _this.fileService.FILE_NOT_SUPPORT_ERROR_CODE)) {
                    _this.cardFront = cardFrontUrl;
                    _this.shouldDisplayCard = true;
                }
                _this.shouldDisplayIndicator = false;
            });
        }
    };
    VirtualCardComponent.prototype.downloadCardBackImage = function () {
        var _this = this;
        var cardBackUrl = this.data.cardBackUrl;
        if (cardBackUrl && (cardBackUrl.length > 0)) {
            this.fileService.downloadFile(cardBackUrl, this.appConstants.WALLET_CARD_BACK_IMAGE, false, function (result) {
                _this.fileService.dataURL(_this.appConstants.WALLET_CARD_BACK_IMAGE, false)
                    .then(function (result) {
                    if (result) {
                        _this.cardBack = result;
                    }
                });
            }, function (error) {
                console.log('Download card back image error:\n' + JSON.stringify(error));
                if (error && (error.code === _this.fileService.FILE_NOT_SUPPORT_ERROR_CODE)) {
                    _this.cardBack = cardBackUrl;
                }
            });
        }
    };
    VirtualCardComponent.prototype.updateDisplayExpiryDateStatus = function () {
        var shouldDisplayDate = true;
        var tierCode = this.memberInfo.tier;
        if (!this.configUtils.getFlagToHideExpiryDate()) {
            if (!this.clientUtils.isNullOrEmpty(tierCode)) {
                var configTiers = this.configUtils.getTiersToHideExpiryDate();
                for (var index = 0; index < configTiers.length; index++) {
                    if (tierCode.toUpperCase() == configTiers[index].toUpperCase()) {
                        shouldDisplayDate = false;
                        break;
                    }
                }
            }
        }
        else {
            shouldDisplayDate = false;
        }
        // this.memberInfo.cardExpiryDate = "";
        this.cardExpiryDate = (shouldDisplayDate === true) ? this.memberInfo.cardExpiryDate : null;
    };
    return VirtualCardComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Boolean)
], VirtualCardComponent.prototype, "isFrontVisible", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["W" /* Output */])(),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* EventEmitter */])
], VirtualCardComponent.prototype, "changeIsFrontVisible", void 0);
VirtualCardComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'virtual-card-component',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\virtual-card\virtual-card.html"*/'<div class="flip-container" [ngClass]="{\'flip\':  isFrontVisible }" *ngIf="data">\n\n    <div class="spinner-holder-virtual-card" *ngIf="shouldDisplayIndicator == true">\n        <ion-spinner ></ion-spinner>\n    </div>\n\n    <div class="flipper" *ngIf="shouldDisplayCard == true">\n        <div class="card-holder-wallet">\n            <div class="front" (pan)="swipeEvent($event)">\n                <img [src]="cardFront" class="front-card-img"/>\n                <div class="front-card-details virtual-card-style-PAL">\n                    <div class="row">\n                        <div class="col-xs-12">\n                            <h3>\n                                {{memberInfo.preferredCardName}}\n                            </h3>\n                        </div>\n\n                        <div class="col-xs-5" *ngIf="memberInfo.activeCardNo">\n                            <h3>\n                                {{memberInfo.activeCardNo}}\n                            </h3>\n                        </div>\n                        <div class="col-xs-7" *ngIf="cardExpiryDate">\n                            <h3 class="valid-thru">\n                                Valid Thru {{cardExpiryDate | date: \'MMM yyyy\'}}\n                            </h3>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="back" *ngIf="cardBack" (pan)="swipeEvent($event)">\n                <img [src]="cardBack" class="front-card-img"/>\n            </div>\n        </div>\n    </div>\n</div>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\virtual-card\virtual-card.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["T" /* NgZone */],
        __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2__services_commons_file_service__["a" /* FileService */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_wallet_utils__["a" /* WalletUtils */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_client_utils__["a" /* ClientUtils */]])
], VirtualCardComponent);

//# sourceMappingURL=virtual-card.js.map

/***/ }),

/***/ 1092:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PersonalTargetComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_language_constants__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var PersonalTargetComponent = (function () {
    function PersonalTargetComponent(navCtrl, navParams, viewController, languageConstants, translate, mcfLoadService, googleAnalyticsUtils, appConstants, clientUtils, targetUtils) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewController = viewController;
        this.languageConstants = languageConstants;
        this.translate = translate;
        this.mcfLoadService = mcfLoadService;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.clientUtils = clientUtils;
        this.targetUtils = targetUtils;
        this.current = 90;
        this.radius = 20;
        this.max = 100;
        this.responsive = false;
        this.clockwise = true;
        this.personalTargetList = [];
        this.dataObj = navParams.get('data');
    }
    PersonalTargetComponent.prototype.ngOnInit = function () {
        if (!this.clientUtils.isNullOrEmpty(this.personalTargetData)) {
            this.personalTargetList = this.personalTargetData;
        }
    };
    PersonalTargetComponent.prototype.dismiss = function () {
        this.viewController.dismiss();
    };
    /**
     * This will delete items in users personal targets
     * @param index
     */
    PersonalTargetComponent.prototype.delete = function (targetObj) {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.TERGET_CARD, this.appConstants.DROP_TARGETS_EVENT);
        this.mcfLoadService.show('');
        this.targetUtils.deleteTarget(targetObj, function (result) {
            _this.mcfLoadService.hide();
            if (_this.personalTargetList.length > 1) {
                _this.personalTargetList.splice(_this.personalTargetList.indexOf(targetObj), 1);
            }
            else if (_this.navCtrl) {
                _this.navCtrl.pop();
            }
        }, function (error) {
            _this.mcfLoadService.hide();
            var msg = '';
            if (error && error.message && (error.message.trim().length > 0)) {
                msg = error.message.trim();
            }
            else {
                msg = _this.translate.instant('SOMETHING_WENT_WRONG');
            }
            _this.clientUtils.showToast(msg);
        });
    };
    return PersonalTargetComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Array)
], PersonalTargetComponent.prototype, "personalTargetData", void 0);
PersonalTargetComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\personal-target\personal-target.html"*/'<div class="personal-targets-block">\n\n    <h3>{{ \'PERSONAL_GOALS\' | translate }}</h3>\n    \n    <div class="personal-targets-holder">\n    <ul>\n        <li *ngFor="let i of personalTargetList">\n            <div class="round-bar-holder">\n                <div class="position-relative">\n                    <round-progress\n                            [current]="i.myTarget"\n                            [radius]="radius"\n                            [max]="max"\n                            [duration]="3000"\n                            [stroke]="4"\n                            [responsive]="responsive"\n                            [clockwise]="clockwise">\n                    </round-progress>\n                    <h6>{{i.myTarget}}%</h6>\n                </div>\n            </div>\n            <div class="target-text-holder">\n                <h4>{{i.title}}</h4>\n                <h5>{{i.targetEndDateString}} <span>{{i.points | number}} {{ languageConstants.POINTS | translate }}</span></h5>\n            </div>\n            <div class="ellipsis-holder">\n                <button ion-button icon-only color="transparent" (click)="delete(i)">\n                    <ion-icon name="icon-delete"></ion-icon>\n                </button>\n            </div>\n        </li>\n    </ul>\n    </div>\n</div>\n\n\n\n\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\personal-target\personal-target.html"*/,
        selector: 'component-personal-target',
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_6__constants_language_constants__["a" /* LanguageConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_5__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_target_utils__["a" /* TargetUtils */]])
], PersonalTargetComponent);

//# sourceMappingURL=personal-target.js.map

/***/ }),

/***/ 1093:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PersonalTargetListComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_social_sharing_utils__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__partners_list_partner_list__ = __webpack_require__(147);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__constants_language_constants__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__dto_goal_dto__ = __webpack_require__(309);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__utils_commons_google_analytics_utils__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



















var PersonalTargetListComponent = (function () {
    function PersonalTargetListComponent(navCtrl, modalCtrl, languageConstants, clientUtils, events, mcfLoadService, offerUtils, sessionUtils, partnerUtils, configUtils, socialShare, serviceConstants, appConstants, translate, googleAnalyticsUtils, globalizationUtils) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.languageConstants = languageConstants;
        this.clientUtils = clientUtils;
        this.events = events;
        this.mcfLoadService = mcfLoadService;
        this.offerUtils = offerUtils;
        this.sessionUtils = sessionUtils;
        this.partnerUtils = partnerUtils;
        this.configUtils = configUtils;
        this.socialShare = socialShare;
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.translate = translate;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.globalizationUtils = globalizationUtils;
        this.visible = false;
        this.radius = 30;
        this.max = 100;
        this.responsive = false;
        this.clockwise = true;
        this.targetShareRequestTag = '';
        this.showSpinnerFavourite = false;
        this.targetEndDateString = '';
        this.shouldHideSocialShare = false;
        this.backgroundImageURL = '';
    }
    PersonalTargetListComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
        });
        // console.log('PersonalTargetListComponent '+JSON.stringify(this.data));
        this.shouldHideSocialShare = this.clientUtils.shouldHideSocialSharing();
        this.getTargetShareCode();
    };
    PersonalTargetListComponent.prototype.ngAfterViewInit = function () {
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
        this.targetEndDateString = this.clientUtils.getFormattedDate('yMMMd', this.data.targetEndDate);
    };
    PersonalTargetListComponent.prototype.toggle = function () {
        this.visible = !this.visible;
    };
    PersonalTargetListComponent.prototype.updateOfferAsFavourite = function (item) {
        var _this = this;
        // console.log(item.isFavourite);
        if (this.sessionUtils.isUserLoggedIn()) {
            var isFavorite_1 = (item.isFavorite == 'Y');
            this.showSpinnerFavourite = true;
            this.offerUtils.setOfferAsFavourite(item.offerId, isFavorite_1, function (result) {
                item.isFavorite = isFavorite_1 ? 'N' : 'Y';
                _this.showSpinnerFavourite = false;
                if (!isFavorite_1) {
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.TERGET_CARD, _this.appConstants.LIKE_OFFER_EVENT);
                    var msg = _this.translate.instant('THIS_TARGET_SUCCESSFULLY_SET_AS_FAVOURITE');
                    _this.clientUtils.showToast(msg);
                }
                else {
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.TERGET_CARD, _this.appConstants.UNLIKE_OFFER_EVENT);
                    var msg = _this.translate.instant('THIS_TARGET_SUCCESSFULLY_REMOVED_FROM_YOUR_FAVOURITES');
                    _this.clientUtils.showToast(msg);
                }
            }, function (error) {
                _this.showSpinnerFavourite = false;
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showToast(msg);
            });
        }
        else {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_4__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    PersonalTargetListComponent.prototype.openShareModal = function (code, storeName) {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.TERGET_CARD, this.appConstants.SHARE_TARGET_EVENT);
        this.mcfLoadService.show('');
        var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_common_dto__["g" /* MessageInfo */]();
        requestData.code = code;
        this.socialShare.generateShareMessage(requestData, function (result) {
            _this.mcfLoadService.hide();
            var message = '';
            var subject = '';
            if (result && !_this.clientUtils.isNullOrEmpty(result.data)) {
                message = result.data[0].content + storeName;
                subject = result.data[0].msgSubject;
            }
            else {
                message = storeName;
            }
            var options = {
                message: message,
                subject: subject
            };
            _this.socialShare.share(options);
        }, function (error) {
            _this.mcfLoadService.hide();
            var options = {
                message: storeName,
                subject: ''
            };
            _this.socialShare.share(options);
        });
    };
    PersonalTargetListComponent.prototype.openLocation = function (obj) {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.TERGET_CARD, this.appConstants.OFFER_LOCATION_EVENT);
        if (obj.partnerCode) {
            this.mcfLoadService.show('');
            this.partnerUtils.fetchPartnersByCode(obj.partnerCode, null, function (result) {
                _this.mcfLoadService.hide();
                var response = result.data;
                if (response && response.length) {
                    var data = {
                        offerId: obj.offerId,
                        parnterDetail: response[0]
                    };
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__partners_list_partner_list__["a" /* PartnersListPage */], data);
                }
                else {
                    var msg = _this.translate.instant('SEARCH_NO_PARTNER');
                    _this.clientUtils.showToast(msg);
                }
            }, function (error) {
                _this.mcfLoadService.hide();
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showToast(msg);
            });
        }
    };
    PersonalTargetListComponent.prototype.getTargetShareCode = function () {
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            this.targetShareRequestTag = this.serviceConstants.SHR_TRGT_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            this.targetShareRequestTag = this.serviceConstants.SHR_TRGT_ES;
        }
    };
    return PersonalTargetListComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_16__dto_goal_dto__["a" /* GoalInfo */])
], PersonalTargetListComponent.prototype, "data", void 0);
PersonalTargetListComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\personal-target-list\personal-target-list.html"*/'<div>\n\n\n    <!--Offer based targets -->\n\n    <div *ngIf="data.offerId != 0">\n\n        <!-- In progress targets -->\n        <div class="expandable-card-holder app-background-image"\n             [style.background-image]="\'url(\' + backgroundImageURL +\')\'"\n             *ngIf="data.targetStatus == \'\' || data.targetStatus == \'I\'">\n            <div class="expandable-img-holder -card-default-background" (click)="toggle()">\n                <img src="{{data.offerBannerPath}}" alt="">\n                <div class="special-offers"  *ngIf="data.special === \'Y\'">\n                    <ion-icon name="star"></ion-icon>\n                </div>\n            </div>\n            <div class="expandable-strip-holder" (click)="toggle()">\n                <div class="row">\n                    <div class="strip-logo-content col-xs-9">\n                        <div class="expandable-logo">\n                            <img [src]="data.partnerLogoPath" alt="" />\n                            <h3>{{data.partnerName}}</h3>\n                            <h4 *ngIf="data.partnerLocationCount == \'ALL\'">{{ \'ALL_LOCATIONS\' | translate }}</h4>\n                            <h4 *ngIf="data.partnerLocationCount && data.partnerLocationCount != \'ALL\'">\n                                {{data.partnerLocationCount}} {{ \'LOCATIONS\' | translate }}\n                            </h4>\n                        </div>\n                    </div>\n                    <div class="col-xs-3">\n                        <div class="position-relative rounded-progress-position">\n                            <round-progress [current]="data.myTarget"\n                                            [radius]="radius"\n                                            [max]="max"\n                                            [duration]="3000"\n                                            [stroke]="4"\n                                            [responsive]="responsive"\n                                            [clockwise]="clockwise">\n                            </round-progress>\n                            <h6>{{data.myTarget}}%</h6>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="expandable-content-holder" *ngIf="visible" [@fadeInOut]>\n                <p class="in-app-browser-anchor"\n                   onclick="onInnerHTMLTap(event)"\n                   *ngIf="data.targetDescription"\n                   [innerHTML]="data.targetDescription"></p>\n            </div>\n            <div class="expandable-footer-holder" *ngIf="visible" [@fadeInOut]>\n                <ul>\n                    <li [ngClass]="{\'itemLiked\': data.isFavorite === \'Y\'}">\n                        <a (click)="updateOfferAsFavourite(data)">\n                            <ion-icon name="icon-heart" *ngIf="!showSpinnerFavourite"></ion-icon>\n                            <ion-spinner *ngIf="showSpinnerFavourite"></ion-spinner>\n                        </a>\n                    </li>\n                    <li *ngIf="shouldHideSocialShare == false">\n                        <a (click)="openShareModal(targetShareRequestTag, \'\')">\n                            <ion-icon name="icon-share"></ion-icon>\n                        </a>\n                    </li>\n                    <li *ngIf="data.partnerCode">\n                        <a (click)="openLocation(data)">\n                            <ion-icon name="icon-navigation"></ion-icon>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n\n\n        <!--Achieved target template-->\n        <div class="expandable-card-holder app-background-image"\n             [style.background-image]="\'url(\' + backgroundImageURL +\')\'"\n             *ngIf="data.targetStatus == \'A\'">\n            <div class="expandable-img-holder -target-completed">\n                <div class="congratulations">\n                    <h3>{{ \'CONGRATULATIONS_TARGET_ACHIEVED\' | translate }} </h3>\n                    <h2>\n                        <ion-icon name="icon-check"></ion-icon>\n                    </h2>\n                    <h6>\n                        <ion-icon name="calendar"></ion-icon>\n                        {{targetEndDateString}} <span></span>\n                        <ion-icon name="flag"></ion-icon>\n                        {{data.targetPoints}} {{ languageConstants.POINTS | translate }}\n                    </h6>\n                </div>\n            </div>\n            <div class="expandable-strip-holder">\n                <div class="row">\n                    <div class="strip-logo-content">\n                        <div class="expandable-logo">\n                            <img [src]="data.partnerLogoPath" alt="" />\n                            <h3>{{data.partnerName}}</h3>\n                            <h4 *ngIf="data.partnerLocationCount == \'ALL\'">{{ \'ALL_LOCATIONS\' | translate }}</h4>\n                            <h4 *ngIf="data.partnerLocationCount && data.partnerLocationCount != \'ALL\'">\n                                {{data.partnerLocationCount}} {{ \'LOCATIONS\' | translate }}\n                            </h4>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n        <!--Expired target template-->\n        <div class="expandable-card-holder app-background-image"\n             [style.background-image]="\'url(\' + backgroundImageURL +\')\'"\n             *ngIf="data.targetStatus == \'E\'">\n            <div class="expandable-img-holder -card-default-background -target-expired -target-img-gery"\n                 [style.background-image]="\'url(\' + data.offerBannerPath + \')\'">\n                <div class="congratulations">\n                    <h3>{{ \'EXPIRED\' | translate }} </h3>\n                    <h2>\n                        <ion-icon name="close-circle"></ion-icon>\n                    </h2>\n                    <h6>\n                        <ion-icon name="calendar"></ion-icon>\n                        {{targetEndDateString}} <span></span>\n                        <ion-icon name="flag"></ion-icon>\n                        {{data.targetPoints}} {{ languageConstants.POINTS | translate }}\n                    </h6>\n                </div>\n            </div>\n            <div class="expandable-strip-holder">\n                <div class="row">\n                    <div class="strip-logo-content">\n                        <div class="expandable-logo">\n                            <img [src]="data.partnerLogoPath" alt="" />\n                            <h3>{{data.partnerName}}</h3>\n                            <h4 *ngIf="data.partnerLocationCount == \'ALL\'">{{ \'ALL_LOCATIONS\' | translate }}</h4>\n                            <h4 *ngIf="data.partnerLocationCount && data.partnerLocationCount != \'ALL\'">\n                                {{data.partnerLocationCount}} {{ \'LOCATIONS\' | translate }}\n                            </h4>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n\n    <!--Personal based targets -->\n\n    <div *ngIf="data.offerId == 0">\n\n        <!-- In progress targets -->\n        <div class="expandable-card-holder in-progress-targets app-background-image"\n             [style.background-image]="\'url(\' + backgroundImageURL +\')\'"\n             *ngIf="data.targetStatus == \'\' || data.targetStatus == \'I\'">\n            <div class="expandable-img-holder" (click)="toggle()">\n                <div class="round-progress-holder">\n                    <div class="position-relative _round-progress">\n                        <round-progress\n                                [current]="data.myTarget"\n                                [radius]="radius"\n                                [max]="max"\n                                [duration]="3000"\n                                [stroke]="4"\n                                [responsive]="responsive"\n                                [clockwise]="clockwise">\n                        </round-progress>\n                        <h6>{{data.myTarget}}%</h6>\n                    </div>\n                </div>\n            </div>\n            <div class="expandable-strip-holder" (click)="toggle()">\n                <div class="row">\n                    <div class="strip-logo-content">\n                        <div class="expandable-logo">\n                            <ion-icon name="icon-user"></ion-icon>\n                            <h3>{{data.targetName}}</h3>\n                            <h4>{{targetEndDateString}}</h4>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="expandable-footer-holder" *ngIf="visible && shouldHideSocialShare == false" [@fadeInOut]>\n                <ul>\n                    <li *ngIf="shouldHideSocialShare == false">\n                        <a (click)="openShareModal(targetShareRequestTag, \'\')">\n                            <ion-icon name="icon-share"></ion-icon>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n\n\n        <!--Achieved target template-->\n        <div class="expandable-card-holder app-background-image"\n             [style.background-image]="\'url(\' + backgroundImageURL +\')\'"\n             *ngIf="data.targetStatus == \'A\'">\n            <div class="expandable-img-holder -target-completed">\n                <div class="congratulations">\n                    <h3>{{ \'CONGRATULATIONS_TARGET_ACHIEVED\' | translate }} </h3>\n                    <h2>\n                        <ion-icon name="icon-check"></ion-icon>\n                    </h2>\n                    <h6>\n                        <ion-icon name="calendar"></ion-icon>\n                        {{targetEndDateString}} <span></span>\n                        <ion-icon name="flag"></ion-icon>\n                        {{data.targetPoints}} {{ languageConstants.POINTS | translate }}\n                    </h6>\n                </div>\n            </div>\n            <div class="expandable-strip-holder" (click)="toggle()">\n                <div class="row">\n                    <div class="strip-logo-content">\n                        <div class="expandable-logo">\n                            <ion-icon name="icon-user"></ion-icon>\n                            <h3>{{data.targetName}}</h3>\n                            <h4>{{targetEndDateString}}</h4>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n        <!--Expired target template-->\n        <div class="expandable-card-holder app-background-image"\n             [style.background-image]="\'url(\' + backgroundImageURL +\')\'"\n             *ngIf="data.targetStatus == \'E\'">\n            <div class="expandable-img-holder -target-expired">\n                <div class="congratulations">\n                    <h3>{{ \'EXPIRED\' | translate }} </h3>\n                    <h2>\n                        <ion-icon name="close-circle"></ion-icon>\n                    </h2>\n                    <h6>\n                        <ion-icon name="calendar"></ion-icon>\n                        {{targetEndDateString}} <span></span>\n                        <ion-icon name="flag"></ion-icon>\n                        {{data.targetPoints}} {{ languageConstants.POINTS | translate }}\n                    </h6>\n                </div>\n            </div>\n            <div class="expandable-strip-holder" (click)="toggle()">\n                <div class="row">\n                    <div class="strip-logo-content">\n                        <div class="expandable-logo">\n                            <ion-icon name="icon-user"></ion-icon>\n                            <h3>{{data.targetName}}</h3>\n                            <h4>{{targetEndDateString}}</h4>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n</div>\n\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\personal-target-list\personal-target-list.html"*/,
        selector: 'component-personal-target-list',
        animations: [
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_38" /* trigger */])('fadeInOut', [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('void => *', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0 }),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(600, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 1 }))
                ]),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('* => void', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(300, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0 }))
                ])
            ])
        ]
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_14__constants_language_constants__["a" /* LanguageConstants */],
        __WEBPACK_IMPORTED_MODULE_11__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_offer_utils__["a" /* OfferUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_17__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_social_sharing_utils__["a" /* SocialSharingUtils */],
        __WEBPACK_IMPORTED_MODULE_13__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_15__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_18__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_globalization_utils__["a" /* GlobalizationUtils */]])
], PersonalTargetListComponent);

//# sourceMappingURL=personal-target-list.js.map

/***/ }),

/***/ 1094:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PartnersDetailHeaderComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_social_sharing_utils__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__constants_service_constants__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var PartnersDetailHeaderComponent = (function () {
    function PartnersDetailHeaderComponent(navCtrl, modalCtrl, navParams, mcfLoadService, clientUtils, socialShare, globalizationUtils, partnerUtils, appConstants, serviceConstants, translate, sessionUtils, googleAnalyticsUtils) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.navParams = navParams;
        this.mcfLoadService = mcfLoadService;
        this.clientUtils = clientUtils;
        this.socialShare = socialShare;
        this.globalizationUtils = globalizationUtils;
        this.partnerUtils = partnerUtils;
        this.appConstants = appConstants;
        this.serviceConstants = serviceConstants;
        this.translate = translate;
        this.sessionUtils = sessionUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.partnerLocationInfo = null;
        this.showSpinnerFavourite = false;
        this.shouldHideCheckin = false;
        this.shouldHideSocialShare = false;
    }
    PartnersDetailHeaderComponent.prototype.ngOnInit = function () {
        this.shouldHideCheckin = this.clientUtils.shouldHideCheckin();
        this.shouldHideSocialShare = this.clientUtils.shouldHideSocialSharing();
        if (this.navParams && this.navParams.data) {
            this.partnerLocationInfo = this.navParams.data.partnerDetail;
        }
    };
    PartnersDetailHeaderComponent.prototype.liked = function (item) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            this.showSpinnerFavourite = true;
            this.partnerUtils.setLocationAsFavourite(item.addressId, item.isFavourite, function (result) {
                _this.showSpinnerFavourite = false;
                item.isFavourite = !item.isFavourite;
                if (item.isFavourite) {
                    var msg = _this.translate.instant('THIS_LOCATION_SUCCESSFULLY_SET_AS_FAVOURITE');
                    _this.clientUtils.showToast(msg);
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.PARTNER_LOCATION_DETAIL_SCREEN, _this.appConstants.LIKE_PARTNER_EVENT);
                }
                else {
                    var msg = _this.translate.instant('THIS_LOCATION_SUCCESSFULLY_REMOVED_FROM_YOUR_FAVOURITES');
                    _this.clientUtils.showToast(msg);
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.PARTNER_LOCATION_DETAIL_SCREEN, _this.appConstants.UNLIKE_PARTNER_EVENT);
                }
            }, function (error) {
                _this.showSpinnerFavourite = false;
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showToast(msg);
            });
        }
        else {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_4__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    PartnersDetailHeaderComponent.prototype.openMap = function (obj) {
        if (obj.latitude && obj.longitude) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.PARTNER_LOCATION_DETAIL_SCREEN, this.appConstants.PARTNER_LOCATION_EVENT);
            var urlQuery = obj.latitude + "," + obj.longitude;
            if (obj.name) {
                urlQuery = urlQuery + '(' + obj.name + ')';
            }
            this.clientUtils.openMapURL(urlQuery);
        }
    };
    PartnersDetailHeaderComponent.prototype.checkIn = function (item) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            if (item.isCheckedIn != true && this.partnerUtils.shouldCheckin(item.lastCheckinTime)) {
                this.mcfLoadService.show('');
                this.partnerUtils.locationCheckIn(item.addressId, function (result) {
                    item.isCheckedIn = true;
                    var code = '';
                    var langCode = _this.globalizationUtils.getAppLanguage();
                    if (langCode === _this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
                        code = _this.serviceConstants.SHR_CHKIN_EN;
                    }
                    else if (langCode === _this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
                        code = _this.serviceConstants.SHR_CHKIN_ES;
                    }
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.PARTNER_LOCATION_DETAIL_SCREEN, _this.appConstants.CHECKIN_LOCATION_EVENT);
                    if (_this.shouldHideSocialShare == false) {
                        _this.getShareMessage(code, item.name);
                    }
                }, function (error) {
                    _this.mcfLoadService.hide();
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showToast(msg);
                });
            }
            else {
                item.isCheckedIn = true;
                var msg = this.translate.instant('YOUR_ALREADY_CHECKED_IN');
                this.clientUtils.showToast(msg);
            }
        }
        else {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_4__login_login__["a" /* LoginPage */]);
            modal.present();
        }
    };
    PartnersDetailHeaderComponent.prototype.getShareMessage = function (code, storeName) {
        var _this = this;
        var requestData = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["g" /* MessageInfo */]();
        requestData.code = code;
        this.socialShare.generateShareMessage(requestData, function (result) {
            _this.mcfLoadService.hide();
            var message = '';
            var subject = '';
            if (result && !_this.clientUtils.isNullOrEmpty(result.data)) {
                message = result.data[0].content + storeName;
                subject = result.data[0].msgSubject;
            }
            else {
                message = storeName;
            }
            var options = {
                message: message,
                subject: subject
            };
            _this.socialShare.share(options);
        }, function (error) {
            _this.mcfLoadService.hide();
            var options = {
                message: storeName,
                subject: ''
            };
            _this.socialShare.share(options);
        });
    };
    return PartnersDetailHeaderComponent;
}());
PartnersDetailHeaderComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'partners-detail-header-component',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\partners-detail-header-card\partners-detail-header.html"*/'<div class="partners" *ngIf="partnerLocationInfo">\n    <div class="headerCard partners" [style.background-image]="\'url(\' + partnerLocationInfo.img + \')\'" >\n\n        <h2> <img [src]="partnerLocationInfo.logo" alt=""/></h2>\n\n        <div class="row">\n            <div class="col-xs-6">\n                <h5>{{partnerLocationInfo.offersCount }} <span>{{ partnerLocationInfo.offersCount == 1 ? (\'OFFER\' | translate) : (\'OFFERS\' | translate) }}</span></h5>\n            </div>\n            <div class="col-xs-6">\n                <h5>{{partnerLocationInfo.distance | number}} <span>{{ \'KM\' | translate }} {{ \'APPROX\' | translate }}</span></h5>\n            </div>\n        </div>\n\n\n        <div class="footer"  >\n            <ul>\n                <li (click)="liked(partnerLocationInfo)"\n                    [ngClass]="{\'itemLiked\': partnerLocationInfo.isFavourite}">\n                    <a>\n                        <ion-icon name="icon-heart" *ngIf="!showSpinnerFavourite"></ion-icon>\n                        <ion-spinner *ngIf="showSpinnerFavourite"></ion-spinner>\n                    </a>\n                </li>\n                <li (click)="checkIn(partnerLocationInfo)"\n                    [ngClass]="{\'itemLiked\': partnerLocationInfo.isCheckedIn}"\n                    *ngIf="partnerLocationInfo.addressId && !shouldHideCheckin">\n                    <a>\n                        <ion-icon name="icon-check"></ion-icon>\n                    </a>\n                </li>\n                <li (click)="openMap(partnerLocationInfo)"\n                    *ngIf="partnerLocationInfo.latitude && partnerLocationInfo.longitude">\n                    <a>\n                        <ion-icon name="icon-navigation"></ion-icon>\n                    </a>\n                </li>\n            </ul>\n\n        </div>\n\n        <div class="overlay-black"></div>\n    </div>\n\n</div>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\partners-detail-header-card\partners-detail-header.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_social_sharing_utils__["a" /* SocialSharingUtils */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_12__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_13__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */]])
], PartnersDetailHeaderComponent);

//# sourceMappingURL=partners-detail-header.js.map

/***/ }),

/***/ 110:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export PartnerRequest */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return PartnerResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return PartnerInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return PartnerLocationsRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return PartnerLocationsResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return PartnerLocationInfo; });
/* unused harmony export IndustryTypesRequest */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return IndustryTypeResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return IndustryTypeInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CheckinInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return CheckinRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return VouchersInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return MyVoucherRequest; });
/* unused harmony export VouchersResponse */
/* unused harmony export MyVouchersResponse */
/* unused harmony export MyVoucherDto */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return redeemVoucherRequest; });
var PartnerRequest = (function () {
    function PartnerRequest() {
    }
    return PartnerRequest;
}());

var PartnerResponse = (function () {
    function PartnerResponse() {
    }
    return PartnerResponse;
}());

var PartnerInfo = (function () {
    function PartnerInfo() {
    }
    return PartnerInfo;
}());

var PartnerLocationsRequest = (function () {
    function PartnerLocationsRequest() {
    }
    return PartnerLocationsRequest;
}());

var PartnerLocationsResponse = (function () {
    function PartnerLocationsResponse() {
    }
    return PartnerLocationsResponse;
}());

var PartnerLocationInfo = (function () {
    function PartnerLocationInfo() {
    }
    return PartnerLocationInfo;
}());

var IndustryTypesRequest = (function () {
    function IndustryTypesRequest() {
    }
    return IndustryTypesRequest;
}());

var IndustryTypeResponse = (function () {
    function IndustryTypeResponse() {
    }
    return IndustryTypeResponse;
}());

var IndustryTypeInfo = (function () {
    function IndustryTypeInfo() {
    }
    return IndustryTypeInfo;
}());

var CheckinInfo = (function () {
    function CheckinInfo() {
    }
    return CheckinInfo;
}());

var CheckinRequest = (function () {
    function CheckinRequest() {
    }
    return CheckinRequest;
}());

var VouchersInfo = (function () {
    function VouchersInfo() {
    }
    return VouchersInfo;
}());

var MyVoucherRequest = (function () {
    function MyVoucherRequest() {
    }
    return MyVoucherRequest;
}());

var VouchersResponse = (function () {
    function VouchersResponse() {
    }
    return VouchersResponse;
}());

var MyVouchersResponse = (function () {
    function MyVouchersResponse() {
    }
    return MyVouchersResponse;
}());

var MyVoucherDto = (function () {
    function MyVoucherDto() {
    }
    return MyVoucherDto;
}());

var redeemVoucherRequest = (function () {
    function redeemVoucherRequest() {
    }
    return redeemVoucherRequest;
}());

//# sourceMappingURL=partners.dto.js.map

/***/ }),

/***/ 143:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FileService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(138);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__ = __webpack_require__(22);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 2/8/17.
 */




var FileService = (function () {
    function FileService($http) {
        this.$http = $http;
        this.FILE_NOT_SUPPORT_ERROR_CODE = 10001;
    }
    FileService.prototype.checkFile = function (fileName, isTemp, shouldCreate, successCallback, errorCallback) {
        if (typeof cordova !== 'undefined') {
            var uri = (isTemp == true) ? cordova.file.cacheDirectory : cordova.file.dataDirectory;
            window.resolveLocalFileSystemURL(uri, function (dirEntry) {
                dirEntry.getFile(fileName, { create: shouldCreate }, function (fileEntry) {
                    // console.log("fileEntry isFile: " + fileEntry.isFile);
                    if (successCallback) {
                        successCallback(fileEntry);
                    }
                }, function (error) {
                    console.log("getFile error:\n" + JSON.stringify(error));
                    if (errorCallback) {
                        errorCallback(error);
                    }
                });
            }, function (error) {
                console.log("requestFileSystem error:\n" + JSON.stringify(error));
                if (errorCallback) {
                    errorCallback(error);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Platform does not support';
                error.code = this.FILE_NOT_SUPPORT_ERROR_CODE;
                errorCallback(error);
            }
        }
    };
    FileService.prototype.isFileExists = function (fileName, isTemp, successCallback, errorCallback) {
        // console.log("isFileExists: " + fileName);
        this.checkFile(fileName, isTemp, false, function (fileEntry) {
            // console.log("isFileExists fileEntry:\n" + fileEntry.toURL());
            if (fileEntry.isFile == true) {
                // console.log("fileEntry isFileExists: " + fileEntry.isFile);
                if (successCallback) {
                    successCallback();
                }
            }
            else {
                if (errorCallback) {
                    errorCallback(null);
                }
            }
        }, function (error) {
            if (errorCallback) {
                errorCallback(error);
            }
        });
    };
    FileService.prototype.dataURL = function (fileName, isTemp) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.checkFile(fileName, isTemp, false, function (fileEntry) {
                // console.log("dataURL fileEntry:\n" + fileEntry.toURL());
                fileEntry.file(function (file) {
                    var reader = new FileReader();
                    reader.onloadend = function () {
                        // console.log("Successful file read...");
                        resolve(this.result);
                    };
                    reader.readAsDataURL(file);
                }, function (error) {
                    console.log("fileEntry.file error:\n" + JSON.stringify(error));
                    resolve(null);
                });
            }, function (error) {
                console.log("dataURL error:\n" + JSON.stringify(error));
                resolve(null);
            });
        });
    };
    FileService.prototype.writeFile = function (fileContent, fileName, isTemp, callback) {
        this.checkFile(fileName, isTemp, true, function (fileEntry) {
            if (fileContent) {
                // console.log("writeFile fileEntry:\n" + fileEntry.toURL());
                fileEntry.createWriter(function (fileWriter) {
                    fileWriter.onwriteend = function () {
                        // console.log("Successful file write...");
                        if (callback) {
                            callback(true);
                        }
                    };
                    fileWriter.onerror = function (e) {
                        console.log("Failed file write:\n" + e.toString());
                        if (callback) {
                            callback(false);
                        }
                    };
                    fileWriter.write(fileContent);
                });
            }
            else {
                if (callback) {
                    callback(false);
                }
            }
        }, function (error) {
            if (callback) {
                callback(false);
            }
        });
    };
    FileService.prototype.removeFile = function (fileName, isTemp, callback) {
        this.checkFile(fileName, isTemp, false, function (fileEntry) {
            // console.log("removeFile fileEntry:\n" + fileEntry.toURL());
            fileEntry.remove(function (entry) {
                // console.log("Removal succeeded");
                if (callback) {
                    callback(true);
                }
            }, function (error) {
                console.log('Error removing file:\n' + JSON.stringify(error));
                if (callback) {
                    callback(false);
                }
            });
        }, function (error) {
            if (callback) {
                callback(false);
            }
        });
    };
    FileService.prototype.downloadFile = function (sourceURL, fileName, isTemp, successCallback, errorCallback) {
        var _this = this;
        if (typeof cordova !== 'undefined') {
            // console.log("downloadFile:\n" + sourceURL);
            this.$http.get(sourceURL, { responseType: __WEBPACK_IMPORTED_MODULE_1__angular_http__["e" /* ResponseContentType */].Blob })
                .subscribe(function (result) {
                var blob = new Blob([result.blob()], { type: 'image/png' });
                _this.writeFile(blob, fileName, isTemp, function (result) {
                    if (result == true) {
                        _this.dataURL(fileName, false)
                            .then(function (result) {
                            if (result) {
                                successCallback(result);
                            }
                            else {
                                if (errorCallback) {
                                    errorCallback(null);
                                }
                            }
                        });
                    }
                    else if (errorCallback) {
                        errorCallback(null);
                    }
                });
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Platform does not support';
                error.code = this.FILE_NOT_SUPPORT_ERROR_CODE;
                errorCallback(error);
            }
        }
    };
    return FileService;
}());
FileService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
], FileService);

//# sourceMappingURL=file.service.js.map

/***/ }),

/***/ 144:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_native__ = __webpack_require__(98);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_app_version_service__ = __webpack_require__(527);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_commons_remote_notification_service__ = __webpack_require__(523);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__dto_device_dto__ = __webpack_require__(1081);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__services_commons_local_notification_service__ = __webpack_require__(308);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/9/17.
 */














var DeviceUtils = (function () {
    function DeviceUtils(events, platform, dataAccessService, appVersionService, serviceConstants, appConstants, clientUtils, sessionUtils, localNotificationService, remoteNotification) {
        this.events = events;
        this.platform = platform;
        this.dataAccessService = dataAccessService;
        this.appVersionService = appVersionService;
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.clientUtils = clientUtils;
        this.sessionUtils = sessionUtils;
        this.localNotificationService = localNotificationService;
        this.remoteNotification = remoteNotification;
        this.DEVICE_INFO_OS_IOS = 'IOS';
        this.DEVICE_INFO_OS_ANDROID = 'ANDROID';
        this.DEVICE_INFO_OS_WINDOWSPHONE = 'WINDOWSPHONE';
        this.DEVICE_INFO_OS_UNKNOWN = 'UNKNOWN';
    }
    DeviceUtils.prototype.getDeviceToken = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.deviceToken;
        if (!contextObj || (contextObj == null) || (contextObj == '')) {
            return null;
        }
        return contextObj;
    };
    DeviceUtils.prototype.saveDeviceToken = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.deviceToken = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    DeviceUtils.prototype.cleaDeviceToken = function () {
        var contextObj = '';
        this.saveDeviceToken(contextObj);
    };
    DeviceUtils.prototype.getAppNotificationFlag = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.appNotification;
        if (!contextObj || (contextObj == null) || (contextObj == '')) {
            return 'Y';
        }
        return contextObj;
    };
    DeviceUtils.prototype.saveAppNotificationFlag = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.appNotification = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    DeviceUtils.prototype.cleaAppNotificationFlag = function () {
        var contextObj = 'Y';
        this.saveAppNotificationFlag(contextObj);
    };
    DeviceUtils.prototype.getPartnerNotificationFlag = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.partnerNotification;
        if (!contextObj || (contextObj == null) || (contextObj == '')) {
            return 'Y';
        }
        return contextObj;
    };
    DeviceUtils.prototype.savePartnerNotificationFlag = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.partnerNotification = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    DeviceUtils.prototype.clearPartnerNotificationFlag = function () {
        var contextObj = 'Y';
        this.savePartnerNotificationFlag(contextObj);
    };
    DeviceUtils.prototype.getUserChangedNotificationSettings = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.userChangedNotificationSettings;
        if (!contextObj || (contextObj == null) || (contextObj == '')) {
            return 'N';
        }
        return contextObj;
    };
    DeviceUtils.prototype.saveUserChangedNotificationSettings = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.userChangedNotificationSettings = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    DeviceUtils.prototype.clearUserChangedNotificationSettings = function () {
        var contextObj = 'N';
        this.savePartnerNotificationFlag(contextObj);
    };
    DeviceUtils.prototype.getAppVersionNumber = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.appVersionNumber;
        if (!contextObj || (contextObj == null) || (contextObj == '')) {
            return null;
        }
        return contextObj;
    };
    DeviceUtils.prototype.saveAppVersionNumber = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.appVersionNumber = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    DeviceUtils.prototype.cleaAppVersionNumber = function () {
        var contextObj = '';
        this.saveAppVersionNumber(contextObj);
    };
    DeviceUtils.prototype.getAppVersionCode = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.appVersionCode;
        if (!contextObj || (contextObj == null) || (contextObj == '')) {
            return null;
        }
        return contextObj;
    };
    DeviceUtils.prototype.saveAppVersionCode = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.appVersionCode = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    DeviceUtils.prototype.cleaAppVersionCode = function () {
        var contextObj = '';
        this.saveAppVersionCode(contextObj);
    };
    DeviceUtils.prototype.getDeviceAppVersionNumber = function () {
        return this.appVersionService.version();
    };
    DeviceUtils.prototype.getDeviceAppVersionCode = function () {
        return this.appVersionService.build();
    };
    DeviceUtils.prototype.getDeviceModelInfo = function () {
        return __WEBPACK_IMPORTED_MODULE_2_ionic_native__["a" /* Device */].model;
    };
    DeviceUtils.prototype.getDeviceUUID = function () {
        return __WEBPACK_IMPORTED_MODULE_2_ionic_native__["a" /* Device */].uuid;
    };
    DeviceUtils.prototype.getPlatformName = function () {
        if (this.platform.is('ios')) {
            return this.DEVICE_INFO_OS_IOS;
        }
        if (this.platform.is('android')) {
            return this.DEVICE_INFO_OS_ANDROID;
        }
        if (this.platform.is('windows')) {
            return this.DEVICE_INFO_OS_WINDOWSPHONE;
        }
        return this.DEVICE_INFO_OS_UNKNOWN;
    };
    DeviceUtils.prototype.getPlatformVersion = function () {
        return this.platform.version().str;
    };
    DeviceUtils.prototype.isHandheldDevice = function () {
        if (this.platform.is('ios') || this.platform.is('android') || this.platform.is('windows')) {
            return true;
        }
        return false;
    };
    DeviceUtils.prototype.openSettings = function () {
        this.remoteNotification.openSettings();
    };
    DeviceUtils.prototype.checkNotificationPermission = function (callback) {
        var _this = this;
        this.remoteNotification.checkNotificationPermission(function (isEnabled) {
            if ((_this.getUserChangedNotificationSettings() != 'Y') || (isEnabled === false)) {
                var appNotification = (_this.getAppNotificationFlag() == 'Y');
                if (isEnabled != appNotification) {
                    _this.updateAppNotificationFlag(isEnabled, null);
                }
                else {
                    _this.saveAppNotificationFlag((isEnabled === true) ? 'Y' : 'N');
                    _this.savePartnerNotificationFlag((isEnabled === true) ? 'Y' : 'N');
                }
                if (isEnabled === false) {
                    _this.saveUserChangedNotificationSettings('N');
                }
            }
            if (callback) {
                callback(isEnabled);
            }
        });
    };
    DeviceUtils.prototype.updateAppNotificationFlag = function (isEnabled, callback) {
        this.saveAppNotificationFlag((isEnabled === true) ? 'Y' : 'N');
        this.savePartnerNotificationFlag((isEnabled === true) ? 'Y' : 'N');
        this.registerDeviceToken(function (result) {
            if (callback) {
                callback();
            }
        }, function (error) {
            if (callback) {
                callback();
            }
        });
    };
    DeviceUtils.prototype.requestForDeviceToken = function (successCallback, errorCallback) {
        var _this = this;
        this.remoteNotification.register(function (data) {
            if (data) {
                _this.saveDeviceToken(data);
                if (successCallback) {
                    successCallback(data);
                }
                setTimeout(function () {
                    _this.checkNotificationPermission(null);
                }, 60000);
            }
            else {
                if (errorCallback) {
                    var error = new __WEBPACK_IMPORTED_MODULE_12__dto_common_dto__["j" /* ServiceErrorInfo */]();
                    error.message = 'Failed to get device token';
                    errorCallback(error);
                }
            }
        }, function (data) {
            // alert("Device Utls : "+JSON.stringify(data))
            if (data && data.additionalData) {
                var isForeground = false;
                if (data.additionalData.foreground) {
                    isForeground = data.additionalData.foreground;
                }
                var isSilent = false;
                if (data.additionalData['content-available'] == 1) {
                    isSilent = true;
                }
                var notifCode = '';
                if (data.additionalData.payload && data.additionalData.payload.notifCode) {
                    notifCode = data.additionalData.payload.notifCode;
                }
                var messageText = '';
                if (data.message) {
                    messageText = data.message;
                }
                var titleText = '';
                if (data.title) {
                    titleText = data.title;
                }
                _this.processNotification(isForeground, isSilent, messageText, titleText, notifCode);
            }
        }, function (error) {
            // if (error && error.message) {
            //     if (error.message == 'UserNotificationNone') {
            //         this.updateAppNotificationFlag(false, null);
            //     }
            // }
            if (errorCallback) {
                errorCallback(error);
            }
        });
    };
    DeviceUtils.prototype.registerDeviceToken = function (successCallback, errorCallback) {
        var deviceToken = this.getDeviceToken();
        if (deviceToken) {
            var deviceInfo = new __WEBPACK_IMPORTED_MODULE_11__dto_device_dto__["a" /* RegisterDeviceInfo */]();
            deviceInfo.deviceToken = deviceToken;
            deviceInfo.deviceModel = this.getDeviceModelInfo();
            deviceInfo.active = 'Y';
            deviceInfo.receiveNot = this.getAppNotificationFlag();
            deviceInfo.userDeviceId = this.getPlatformName() + '-' + this.getDeviceUUID();
            deviceInfo.operatingSystemName = this.getPlatformName() + ' ' + this.getPlatformVersion();
            deviceInfo.apnsStatus = this.clientUtils.isDebugMode() ? 'N' : 'Y';
            deviceInfo.receivePartnerNotification = this.getPartnerNotificationFlag();
            if (this.sessionUtils.isUserLoggedIn()) {
                var memberInfo = this.sessionUtils.getMemberInfo();
                deviceInfo.memberUid = memberInfo.memUID;
            }
            var requestObject = new __WEBPACK_IMPORTED_MODULE_11__dto_device_dto__["b" /* RegisterDeviceRequest */]();
            requestObject.data = deviceInfo;
            var pageInfo = new __WEBPACK_IMPORTED_MODULE_12__dto_common_dto__["i" /* PageInfo */]();
            requestObject.pageInfo = pageInfo;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_DEVICE, this.serviceConstants.DEVICE_SERVICE_NAME_REGISTER, requestObject);
            console.log("serviceContext : " + JSON.stringify(serviceContext));
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_11__dto_device_dto__["c" /* RegisterDeviceResponse */]();
                }
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                if (errorCallback) {
                    var errorInfo = error.json();
                    errorCallback(errorInfo);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_12__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Invalid device token';
                errorCallback(error);
            }
        }
    };
    DeviceUtils.prototype.processNotification = function (isForeground, isSilent, message, title, notifCode) {
        //alert('device utils :  '+isForeground);
        if (!isSilent && message) {
            if (this.getAppNotificationFlag() != 'Y') {
                this.updateAppNotificationFlag(true, null);
            }
            this.clientUtils.showAlert(message, title);
            if (this.platform.is('android')) {
                this.showLocalNotification(title, message);
            }
        }
        if (!this.clientUtils.isNullOrEmpty(notifCode)) {
            this.events.publish(this.appConstants.EVENT_APP_DATA_SYNC_REQUEST, notifCode);
        }
    };
    DeviceUtils.prototype.showLocalNotification = function (title, message) {
        var messageObj = new __WEBPACK_IMPORTED_MODULE_13__services_commons_local_notification_service__["a" /* LocalNotificationOption */]();
        messageObj.title = title;
        messageObj.text = message;
        messageObj.afterDelay = 5;
        this.localNotificationService.generateLocalNotification(messageObj);
    };
    DeviceUtils.prototype.registerFoResumeEvent = function () {
        var _this = this;
        document.addEventListener("resume", function (event) {
            var metadata = null;
            if (event && event.pendingResult) {
                console.log('Resume Event Pending Result:\n', JSON.stringify(event.pendingResult));
                metadata = event.pendingResult.result;
            }
            setTimeout(function () {
                _this.events.publish(_this.appConstants.EVENT_APP_RESUMES, metadata);
            }, 1000);
        }, false);
    };
    return DeviceUtils;
}());
DeviceUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* Platform */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_4__services_commons_app_version_service__["a" /* AppVersionService */],
        __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_8__client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_9__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_13__services_commons_local_notification_service__["b" /* LocalNotificationService */],
        __WEBPACK_IMPORTED_MODULE_10__services_commons_remote_notification_service__["a" /* RemoteNotificationService */]])
], DeviceUtils);

//# sourceMappingURL=device.utils.js.map

/***/ }),

/***/ 145:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SocialSharingUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_social_sharing_service__ = __webpack_require__(524);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dto_common_dto__ = __webpack_require__(22);
/**
 * Created by C00121 on 11/01/2017.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var SocialSharingUtils = (function () {
    function SocialSharingUtils(socialSharing, dataAccessService, serviceConstants) {
        this.socialSharing = socialSharing;
        this.dataAccessService = dataAccessService;
        this.serviceConstants = serviceConstants;
    }
    SocialSharingUtils.prototype.share = function (options) {
        //let options = {
        //     message: 'mEngage Sharing', // not supported on some apps (Facebook, Instagram)
        //     //subject: 'mEngage', // fi. for email
        //    //files: ['www/resources/hybrid-flowchart.pdf'], // an array of filenames either locally or remotely
        //    // url: 'https://www.mercator.com/blog/how-evolving-distribution-models-connect-airlines-to-customers-at-a-greater-level',
        //     chooserTitle: 'Goal Achived ' // Android only, you can override the default share sheet title
        //}
        this.socialSharing.share(options, function (data) {
            // console.log('Social Sharing Response : '+ JSON.stringify(data));
        }, function (error) {
            console.log('Social Sharing Error : ' + JSON.stringify(error));
        });
    };
    SocialSharingUtils.prototype.generateShareMessage = function (requestData, successCallback, errorCallback) {
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_1__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_COMMON, this.serviceConstants.COMMON_SERVICE_NAME_MESSAGE_CONTENT, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_5__dto_common_dto__["h" /* MessageResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    return SocialSharingUtils;
}());
SocialSharingUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__services_commons_social_sharing_service__["a" /* SocialSharingService */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], SocialSharingUtils);

//# sourceMappingURL=social-sharing.utils.js.map

/***/ }),

/***/ 146:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SyncDataUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__ = __webpack_require__(298);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__location_notification_utils__ = __webpack_require__(310);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__menu_utils__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__user_utils__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__wallet_utils__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__transaction_utils__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__services_commons_network_service__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/23/17.
 */
















var SyncDataUtils = (function () {
    function SyncDataUtils(serviceConstants, appConstants, offerUtils, partnerUtils, configUtils, locationNotificationUtils, menuUtils, userUtils, walletUtils, sessionUtils, targetUtils, transactionUtils, clientUtils, networkService) {
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.offerUtils = offerUtils;
        this.partnerUtils = partnerUtils;
        this.configUtils = configUtils;
        this.locationNotificationUtils = locationNotificationUtils;
        this.menuUtils = menuUtils;
        this.userUtils = userUtils;
        this.walletUtils = walletUtils;
        this.sessionUtils = sessionUtils;
        this.targetUtils = targetUtils;
        this.transactionUtils = transactionUtils;
        this.clientUtils = clientUtils;
        this.networkService = networkService;
        this.timer = null;
    }
    SyncDataUtils.prototype.getLastSyncDate = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.lastSyncDate;
        if (!contextObj) {
            return null;
        }
        return contextObj;
    };
    SyncDataUtils.prototype.saveLastSyncDate = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.lastSyncDate = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    SyncDataUtils.prototype.cleaLastSyncDate = function () {
        var contextObj = null;
        this.saveLastSyncDate(contextObj);
    };
    SyncDataUtils.prototype.startTimer = function () {
        var _this = this;
        if (this.timer == null) {
            this.timer = __WEBPACK_IMPORTED_MODULE_1_rxjs_Rx__["Observable"].timer(60000, 60000);
            this.timer.subscribe(function (t) {
                _this.checkLastSyncStatus();
            });
        }
    };
    SyncDataUtils.prototype.checkLastSyncStatus = function () {
        var lastSyncDate = this.getLastSyncDate();
        if (lastSyncDate) {
            if (this.timer) {
                var diffHours = Math.abs(this.clientUtils.getDateTimeDiff(lastSyncDate)) / 3600;
                var interval = this.configUtils.getBulkDataSyncInterval();
                if ((diffHours >= interval) && this.networkService.isOnline()) {
                    var nowDate = new Date();
                    this.saveLastSyncDate(nowDate.toDateString() + ' ' + nowDate.toTimeString());
                    this.fireSyncRequests();
                }
            }
        }
        else {
            var nowDate = new Date();
            this.saveLastSyncDate(nowDate.toDateString() + ' ' + nowDate.toTimeString());
        }
    };
    SyncDataUtils.prototype.fireSyncRequests = function () {
        this.configUtils.fetchAppConfig(null, null);
        this.menuUtils.fetchMenuData(null, null);
        this.userUtils.fetchProfile(null, null);
        this.targetUtils.fetchMyTargets(null, null);
        this.walletUtils.fetchWalletData(null, null);
        this.walletUtils.fetchQRCodeData(null, null);
        this.offerUtils.fetchOffersNearBy(null, null);
        this.offerUtils.fetchRecommendedOffers(null, null);
        this.offerUtils.fetchFavoriteOffers(null, null);
        this.partnerUtils.fetchFeaturedPartners(null, null);
        this.partnerUtils.fetchPartnerLocationsNearBy(null, null);
        this.partnerUtils.fetchFavoritePartnerLocations(null, null);
        this.locationNotificationUtils.fetchLocationNotifications(null, null);
        this.transactionUtils.fetchRecentTransactions(null, null);
        this.menuUtils.getTermsAndCondition(null, null);
    };
    SyncDataUtils.prototype.processSyncCode = function (notifCode) {
        if (notifCode === this.serviceConstants.NOTIF_CODE_SYNC_OFFER) {
            this.offerUtils.fetchOffersNearBy(null, null);
            this.offerUtils.fetchRecommendedOffers(null, null);
            this.offerUtils.fetchFavoriteOffers(null, null);
        }
        else if (notifCode === this.serviceConstants.NOTIF_CODE_SYNC_PTNR) {
            this.partnerUtils.fetchFeaturedPartners(null, null);
        }
        else if (notifCode === this.serviceConstants.NOTIF_CODE_SYNC_PTNR_LOC) {
            this.partnerUtils.fetchPartnerLocationsNearBy(null, null);
            this.partnerUtils.fetchFavoritePartnerLocations(null, null);
        }
        else if (notifCode === this.serviceConstants.NOTIF_CODE_SYNC_CONF_PARAM) {
            this.configUtils.fetchAppConfig(null, null);
        }
        else if (notifCode === this.serviceConstants.NOTIF_CODE_SYNC_LOC_NOT) {
            this.locationNotificationUtils.fetchLocationNotifications(null, null);
        }
        else if (notifCode === this.serviceConstants.NOTIF_CODE_SYNC_MENU) {
            this.menuUtils.fetchMenuData(null, null);
        }
        else if (notifCode === this.serviceConstants.NOTIF_CODE_SYNC_TARGET) {
            this.targetUtils.fetchMyTargets(null, null);
        }
        else if (notifCode === this.serviceConstants.NOTIF_CODE_SYNC_PROFILE) {
            this.userUtils.fetchProfile(null, null);
            this.walletUtils.fetchWalletData(null, null);
            this.walletUtils.fetchQRCodeData(null, null);
            this.transactionUtils.fetchRecentTransactions(null, null);
        }
        else if (notifCode === this.serviceConstants.NOTIF_CODE_SYNC_TERMS) {
            this.menuUtils.getTermsAndCondition(null, null);
        }
    };
    SyncDataUtils.prototype.processPageCode = function (pageCode) {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.networkService.isOnline()) {
                if (pageCode === _this.appConstants.GUEST_HOME_SCREEN) {
                    _this.offerUtils.fetchOffersNearBy(null, null);
                    _this.partnerUtils.fetchPartnerLocationsNearBy(null, null);
                    _this.offerUtils.fetchRecommendedOffers(null, null);
                    _this.partnerUtils.fetchFeaturedPartners(function () {
                        setTimeout(function () {
                            resolve(true);
                        }, 2000);
                    }, function () {
                        setTimeout(function () {
                            resolve(false);
                        }, 2000);
                    });
                }
                else if (pageCode === _this.appConstants.USER_HOME_SCREEN) {
                    _this.offerUtils.fetchOffersNearBy(null, null);
                    _this.partnerUtils.fetchPartnerLocationsNearBy(null, null);
                    _this.offerUtils.fetchRecommendedOffers(null, null);
                    _this.partnerUtils.fetchFeaturedPartners(null, null);
                    _this.walletUtils.fetchWalletData(null, null);
                    _this.walletUtils.fetchQRCodeData(null, null);
                    _this.transactionUtils.fetchRecentTransactions(null, null);
                    _this.userUtils.fetchProfile(function () {
                        setTimeout(function () {
                            resolve(true);
                        }, 2000);
                    }, function () {
                        setTimeout(function () {
                            resolve(false);
                        }, 2000);
                    });
                }
                else if (pageCode === _this.appConstants.VIRTUAL_CARD_SCREEN) {
                    _this.userUtils.fetchProfile(function () {
                        _this.walletUtils.fetchWalletData(function () {
                            setTimeout(function () {
                                resolve(true);
                            }, 2000);
                        }, function () {
                            setTimeout(function () {
                                resolve(false);
                            }, 2000);
                        });
                    }, function () {
                        _this.walletUtils.fetchWalletData(function () {
                            setTimeout(function () {
                                resolve(true);
                            }, 2000);
                        }, function () {
                            setTimeout(function () {
                                resolve(false);
                            }, 2000);
                        });
                    });
                    _this.walletUtils.fetchQRCodeData(null, null);
                    _this.transactionUtils.fetchRecentTransactions(null, null);
                }
                else if (pageCode === _this.appConstants.MY_PROFILE_SCREEN) {
                    _this.targetUtils.fetchMyTargets(null, null);
                    _this.offerUtils.fetchFavoriteOffers(null, null);
                    _this.partnerUtils.fetchFavoritePartnerLocations(null, null);
                    _this.transactionUtils.fetchRecentTransactions(null, null);
                    _this.walletUtils.fetchWalletData(null, null);
                    _this.walletUtils.fetchQRCodeData(null, null);
                    _this.userUtils.fetchProfile(function () {
                        setTimeout(function () {
                            resolve(true);
                        }, 2000);
                    }, function () {
                        setTimeout(function () {
                            resolve(false);
                        }, 2000);
                    });
                }
            }
            else {
                resolve(false);
            }
        });
    };
    SyncDataUtils.prototype.fireProfileRequests = function () {
        this.userUtils.fetchProfile(null, null);
        this.walletUtils.fetchWalletData(null, null);
        this.transactionUtils.fetchRecentTransactions(null, null);
    };
    return SyncDataUtils;
}());
SyncDataUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_3__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_4__offer_utils__["a" /* OfferUtils */],
        __WEBPACK_IMPORTED_MODULE_5__partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_6__config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_7__location_notification_utils__["a" /* LocationNotificationUtils */],
        __WEBPACK_IMPORTED_MODULE_8__menu_utils__["a" /* MenuUtils */],
        __WEBPACK_IMPORTED_MODULE_9__user_utils__["a" /* UserUtils */],
        __WEBPACK_IMPORTED_MODULE_10__wallet_utils__["a" /* WalletUtils */],
        __WEBPACK_IMPORTED_MODULE_11__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_12__target_utils__["a" /* TargetUtils */],
        __WEBPACK_IMPORTED_MODULE_13__transaction_utils__["a" /* TransactionUtils */],
        __WEBPACK_IMPORTED_MODULE_14__client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_15__services_commons_network_service__["a" /* NetworkService */]])
], SyncDataUtils);

//# sourceMappingURL=sync-data.utils.js.map

/***/ }),

/***/ 147:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PartnersListPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__terms_terms__ = __webpack_require__(314);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__partners_partners__ = __webpack_require__(670);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dto_slider_dto__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils_commons_google_analytics_utils__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var PartnersListPage = (function () {
    function PartnersListPage(navCtrl, modalCtrl, navParams, translate, appConstants, serviceConstants, mcfLoadService, googleAnalyticsUtils, partnerUtils, configUtils, clientUtils) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.navParams = navParams;
        this.translate = translate;
        this.appConstants = appConstants;
        this.serviceConstants = serviceConstants;
        this.mcfLoadService = mcfLoadService;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.partnerUtils = partnerUtils;
        this.configUtils = configUtils;
        this.clientUtils = clientUtils;
        this.pageTitle = '';
        this.offerId = null;
        this.partnerDetail = null;
        this.partnerLocations = [];
        this.isRefreshing = false;
        this.shouldLoadLocations = true;
        this.locationIndex = 1;
        this.noLocationText = '';
    }
    PartnersListPage.prototype.ngOnInit = function () {
        this.googleAnalyticsUtils.trackPage(this.appConstants.PARTNER_DETAIL_SCREEN);
        if (this.navParams && this.navParams.data) {
            this.offerId = this.navParams.data.offerId;
            this.partnerDetail = this.navParams.data.parnterDetail;
            if (this.partnerDetail.organizationDescription) {
                this.pageTitle = this.partnerDetail.organizationDescription.replace(/\s/g, '-').toLowerCase();
            }
            this.fetchPartnerLocation();
        }
    };
    PartnersListPage.prototype.openWebSite = function (partnerDetail) {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.PARTNER_DETAIL_SCREEN, this.appConstants.PARTNER_TERMS_EVENT);
        var partnerTerms = partnerDetail.terms;
        if (!this.clientUtils.isNullOrEmpty(partnerTerms)) {
            if (partnerDetail.termsType == this.serviceConstants.TERMS_CONTENT_TYPE_U) {
                this.clientUtils.openWebURL(partnerTerms);
            }
            else if ((partnerDetail.termsType == this.serviceConstants.TERMS_CONTENT_TYPE_H) ||
                (partnerDetail.termsType == '')) {
                var data = {
                    pageTitle: 'PARTNER_TERMS',
                    contentType: partnerDetail.termsType,
                    content: partnerTerms
                };
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__terms_terms__["a" /* TermsPage */], { data: data });
            }
        }
    };
    PartnersListPage.prototype.viewDetails = function (partnerLocation) {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.PARTNER_DETAIL_SCREEN, this.appConstants.LOCATION_OFFER_EVENT);
        var pageUrl = partnerLocation.storeName;
        var sliderObj = new __WEBPACK_IMPORTED_MODULE_5__dto_slider_dto__["a" /* SliderData */]();
        sliderObj.name = partnerLocation.partnerName;
        sliderObj.title = partnerLocation.partnerName;
        sliderObj.img = partnerLocation.imagePath;
        sliderObj.logo = partnerLocation.partnerLogoPath;
        sliderObj.addressId = partnerLocation.addressId;
        sliderObj.storeName = partnerLocation.storeName;
        sliderObj.partnerCode = partnerLocation.partnerCode;
        sliderObj.distance = Number(partnerLocation.distance.toFixed(2));
        sliderObj.latitude = partnerLocation.latitude;
        sliderObj.longitude = partnerLocation.longitude;
        sliderObj.isFavourite = (partnerLocation.isFavorite == 'Y');
        sliderObj.offersCount = (partnerLocation.numberOfOffers != null) ? partnerLocation.numberOfOffers : 0;
        sliderObj.pageTitle = this.appConstants.HEADING_MY_FAVOURITE_LOCATIONS;
        sliderObj.targetId = null;
        sliderObj.offerId = null;
        sliderObj.offers = this.translate.instant('OFFERS');
        sliderObj.distanceDenom = ' ' + this.translate.instant('KM') + ' ' + this.translate.instant('APPROX');
        var data = {
            pageUrl: pageUrl,
            partnerDetail: sliderObj
        };
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__partners_partners__["a" /* PartnersPage */], data);
    };
    PartnersListPage.prototype.fetchPartnerLocation = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.shouldLoadLocations) {
                var numOfRecords_1 = _this.configUtils.getNumOfRecordsForKey(_this.serviceConstants.PAGINATION_NO_OF_RECORDS);
                var startIndex = _this.locationIndex;
                var endIndex_1 = _this.locationIndex + numOfRecords_1 - 1;
                if (_this.partnerLocations.length <= 0)
                    _this.mcfLoadService.show('');
                _this.partnerUtils.fetchPartnerByLocations(_this.offerId, _this.partnerDetail.partnerCode, startIndex, endIndex_1, function (result) {
                    _this.mcfLoadService.hide();
                    if (result.data && (result.data.length < numOfRecords_1)) {
                        _this.shouldLoadLocations = false;
                    }
                    else {
                        _this.locationIndex = endIndex_1 + 1;
                    }
                    var tempArray = _this.partnerLocations;
                    for (var _i = 0, _a = result.data; _i < _a.length; _i++) {
                        var item = _a[_i];
                        item.distance = Number(item.distance.toFixed(2));
                        item.numberOfOffers = (item.numberOfOffers != null) ? item.numberOfOffers : 0;
                        tempArray.push(item);
                    }
                    _this.partnerLocations = tempArray;
                    var maxLimit = _this.configUtils.getPaginationLimit();
                    if (_this.partnerLocations.length >= maxLimit) {
                        _this.shouldLoadLocations = false;
                    }
                    _this.noLocationText = _this.translate.instant('SEARCH_NO_PARTNER_LOCATION');
                    resolve(true);
                }, function (error) {
                    console.log('Fetch Offers By Location Error :\n' + JSON.stringify(error));
                    _this.mcfLoadService.hide();
                    resolve(true);
                });
            }
            else {
                resolve(true);
            }
        });
    };
    PartnersListPage.prototype.doInfinite = function (infiniteScroll) {
        this.fetchPartnerLocation().then(function () {
            infiniteScroll.complete();
        });
    };
    PartnersListPage.prototype.refreshButtonTapped = function () {
        var _this = this;
        if (this.isRefreshing != true) {
            this.isRefreshing = true;
            this.content.scrollToTop(0);
            this.noLocationText = '';
            this.partnerLocations = [];
            this.locationIndex = 1;
            this.shouldLoadLocations = true;
            this.fetchPartnerLocation().then(function () {
                _this.isRefreshing = false;
            });
        }
    };
    return PartnersListPage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */])
], PartnersListPage.prototype, "content", void 0);
PartnersListPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-partner-list',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\partners-list\partner-list.html"*/'<ion-header class=" header-dark no-back-button-text" no-border>\n    <ion-navbar color="transparent">\n        <ion-buttons start>\n            <button menuToggle>\n                <ion-icon name="menu"></ion-icon>\n            </button>\n        </ion-buttons>\n\n        <ion-title>{{ \'PARTNER_LOCATIONS\' | translate }}</ion-title>\n\n\n        <ion-buttons end>\n            <button ion-button class="icon-white" (click)="openWebSite(partnerDetail)" *ngIf="partnerDetail.terms">\n                <ion-icon name="information-circle"></ion-icon>\n            </button>\n            <button ion-button class="icon-white" (click)="refreshButtonTapped()">\n                <span class="spin-animation">\n                    <ion-icon name="md-sync" [ngClass]="{\'spin-elem\': isRefreshing}"></ion-icon>\n                </span>\n            </button>\n        </ion-buttons>\n\n    </ion-navbar>\n</ion-header>\n\n\n<ion-content class="contain-area">\n\n    <div class="partners-list" [style.background-image]="\'url(\' + partnerDetail.partnerImagePath + \')\'">\n\n        <h2> <img [src]="partnerDetail.partnerLogoPath" alt=""/></h2>\n\n        <div class="row">\n            <div class="col-xs-12" *ngIf="partnerDetail.organizationDescription">\n                <h3>{{partnerDetail.organizationDescription}}</h3>\n            </div>\n            <div class="col-xs-12" *ngIf="partnerDetail.partnerName">\n                <h3>{{partnerDetail.partnerName}}</h3>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-xs-6">\n                <h5>{{partnerDetail.offersCount}} <span>{{ \'OFFERS\' | translate }}</span></h5>\n            </div>\n            <div class="col-xs-6">\n                <h5>{{partnerDetail.partnerLocationCount}} <span>{{ \'LOCATIONS\' | translate }}</span></h5>\n            </div>\n        </div>\n\n        <div class="overlay-black"></div>\n    </div>\n\n\n    <div class="contain-area" padding>\n\n        <div class="search-result-status" *ngIf="!partnerLocations || (partnerLocations.length == 0)">\n            <span>{{noLocationText}}</span>\n        </div>\n        <div *ngIf="partnerLocations && (partnerLocations.length > 0)">\n            <div *ngFor="let i of partnerLocations">\n                <div class="card-item">\n                    <div class="row main-row" (click)="viewDetails(i)">\n                        <div class="col-xs-12">\n                            <div class="row small-icon">\n                                <div class="col-xs-12">\n                                    <h3>{{i.storeName}}</h3>\n                                </div>\n                                <div class="col-xs-6">\n                                    <ion-icon name="icon-offers"></ion-icon>\n                                    {{i.numberOfOffers}} {{ \'OFFERS\' | translate }}\n                                </div>\n                                <div class="col-xs-6">\n                                    <ion-icon name="icon-location"></ion-icon>\n                                    {{i.distance | number}} {{ \'KM\' | translate }} {{ \'APPROX\' | translate }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n            <ion-infinite-scroll-content></ion-infinite-scroll-content>\n        </ion-infinite-scroll>\n\n    </div>\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\partners-list\partner-list.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_10__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_11__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_12__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__["a" /* ClientUtils */]])
], PartnersListPage);

//# sourceMappingURL=partner-list.js.map

/***/ }),

/***/ 18:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GoogleAnalyticsUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_commons_google_analytics_service__ = __webpack_require__(525);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__client_utils__ = __webpack_require__(9);
/**
 * Created by C00121 on 17/01/2017.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var GoogleAnalyticsUtils = (function () {
    function GoogleAnalyticsUtils(googleAnalytics, clientUtils) {
        this.googleAnalytics = googleAnalytics;
        this.clientUtils = clientUtils;
    }
    GoogleAnalyticsUtils.prototype.startTracking = function () {
        this.googleAnalytics.startTracking();
    };
    GoogleAnalyticsUtils.prototype.trackPage = function (pageName) {
        this.googleAnalytics.trackPage(pageName);
    };
    GoogleAnalyticsUtils.prototype.trackEvent = function (category, action, label, value) {
        if (!this.clientUtils.isNullOrEmpty(label) && !this.clientUtils.isNullOrEmpty(value)) {
            this.googleAnalytics.trackEvent(category, action, label, value);
        }
        else if (!this.clientUtils.isNullOrEmpty(value)) {
            this.googleAnalytics.trackEvent(category, action, null, value);
        }
        else if (!this.clientUtils.isNullOrEmpty(label)) {
            this.googleAnalytics.trackEvent(category, action, label, 0);
        }
        else {
            this.googleAnalytics.trackEvent(category, action, null, 0);
        }
    };
    GoogleAnalyticsUtils.prototype.setUserId = function (userId) {
        this.googleAnalytics.setUserId(this.clientUtils.isNullOrEmpty(userId) ? '' : userId);
    };
    return GoogleAnalyticsUtils;
}());
GoogleAnalyticsUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__services_commons_google_analytics_service__["a" /* GoogleAnalyticService */],
        __WEBPACK_IMPORTED_MODULE_2__client_utils__["a" /* ClientUtils */]])
], GoogleAnalyticsUtils);

//# sourceMappingURL=google-analytics.utils.js.map

/***/ }),

/***/ 19:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfigUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__dto_force_update_dto__ = __webpack_require__(1077);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by C00121 on 26/12/2016.
 */












var ConfigUtils = (function () {
    function ConfigUtils(events, sessionUtils, globalizationUtils, clientUtils, dataAccessService, serviceConstants, appConstants, networkService) {
        this.events = events;
        this.sessionUtils = sessionUtils;
        this.globalizationUtils = globalizationUtils;
        this.clientUtils = clientUtils;
        this.dataAccessService = dataAccessService;
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.networkService = networkService;
    }
    ConfigUtils.prototype.getConfigContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.configs;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    ConfigUtils.prototype.saveConfigContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.configs = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    ConfigUtils.prototype.clearConfigContext = function () {
        var contextObj = new Array();
        this.saveConfigContext(contextObj);
    };
    ConfigUtils.prototype.fetchAppConfig = function (successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_COMMON, this.serviceConstants.COMMON_SERVICE_NAME_APP_CONFIG, null);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["d" /* ConfigResponse */]();
                response.data = [];
            }
            console.log('fetchAppConfig : ' + JSON.stringify(response.data));
            _this.saveConfigContext(response.data);
            _this.events.publish(_this.appConstants.EVENT_CONFIG_DATA_CHANGED);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    ConfigUtils.prototype.fetchAppConfigIfRequired = function () {
        var _this = this;
        return new Promise(function (resolve) {
            var configs = _this.getConfigContext();
            if (_this.networkService.isOnline()) {
                _this.fetchAppConfig(function (result) {
                    resolve(true);
                }, function (error) {
                    resolve(false);
                });
            }
            else {
                if (configs && (configs.length > 0)) {
                    resolve(true);
                }
                else {
                    _this.fetchAppConfig(function (result) {
                        resolve(true);
                    }, function (error) {
                        resolve(false);
                    });
                }
            }
        });
    };
    ConfigUtils.prototype.getNumOfRecordsForKey = function (key) {
        var value = this.appConstants.DEFAULT_NUM_OF_RECORDS;
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === key) {
                    value = Number(configData[count].value);
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getTncConsentObj = function () {
        var configData = this.getConfigContext();
        var consentObj = {
            "tncCode": "",
            "lastTncChanged": "",
            "tncFlag": "",
            "tncMsgEN": "",
            "tncMsgES": "",
        };
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === 'TNC_CODE') {
                    consentObj.tncCode = configData[count].value;
                }
                else if (configData[count].code === 'TNC_DATE') {
                    consentObj.lastTncChanged = configData[count].value;
                }
                else if (configData[count].code === 'TNC_FLAG') {
                    consentObj.tncFlag = configData[count].value;
                }
                else if (configData[count].code === 'TNC_CONSENT_MSG_EN') {
                    consentObj.tncMsgEN = configData[count].value;
                }
                else if (configData[count].code === 'TNC_CONSENT_MSG_ES') {
                    consentObj.tncMsgES = configData[count].value;
                }
            }
        }
        return consentObj;
    };
    ConfigUtils.prototype.getForceUpdateObj = function () {
        var forceUpdateObj = new __WEBPACK_IMPORTED_MODULE_11__dto_force_update_dto__["a" /* ForceUpdateDTO */]();
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.FORCE_UPDATE) {
                    forceUpdateObj.forceUpdate = configData[count].value;
                }
                else if (configData[count].code === this.serviceConstants.ANDROID_VERSION) {
                    forceUpdateObj.androidVersion = configData[count].value;
                }
                else if (configData[count].code === this.serviceConstants.IOS_VERSION) {
                    forceUpdateObj.iOSVersion = configData[count].value;
                }
                else if (configData[count].code === this.serviceConstants.UPDATE_MSG_EN) {
                    forceUpdateObj.updateMsgEN = configData[count].value;
                }
                else if (configData[count].code === this.serviceConstants.UPDATE_MSG_ES) {
                    forceUpdateObj.updateMsgES = configData[count].value;
                }
            }
        }
        return forceUpdateObj;
    };
    ConfigUtils.prototype.getPaginationLimit = function () {
        var value = this.appConstants.DEFAULT_PAGINATION_LIMIT;
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.PAGINATION_LIMIT) {
                    value = Number(configData[count].value);
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getRangeForRegionTracking = function () {
        var value = this.appConstants.DEFAULT_RANGE_FOR_REGION_TRACK;
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.RANGE_FOR_REGION_TRACKING) {
                    value = Number(configData[count].value);
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getBulkDataSyncInterval = function () {
        var value = this.appConstants.DEFAULT_BULK_DATA_SYNC_INTERVAL;
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.BULK_DATA_SYNC_INTERVAL) {
                    value = Number(configData[count].value);
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getUserLocationCoordinate = function () {
        var coord = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["e" /* GeoCoordinate */]();
        coord.latitude = this.clientUtils.defaultLatitude();
        coord.longitude = this.clientUtils.defaultLongitude();
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.USER_LOCATION_LATITUDE) {
                    coord.latitude = Number(configData[count].value);
                }
                else if (configData[count].code === this.serviceConstants.USER_LOCATION_LONGITUDE) {
                    coord.longitude = Number(configData[count].value);
                }
            }
        }
        return coord;
    };
    ConfigUtils.prototype.getGuestUserText = function () {
        var value = '';
        var configKey = null;
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            configKey = this.serviceConstants.GUEST_USER_TEXT_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            configKey = this.serviceConstants.GUEST_USER_TEXT_ES;
        }
        var configData = this.getConfigContext();
        if (configData && configKey) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === configKey) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getEnrollmentLink = function () {
        var value = '';
        var configKey = null;
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            configKey = this.serviceConstants.ENROLMENT_URL_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            configKey = this.serviceConstants.ENROLMENT_URL_ES;
        }
        var configData = this.getConfigContext();
        if (configData && configKey) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === configKey) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getAppBackgroundImageURL = function () {
        var value = '';
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.APP_BACKGROUND_IMAGE_URL) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getLoginCardImageURL = function () {
        var value = '';
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.LOGIN_CARD_IMAGE_URL) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getForgotPasswordURL = function () {
        var value = null;
        var configKey = null;
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            configKey = this.serviceConstants.FORGOT_PASSWORD_URL_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            configKey = this.serviceConstants.FORGOT_PASSWORD_URL_ES;
        }
        var configData = this.getConfigContext();
        if (configData && configKey) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === configKey) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getRegistrationURL = function () {
        var value = null;
        var configKey = null;
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            configKey = this.serviceConstants.REGISTRATION_URL_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            configKey = this.serviceConstants.REGISTRATION_URL_ES;
        }
        var configData = this.getConfigContext();
        if (configData && configKey) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === configKey) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getTermsConditionsURL = function () {
        var value = null;
        var configKey = null;
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            configKey = this.serviceConstants.TERMS_CONDITIONS_URL_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            configKey = this.serviceConstants.TERMS_CONDITIONS_URL_ES;
        }
        var configData = this.getConfigContext();
        if (configData && configKey) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === configKey) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getStoreUrl = function (platform) {
        var value = null;
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (platform == 'IOS' || platform == 'iOS') {
            value = defaultConfiguraiton.rateTheAppIOSURL;
        }
        else if (platform == '"ANDROID"' || platform == 'ANDROID') {
            value = defaultConfiguraiton.rateTheAppAndroidURL;
        }
        return value;
    };
    ConfigUtils.prototype.getPrivacyPolicyURL = function () {
        var value = null;
        var configKey = null;
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            configKey = this.serviceConstants.PRIVACY_POLICY_URL_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            configKey = this.serviceConstants.PRIVACY_POLICY_URL_ES;
        }
        var configData = this.getConfigContext();
        if (configData && configKey) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === configKey) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getOfflineMessage = function () {
        var value = '';
        var configKey = null;
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            configKey = this.serviceConstants.OFFLINE_MSG_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            configKey = this.serviceConstants.OFFLINE_MSG_ES;
        }
        var configData = this.getConfigContext();
        if (configData && configKey) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === configKey) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getContactsLink = function () {
        var value = '';
        var configKey = null;
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            configKey = this.serviceConstants.CONTACT_URL_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            configKey = this.serviceConstants.CONTACT_URL_ES;
        }
        var configData = this.getConfigContext();
        if (configData && configKey) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === configKey) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        return value;
    };
    ConfigUtils.prototype.getLanguageCodes = function () {
        var value = '';
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.LANGUAGE_CODES) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        var codes = [];
        if (!this.clientUtils.isNullOrEmpty(value)) {
            codes = value.split(',');
        }
        return codes;
    };
    ConfigUtils.prototype.getTiersToHideExpiryDate = function () {
        var value = '';
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.VC_HIDE_EXPIRY_DATE) {
                    value = configData[count].value;
                    break;
                }
            }
        }
        var codes = [];
        if (!this.clientUtils.isNullOrEmpty(value)) {
            codes = value.split(',');
        }
        return codes;
    };
    ConfigUtils.prototype.getFlagToHideExpiryDate = function () {
        var value = false;
        var configData = this.getConfigContext();
        if (configData) {
            for (var count = 0; count < configData.length; count++) {
                if (configData[count].code === this.serviceConstants.SHOW_VC_EXPIRY) {
                    value = configData[count].value == 'N' ? true : false;
                    break;
                }
            }
        }
        return value;
    };
    return ConfigUtils;
}());
ConfigUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_2__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_8__globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_9__client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_4__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_10__services_commons_network_service__["a" /* NetworkService */]])
], ConfigUtils);

//# sourceMappingURL=config.utils.js.map

/***/ }),

/***/ 201:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__ = __webpack_require__(22);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/5/17.
 */









var MenuUtils = (function () {
    function MenuUtils(events, sessionUtils, globalizationUtils, dataAccessService, serviceConstants, appConstants) {
        this.events = events;
        this.sessionUtils = sessionUtils;
        this.globalizationUtils = globalizationUtils;
        this.dataAccessService = dataAccessService;
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.FACILITY_NAME_LOGOUT = 'MELOGOUT';
        this.FACILITY_NAME_RATE_APP = 'MERTA';
        this.FACILITY_NAME_AIR_MEXICO_MOBILE = 'MEAMM';
        this.FACILITY_NAME_TERMS_CONDITIONS = 'METECN';
        this.FACILITY_NAME_SETTINGS = 'MEAPS';
        this.FACILITY_NAME_CHAT = 'MECHAT';
        this.FACILITY_NAME_CONTACTS = 'MECNT';
        this.FACILITY_NAME_GUIDE = 'MEGUIDE';
    }
    MenuUtils.prototype.getMenuContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.appMenus;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    MenuUtils.prototype.saveMenuContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.appMenus = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    MenuUtils.prototype.cleaMenuContext = function () {
        var contextObj = new Array();
        this.saveMenuContext(contextObj);
    };
    MenuUtils.prototype.getTermsConditionsContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.appTerms;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    MenuUtils.prototype.saveTermsConditionsContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.appTerms = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    MenuUtils.prototype.cleaTermsConditionsContext = function () {
        var contextObj = new Array();
        this.saveTermsConditionsContext(contextObj);
    };
    MenuUtils.prototype.fetchMenuData = function (successCallback, errorCallback) {
        var _this = this;
        var requestData = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["a" /* AppMenu */]();
        requestData.facilityType = 'APP_MENU';
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_COMMON, this.serviceConstants.COMMON_SERVICE_NAME_APP_MENU, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["b" /* AppMenuResponse */]();
                response.data = [];
            }
            _this.saveMenuContext(response.data);
            _this.events.publish(_this.appConstants.EVENT_MENU_INFO_CHANGED);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    MenuUtils.prototype.getTermsAndCondition = function (successCallback, errorCallback) {
        var _this = this;
        var requestData = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["g" /* MessageInfo */]();
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            requestData.code = this.serviceConstants.TERMS_N_COND_EN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            requestData.code = this.serviceConstants.TERMS_N_COND_ES;
        }
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_COMMON, this.serviceConstants.COMMON_SERVICE_NAME_MESSAGE_CONTENT, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["n" /* TermsResponse */]();
                response.data = [];
            }
            _this.saveTermsConditionsContext(response.data);
            _this.events.publish(_this.appConstants.EVENT_APP_TERMS_CHANGED);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    MenuUtils.prototype.getChatContent = function (successCallback, errorCallback) {
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var requestData = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["l" /* SystemQueryInfo */]();
            requestData.activeCardNumber = memberInfo.activeCardNo;
            requestData.queryCode = this.serviceConstants.SYSTEM_QUERY_CP_CHAT;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_COMMON, this.serviceConstants.COMMON_SERVICE_NAME_SYSTEM_QUERY, requestData);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["m" /* SystemQueryResponse */]();
                    response.data = [];
                }
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                if (errorCallback) {
                    var errorInfo = error.json();
                    errorCallback(errorInfo);
                }
            });
        }
        else {
            if (errorCallback) {
                errorCallback(null);
            }
        }
    };
    MenuUtils.prototype.fetchMenusIfRequired = function () {
        var _this = this;
        return new Promise(function (resolve) {
            var appMenus = _this.getMenuContext();
            if (appMenus && (appMenus.length > 0)) {
                resolve(true);
            }
            else {
                _this.fetchMenuData(function (result) {
                    resolve(true);
                }, function (error) {
                    resolve(false);
                });
            }
        });
    };
    return MenuUtils;
}());
MenuUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_2__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_3__globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_4__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__["a" /* AppConstants */]])
], MenuUtils);

//# sourceMappingURL=menu.utils.js.map

/***/ }),

/***/ 202:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return OfferResquest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return OfferResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferInfo; });
var OfferResquest = (function () {
    function OfferResquest() {
    }
    return OfferResquest;
}());

var OfferResponse = (function () {
    function OfferResponse() {
    }
    return OfferResponse;
}());

var OfferInfo = (function () {
    function OfferInfo() {
    }
    return OfferInfo;
}());

//# sourceMappingURL=offers.dto.js.map

/***/ }),

/***/ 203:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TransactionUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_account_dto__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_session_utils__ = __webpack_require__(10);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/12/17.
 */










var TransactionUtils = (function () {
    function TransactionUtils(events, appConstants, dataAccessService, serviceConstants, configUtils, sessionUtils) {
        this.events = events;
        this.appConstants = appConstants;
        this.dataAccessService = dataAccessService;
        this.serviceConstants = serviceConstants;
        this.configUtils = configUtils;
        this.sessionUtils = sessionUtils;
    }
    TransactionUtils.prototype.getTransactionContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.transactions;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    TransactionUtils.prototype.saveTransactionContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.transactions = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    TransactionUtils.prototype.clearTransactionContext = function () {
        var contextObj = new Array();
        this.saveTransactionContext(contextObj);
    };
    TransactionUtils.prototype.fetchRecentTransactions = function (successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var requestData = new __WEBPACK_IMPORTED_MODULE_2__dto_account_dto__["l" /* TransactionInfo */]();
            requestData.membershipCardNumber = memberInfo.activeCardNo;
            requestData.numberOfRecords = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.NO_OF_RECENT_TRANSACTIONS);
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_5__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_TRANSACTION, requestData);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_2__dto_account_dto__["m" /* TransactionResponse */]();
                    response.data = [];
                }
                _this.saveTransactionContext(response.data);
                _this.events.publish(_this.appConstants.EVENT_RECENT_TRANSACTIONS_CHANGED);
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_3__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                errorCallback(null);
            }
        }
    };
    return TransactionUtils;
}());
TransactionUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_4__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_session_utils__["a" /* SessionUtils */]])
], TransactionUtils);

//# sourceMappingURL=transaction.utils.js.map

/***/ }),

/***/ 204:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SliderData; });
/**
 * Created by anjum on 30/10/16.
 */
var SliderData = (function () {
    function SliderData() {
    }
    return SliderData;
}());

//# sourceMappingURL=slider.dto.js.map

/***/ }),

/***/ 22:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return PageInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return ServiceHeaderInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return ServiceErrorInfo; });
/* unused harmony export ServiceResponseStatus */
/* unused harmony export AppMenuRequest */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return AppMenuResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return ConfigInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return ConfigResponse; });
/* unused harmony export TermsCondtionsInfo */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return TermsResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return GeoCoordinate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return MessageInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return MessageResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return LanguageInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return SystemQueryInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return SystemQueryResponse; });
var PageInfo = (function () {
    function PageInfo() {
    }
    return PageInfo;
}());

var ServiceHeaderInfo = (function () {
    function ServiceHeaderInfo() {
    }
    return ServiceHeaderInfo;
}());

var ServiceErrorInfo = (function () {
    function ServiceErrorInfo() {
    }
    return ServiceErrorInfo;
}());

var ServiceResponseStatus = (function () {
    function ServiceResponseStatus() {
    }
    return ServiceResponseStatus;
}());

var AppMenuRequest = (function () {
    function AppMenuRequest() {
    }
    return AppMenuRequest;
}());

var AppMenuResponse = (function () {
    function AppMenuResponse() {
    }
    return AppMenuResponse;
}());

var AppMenu = (function () {
    function AppMenu() {
    }
    return AppMenu;
}());

var ConfigInfo = (function () {
    function ConfigInfo() {
    }
    return ConfigInfo;
}());

var ConfigResponse = (function () {
    function ConfigResponse() {
    }
    return ConfigResponse;
}());

var TermsCondtionsInfo = (function () {
    function TermsCondtionsInfo() {
    }
    return TermsCondtionsInfo;
}());

var TermsResponse = (function () {
    function TermsResponse() {
    }
    return TermsResponse;
}());

var GeoCoordinate = (function () {
    function GeoCoordinate() {
    }
    return GeoCoordinate;
}());

var MessageInfo = (function () {
    function MessageInfo() {
    }
    return MessageInfo;
}());

var MessageResponse = (function () {
    function MessageResponse() {
    }
    return MessageResponse;
}());

var LanguageInfo = (function () {
    function LanguageInfo() {
    }
    return LanguageInfo;
}());

var SystemQueryInfo = (function () {
    function SystemQueryInfo() {
    }
    return SystemQueryInfo;
}());

var SystemQueryResponse = (function () {
    function SystemQueryResponse() {
    }
    return SystemQueryResponse;
}());

//# sourceMappingURL=common.dto.js.map

/***/ }),

/***/ 29:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return McfLoaderService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/**
 * Created by anjum on 30/11/16.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var McfLoaderService = (function () {
    function McfLoaderService(loadingCtrl, translate) {
        this.loadingCtrl = loadingCtrl;
        this.translate = translate;
    }
    McfLoaderService.prototype.show = function (param) {
        this.loader = this.loadingCtrl.create({
            content: param.message || this.translate.instant('PLEASE_WAIT'),
            duration: param.time
        });
        this.loader.present()
            .then(function (result) {
            // console.log('Present Loader: ' + JSON.stringify(result));
        }, function (error) {
            console.log('Present Loader Failed: ' + JSON.stringify(error));
        });
    };
    McfLoaderService.prototype.hide = function () {
        var _this = this;
        if (this.loader) {
            this.loader.dismiss()
                .then(function (result) {
                // console.log('Dismiss Loader: ' + JSON.stringify(result));
                if (result == false) {
                    setTimeout(function () {
                        // console.log('Trying again to dismiss Loader');
                        _this.loader.dismiss();
                    }, 1000);
                }
            }, function (error) {
                console.log('Dismiss Loader Failed: ' + JSON.stringify(error));
            });
        }
    };
    return McfLoaderService;
}());
McfLoaderService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["j" /* LoadingController */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */]])
], McfLoaderService);

//# sourceMappingURL=service.loading.js.map

/***/ }),

/***/ 307:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export GeolocationCoordinate */
/* unused harmony export GeolocationPosition */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GeolocationOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return GeolocationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__ = __webpack_require__(22);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
* Created by sandip on 25/12/2016.
*/


var GeolocationCoordinate = (function () {
    function GeolocationCoordinate() {
    }
    return GeolocationCoordinate;
}());

var GeolocationPosition = (function () {
    function GeolocationPosition() {
    }
    return GeolocationPosition;
}());

var GeolocationOption = (function () {
    function GeolocationOption() {
    }
    return GeolocationOption;
}());

var GeolocationService = (function () {
    function GeolocationService() {
    }
    GeolocationService.prototype.getCurrentLocation = function (option, successCallback, errorCallback) {
        if (navigator && navigator.geolocation) {
            if (!option) {
                option = new GeolocationOption;
                option.timeout = 20000;
            }
            navigator.geolocation.getCurrentPosition(function (result) {
                if (successCallback) {
                    successCallback(result);
                }
            }, function (error) {
                if (errorCallback) {
                    errorCallback(error);
                }
            }, option);
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Platform does not support';
                errorCallback(error);
            }
        }
    };
    GeolocationService.prototype.trackUserLocation = function (option, successCallback, errorCallback) {
        if (navigator && navigator.geolocation) {
            if (!option) {
                option = null;
            }
            return navigator.geolocation.watchPosition(function (result) {
                if (successCallback) {
                    successCallback(result);
                }
            }, function (error) {
                if (errorCallback) {
                    errorCallback(error);
                }
            }, option);
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Platform does not support';
                errorCallback(error);
            }
        }
        return null;
    };
    GeolocationService.prototype.stopTrackingUserLocation = function (trackingId) {
        if (navigator && navigator.geolocation) {
            navigator.geolocation.clearWatch(trackingId);
        }
    };
    return GeolocationService;
}());
GeolocationService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], GeolocationService);

//# sourceMappingURL=geolocation.service.js.map

/***/ }),

/***/ 308:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocalNotificationOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return LocalNotificationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/18/17.
 */

var LocalNotificationOption = (function () {
    function LocalNotificationOption() {
    }
    return LocalNotificationOption;
}());

var LocalNotificationService = (function () {
    function LocalNotificationService() {
    }
    LocalNotificationService.prototype.generateLocalNotification = function (option) {
        if ((typeof cordova !== 'undefined') && cordova.plugins) {
            cordova.plugins.notification.local.schedule({
                id: option.id,
                title: option.title,
                text: option.text,
                trigger: { in: option.afterDelay, unit: 'second' }
            });
        }
    };
    return LocalNotificationService;
}());
LocalNotificationService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], LocalNotificationService);

//# sourceMappingURL=local-notification.service.js.map

/***/ }),

/***/ 309:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return GoalRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return GoalResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GoalInfo; });
var GoalRequest = (function () {
    function GoalRequest() {
    }
    return GoalRequest;
}());

var GoalResponse = (function () {
    function GoalResponse() {
    }
    return GoalResponse;
}());

var GoalInfo = (function () {
    function GoalInfo() {
    }
    return GoalInfo;
}());

//# sourceMappingURL=goal.dto.js.map

/***/ }),

/***/ 310:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocationNotificationUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__device_utils__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__dto_location_notification_dto__ = __webpack_require__(1082);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_commons_local_notification_service__ = __webpack_require__(308);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_commons_geolocation_service__ = __webpack_require__(307);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__constants_app_constants__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/16/17.
 */














var LocationNotificationUtils = (function () {
    function LocationNotificationUtils(events, platform, sessionUtils, clientUtils, configUtils, deviceUtils, globalizationUtils, dataAccessService, serviceConstants, appConstants, localNotificationService, geolocationService) {
        this.events = events;
        this.platform = platform;
        this.sessionUtils = sessionUtils;
        this.clientUtils = clientUtils;
        this.configUtils = configUtils;
        this.deviceUtils = deviceUtils;
        this.globalizationUtils = globalizationUtils;
        this.dataAccessService = dataAccessService;
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.localNotificationService = localNotificationService;
        this.geolocationService = geolocationService;
        this.MIN_LOCATION_TIME_GAP = 10000; //Milliseconds
        this.MIN_DISPLAY_TIME_GAP = 86400; //Seconds
        this.MIN_DISTANCE_GAP = 500; //Meters
        this.trackingId = null;
        this.locations = [];
        this.trackPosition = null;
    }
    LocationNotificationUtils.prototype.getLocationNotificationContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.locationNotifications;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    LocationNotificationUtils.prototype.saveLocationNotificationContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.locationNotifications = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    LocationNotificationUtils.prototype.clearLocationNotificationContext = function () {
        var contextObj = new Array();
        this.saveLocationNotificationContext(contextObj);
    };
    LocationNotificationUtils.prototype.fetchLocationNotifications = function (successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_11__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_LOCATION_NOTIFICATION, this.serviceConstants.LOCATION_NOTIFICATION_SERVICE_NAME_GET, null);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_location_notification_dto__["a" /* LocationNotificationResponse */]();
                response.data = [];
            }
            _this.locations = response.data;
            _this.saveLocationNotificationContext(_this.locations);
            _this.events.publish(_this.appConstants.EVENT_LOCATION_NOTIFICATION_CHANGED);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    LocationNotificationUtils.prototype.startLocationTracking = function () {
        var _this = this;
        if (this.trackingId == null) {
            var locations = this.getLocationNotificationContext();
            if (locations && (locations.length > 0)) {
                this.locations = locations;
                this.trackUserLocation();
            }
            else {
                this.fetchLocationNotifications(function (result) {
                    _this.trackUserLocation();
                }, null);
            }
        }
    };
    LocationNotificationUtils.prototype.stopLocationTracking = function () {
        if (this.trackingId) {
            this.geolocationService.stopTrackingUserLocation(this.trackingId);
            this.trackingId = null;
            this.trackPosition = null;
        }
    };
    LocationNotificationUtils.prototype.trackUserLocation = function () {
        var _this = this;
        var option = new __WEBPACK_IMPORTED_MODULE_9__services_commons_geolocation_service__["a" /* GeolocationOption */]();
        option.maximumAge = 3000;
        option.timeout = this.MIN_LOCATION_TIME_GAP;
        option.enableHighAccuracy = false;
        this.trackingId = this.geolocationService.trackUserLocation(option, function (data) {
            // console.log('Track User Location:\n' + JSON.stringify(data));
            if (_this.trackPosition) {
                // console.log('Track Position1:\n' + JSON.stringify(this.trackPosition));
                if ((data.timestamp - _this.trackPosition.timestamp) > _this.MIN_LOCATION_TIME_GAP) {
                    var distance = _this.calculateDistance(data.coords.latitude, data.coords.longitude, _this.trackPosition.coords.latitude, _this.trackPosition.coords.longitude);
                    // console.log('Track Position Distance: ' + distance);
                    if (distance > (_this.MIN_DISTANCE_GAP / 1000.0)) {
                        _this.trackPosition = data;
                        _this.filterLocationsForNotification();
                    }
                }
            }
            else {
                _this.trackPosition = data;
                _this.filterLocationsForNotification();
            }
        }, function (error) {
            _this.events.publish(_this.appConstants.EVENT_USER_LOCATION_CHANGED, null, error);
        });
    };
    LocationNotificationUtils.prototype.filterLocationsForNotification = function () {
        this.events.publish(this.appConstants.EVENT_USER_LOCATION_CHANGED, this.trackPosition, null);
        // console.log('Track Position2:\n' + JSON.stringify(this.trackPosition));
        if (this.deviceUtils.getAppNotificationFlag() === 'Y') {
            var shouldSaveLocationNotifications = false;
            var minDistance = this.configUtils.getRangeForRegionTracking() / 1000.0;
            for (var index = 0; index < this.locations.length; index++) {
                var locObj = this.locations[index];
                if (locObj.latitude &&
                    locObj.longitude &&
                    locObj.messageContent &&
                    locObj.partnerName &&
                    (locObj.messageContent.trim().length > 0) &&
                    this.hasCurrentLanguage(locObj)) {
                    var distance = this.calculateDistance(locObj.latitude, locObj.longitude, this.trackPosition.coords.latitude, this.trackPosition.coords.longitude);
                    // console.log('Filter Location Distance: ' + distance);
                    // console.log('Filter Location Object: ' + locObj.messageContent);
                    // console.log('Filter Location Object: (' + locObj.latitude + ', ' + locObj.longitude + ')');
                    if (distance < minDistance) {
                        var diffSecs = Math.abs(this.clientUtils.getDateTimeDiff(locObj.lastDisplayDate));
                        var shouldDisplay = ((diffSecs <= 0) || (diffSecs >= this.MIN_DISPLAY_TIME_GAP));
                        if (shouldDisplay == true) {
                            // console.log('Show LocalNotification: ' + locObj.messageContent);
                            var title = locObj.messageSubject;
                            if (this.clientUtils.isNullOrEmpty(title)) {
                                title = locObj.partnerName;
                            }
                            this.clientUtils.showAlert(locObj.messageContent, title);
                            if (this.platform.is('android')) {
                                this.showLocalNotification(title, locObj.messageContent);
                            }
                            var nowDate = new Date();
                            this.locations[index].lastDisplayDate = nowDate.toDateString();
                            shouldSaveLocationNotifications = true;
                        }
                    }
                }
            }
            if (shouldSaveLocationNotifications == true) {
                this.saveLocationNotificationContext(this.locations);
            }
        }
    };
    LocationNotificationUtils.prototype.showLocalNotification = function (title, message) {
        var messageObj = new __WEBPACK_IMPORTED_MODULE_8__services_commons_local_notification_service__["a" /* LocalNotificationOption */]();
        messageObj.title = title;
        messageObj.text = message;
        messageObj.afterDelay = 5;
        this.localNotificationService.generateLocalNotification(messageObj);
    };
    LocationNotificationUtils.prototype.calculateDistance = function (lat1, lon1, lat2, lon2) {
        var radlat1 = Math.PI * lat1 / 180;
        var radlat2 = Math.PI * lat2 / 180;
        var theta = lon1 - lon2;
        var radtheta = Math.PI * theta / 180;
        var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);
        dist = Math.acos(dist);
        dist = dist * 180 / Math.PI;
        dist = dist * 60 * 1.1515;
        dist = dist * 1.609344; //KMs
        if (dist < 0) {
            dist = dist * -1.0;
        }
        return dist;
    };
    LocationNotificationUtils.prototype.hasCurrentLanguage = function (locObj) {
        var languageId = locObj.langaugeId;
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            return (this.serviceConstants.LOC_NOTIF_LANG_ID_EN === languageId);
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            return (this.serviceConstants.LOC_NOTIF_LANG_ID_ES === languageId);
        }
        return false;
    };
    return LocationNotificationUtils;
}());
LocationNotificationUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* Platform */],
        __WEBPACK_IMPORTED_MODULE_2__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_3__client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_4__config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_5__device_utils__["a" /* DeviceUtils */],
        __WEBPACK_IMPORTED_MODULE_6__globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_10__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_12__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_13__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_8__services_commons_local_notification_service__["b" /* LocalNotificationService */],
        __WEBPACK_IMPORTED_MODULE_9__services_commons_geolocation_service__["b" /* GeolocationService */]])
], LocationNotificationUtils);

//# sourceMappingURL=location-notification.utils.js.map

/***/ }),

/***/ 311:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LovItemUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 10/05/17.
 */







var LovItemUtils = (function () {
    function LovItemUtils(events, appConstants, dataAccessService, serviceConstants) {
        this.events = events;
        this.appConstants = appConstants;
        this.dataAccessService = dataAccessService;
        this.serviceConstants = serviceConstants;
    }
    LovItemUtils.prototype.getSecurityQuestions = function (successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_LOV_ITEM, this.serviceConstants.LOV_ITEM_SERVICE_NAME_SECURITY_QUESTIONS, null);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    LovItemUtils.prototype.getCountryLov = function (successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_LOV_ITEM, this.serviceConstants.LOV_ITEM_SERVICE_NAME_COUNTRY, null);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    LovItemUtils.prototype.getStateLov = function (countryCode, successCallback, errorCallback) {
        var _this = this;
        if (countryCode) {
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_LOV_ITEM, this.serviceConstants.LOV_ITEM_SERVICE_NAME_STATE, { countryCode: countryCode });
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = [];
                }
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                errorCallback(null);
            }
        }
    };
    LovItemUtils.prototype.getCityLov = function (countryCode, successCallback, errorCallback) {
        var _this = this;
        if (countryCode) {
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_LOV_ITEM, this.serviceConstants.LOV_ITEM_SERVICE_NAME_CITY, { countryCode: countryCode });
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = [];
                }
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                errorCallback(null);
            }
        }
    };
    LovItemUtils.prototype.getNameSuffixLov = function (successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_LOV_ITEM, this.serviceConstants.LOV_ITEM_SERVICE_NAME_NAME_SUFFIX, null);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    return LovItemUtils;
}());
LovItemUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__["a" /* ServiceConstants */]])
], LovItemUtils);

//# sourceMappingURL=lov-item.utils.js.map

/***/ }),

/***/ 312:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__home_home__ = __webpack_require__(650);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mywallet_wallet__ = __webpack_require__(654);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__search_search__ = __webpack_require__(657);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var TabsPage = (function () {
    function TabsPage(navParams, events, appConstants, sessionUtils, modalCtrl) {
        this.events = events;
        this.appConstants = appConstants;
        this.sessionUtils = sessionUtils;
        this.modalCtrl = modalCtrl;
        // set the root pages for each tab
        this.tab1Root = __WEBPACK_IMPORTED_MODULE_2__home_home__["a" /* HomePage */];
        this.tab3Root = __WEBPACK_IMPORTED_MODULE_4__search_search__["a" /* SearchPage */];
        this.mySelectedIndex = navParams.data.tabIndex || 0;
        //console.log('navParams.data.tabIndex :',navParams.data.tabIndex );
    }
    TabsPage.prototype.ngOnInit = function () {
        var _this = this;
        this.tab1Root = __WEBPACK_IMPORTED_MODULE_2__home_home__["a" /* HomePage */];
        this.tab2Root = __WEBPACK_IMPORTED_MODULE_3__mywallet_wallet__["a" /* MyWalletPage */];
        this.tab3Root = __WEBPACK_IMPORTED_MODULE_4__search_search__["a" /* SearchPage */];
        this.events.subscribe(this.appConstants.EVENT_LOGIN_STATUS_CHANGED, function () {
            if (!_this.sessionUtils.isUserLoggedIn()) {
                _this.tabRef.select(0);
            }
        });
    };
    TabsPage.prototype.openModal = function () {
        var _this = this;
        if (!this.sessionUtils.isUserLoggedIn()) {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_5__login_login__["a" /* LoginPage */]);
            modal.onDidDismiss(function (isSuccess) {
                if (isSuccess) {
                    _this.tab2Root = __WEBPACK_IMPORTED_MODULE_3__mywallet_wallet__["a" /* MyWalletPage */];
                }
                else {
                    _this.tabRef.select(0);
                }
            });
            modal.present();
        }
        else {
            this.tab2Root = __WEBPACK_IMPORTED_MODULE_3__mywallet_wallet__["a" /* MyWalletPage */];
        }
    };
    return TabsPage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('myTabs'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* Tabs */])
], TabsPage.prototype, "tabRef", void 0);
TabsPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\tabs\tabs.html"*/'<ion-tabs #myTabs class="footer-tabs" [selectedIndex]="mySelectedIndex">\n    <ion-tab [root]="tab1Root" tabIcon="icon-home"></ion-tab>\n    <ion-tab [root]="tab2Root" tabIcon="icon-folder" (ionSelect)="openModal()"></ion-tab>\n    <ion-tab [root]="tab3Root" tabIcon="icon-search" ></ion-tab>\n</ion-tabs>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\tabs\tabs.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_7__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */]])
], TabsPage);

//# sourceMappingURL=tabs.js.map

/***/ }),

/***/ 313:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EnrollmentPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_native__ = __webpack_require__(98);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_user_utils__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_user_address_utils__ = __webpack_require__(97);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_lov_item_utils__ = __webpack_require__(311);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__dto_account_dto__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__dto_lov_item_dto__ = __webpack_require__(1084);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__constants_app_constants__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


















var EnrollmentPage = (function () {
    function EnrollmentPage(navCtrl, clientUtils, userUtils, sessionUtils, configUtils, userAddressUtils, googleAnalyticsUtils, appConstants, lovItemUtils, mcfLoadService, translate, networkService) {
        this.navCtrl = navCtrl;
        this.clientUtils = clientUtils;
        this.userUtils = userUtils;
        this.sessionUtils = sessionUtils;
        this.configUtils = configUtils;
        this.userAddressUtils = userAddressUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.lovItemUtils = lovItemUtils;
        this.mcfLoadService = mcfLoadService;
        this.translate = translate;
        this.networkService = networkService;
        this.pageState = 1;
        this.lastPageState = 1;
        this.titleObj = null;
        this.lastName = '';
        this.firstName = '';
        this.middleName = '';
        this.dobText = '';
        this.areaCode = '';
        this.areaCodeLength = 3;
        this.contactNumber = '';
        this.emailAddress = '';
        this.address1Text = '';
        this.address2Text = '';
        this.postalText = '';
        this.currentPasswordText = '';
        this.passwordText = '';
        this.rePasswordText = '';
        this.answerText = '';
        this.minDate = '';
        this.maxDate = '';
        this.cancelText = '';
        this.selectText = '';
        this.acceptTerms = false;
        this.editingProfile = false;
        this.recievedMemberAnswer = false;
        this.appDisplayName = '';
        this.activeCardNo = null;
        this.addressCityCode = null;
        this.addressStateRegion = null;
        this.confirmMsg = '';
        this.addressId = null;
        this.months = [];
        this.titles = [];
        this.selectedQuestion = null;
        this.questions = [];
        this.countryDialObj = null;
        this.countryAddressObj = null;
        this.countryLovs = [];
        this.selectedStateLov = null;
        this.stateLovs = [];
        this.selectedCityLov = null;
        this.cityLovs = [];
        this.selectedNameSuffix = null;
        this.nameSuffixLovs = [];
        this.passwordRule = null;
        this.passwordGuidelines = null;
        this.shouldShowLoadingCityState = false;
        this.isValidatingForm = false;
        this.shouldDisplayErrorAlert = true;
        this.shouldShowPassword = false;
        this.shouldShowAnswer = false;
        this.passwordFieldLabel = '';
        this.formHasChanges = false;
        this.shouldShowAddressLoading = true;
        this.shouldDisablePersonalInfo = false;
        this.shouldHideContactNumber = false;
        this.consentRequest = { consentStatus: 'Y', activeCardNumber: null, consentCode: 'TNC', consentSource: 'SCB' };
        this.termsFlag = false;
    }
    EnrollmentPage.prototype.ngOnInit = function () {
        this.googleAnalyticsUtils.trackPage(this.analyticsPageTag());
        var nowDate = new Date();
        nowDate.setDate(nowDate.getDate() - (366 * 100));
        this.minDate = this.clientUtils.getFormattedDate('yyyy-MM-dd', nowDate.toDateString());
        nowDate = new Date();
        this.maxDate = this.clientUtils.getFormattedDate('yyyy-MM-dd', nowDate.toDateString());
        nowDate.setDate(nowDate.getDate() - (365.35 * 18));
        this.dobText = this.clientUtils.getFormattedDate('yyyy-MM-dd', nowDate.toDateString());
        this.months = this.clientUtils.fullMonths();
        this.cancelText = this.translate.instant('CANCEL');
        this.selectText = this.translate.instant('SELECT');
        this.appDisplayName = this.clientUtils.getAppDisplayName();
        var titleObj = new __WEBPACK_IMPORTED_MODULE_13__dto_common_dto__["c" /* ConfigInfo */]();
        titleObj.code = 'M';
        titleObj.value = 'Mr';
        this.titles.push(titleObj);
        titleObj = new __WEBPACK_IMPORTED_MODULE_13__dto_common_dto__["c" /* ConfigInfo */]();
        titleObj.code = 'F';
        titleObj.value = 'Ms';
        this.titles.push(titleObj);
        this.titleObj = this.titles[0];
        this.selectedQuestion = new __WEBPACK_IMPORTED_MODULE_14__dto_lov_item_dto__["b" /* SecurityQuestionLov */]();
        this.passwordFieldLabel = this.translate.instant('Password');
        this.passwordRule = new __WEBPACK_IMPORTED_MODULE_12__dto_account_dto__["h" /* PasswordHint */]();
        this.passwordRule.maxPwdLength = 8;
        this.passwordRule.minPwdLength = 1;
        this.updatePasswordRule();
        if (this.sessionUtils.isUserLoggedIn()) {
            this.editingProfile = true;
            this.passwordFieldLabel = this.translate.instant('New Password');
            var memberInfo = this.sessionUtils.getMemberInfo();
            this.lastName = memberInfo.lastName;
            this.firstName = memberInfo.firstName;
            this.middleName = memberInfo.middleName;
            this.emailAddress = memberInfo.emailAddress;
            this.acceptTerms = (memberInfo.termsAccepted == 'Y');
            this.getTncConsentDate(memberInfo.activeCardNo);
            if (memberInfo.lastName && memberInfo.firstName && memberInfo.birthDate) {
                this.shouldDisablePersonalInfo = true;
            }
            if (memberInfo.birthDate) {
                this.dobText = this.clientUtils.getFormattedDate('yyyy-MM-dd', memberInfo.birthDate);
            }
            var gender = memberInfo.gender;
            if (gender && gender.trim().length > 0) {
                for (var index = 0; index < this.titles.length; index++) {
                    if (this.titles[index].code == gender.toUpperCase()) {
                        this.titleObj = this.titles[index];
                        break;
                    }
                }
            }
            else {
                var title = memberInfo.title;
                if (title && title.trim().length > 0) {
                    for (var index = 0; index < this.titles.length; index++) {
                        if (this.titles[index].value.toUpperCase() == title.toUpperCase()) {
                            this.titleObj = this.titles[index];
                            break;
                        }
                    }
                }
            }
        }
    };
    EnrollmentPage.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.navBar.backButtonClick = function (event) {
            _this.backButtonTapped();
        };
        this.fetchNameSuffix();
        this.fetchPasswordHints();
        this.updateSecurityQuestions();
        this.shouldShowAddressLoading = true;
        this.lovItemUtils.getCountryLov(function (result) {
            if (!_this.clientUtils.isNullOrEmpty(result)) {
                _this.countryLovs = result;
                _this.updateContactNumber();
                _this.getMemberAddress();
            }
            else {
                _this.shouldShowAddressLoading = false;
                _this.displayErrorAlert(null);
            }
        }, function (error) {
            _this.shouldShowAddressLoading = false;
            _this.displayErrorAlert(error);
        });
    };
    EnrollmentPage.prototype.onSelectIsd = function (selectedValue) {
        var _this = this;
        if (!this.countryDialObj || (selectedValue && (selectedValue.code != this.countryDialObj.isdCode))) {
            this.shouldHideContactNumber = true;
            this.countryDialObj = selectedValue;
            setTimeout(function () {
                _this.areaCodeLength = selectedValue.isdCode ? (6 - selectedValue.isdCode.length) : 3;
                if (_this.areaCode.length > _this.areaCodeLength) {
                    _this.areaCode = _this.areaCode.substr(0, _this.areaCodeLength);
                }
                _this.shouldHideContactNumber = false;
            }, 500);
        }
    };
    EnrollmentPage.prototype.onSelectCountry = function (selectedValue) {
        this.shouldShowLoadingCityState = true;
        this.updateAddressCountry(selectedValue);
    };
    EnrollmentPage.prototype.backButtonTapped = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_3_ionic_native__["b" /* Keyboard */].close();
        if (this.activeCardNo || (this.editingProfile == true)) {
            this.navCtrl.pop({ animate: true, keyboardClose: true });
            if (this.editingProfile == true) {
                this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), (((this.sessionUtils.isUserLoggedIn()) == true) ?
                    this.appConstants.EDIT_PROFILE_EXIT_EVENT :
                    this.appConstants.ENROLLMENT_EXIT_EVENT));
            }
        }
        else {
            var msg = this.translate.instant('Are you sure you want to cancel your enrollment? You will not be able to save this.');
            var cancelButton = this.translate.instant('No');
            var otherButton_1 = this.translate.instant('Yes');
            this.clientUtils.showAlert(msg, null, cancelButton, [otherButton_1], function (buttonText) {
                if (buttonText == otherButton_1) {
                    _this.googleAnalyticsUtils.trackEvent(_this.analyticsPageTag(), _this.appConstants.ENROLLMENT_EXIT_EVENT);
                    _this.navCtrl.pop({ animate: true, keyboardClose: true });
                }
            });
        }
    };
    EnrollmentPage.prototype.tabButtonsTapped = function (pageState) {
        __WEBPACK_IMPORTED_MODULE_3_ionic_native__["b" /* Keyboard */].close();
        this.content.scrollToTop();
        if (this.pageState > pageState) {
            this.pageState = pageState;
        }
        else if (this.pageState < pageState) {
            var currentPage = this.pageState;
            var index = currentPage;
            var shouldLoop = true;
            while (shouldLoop == true) {
                if (index == currentPage) {
                    var isValid = false;
                    var isDirty = false;
                    if (index == 1) {
                        this.isValidatingForm = true;
                        this.submitButton1.getNativeElement().click();
                        isValid = this.form1.valid;
                        isDirty = this.form1.dirty;
                    }
                    else if (index == 2) {
                        if (this.shouldShowAddressLoading == true) {
                            isValid = true;
                            isDirty = false;
                        }
                        else {
                            this.isValidatingForm = true;
                            this.submitButton2.getNativeElement().click();
                            isValid = this.form2.valid;
                            isDirty = this.form2.dirty;
                        }
                    }
                    else if (index == 3) {
                        this.isValidatingForm = true;
                        this.submitButton3.getNativeElement().click();
                        isValid = this.form3.valid;
                        isDirty = this.form3.dirty;
                    }
                    if ((isValid == false) && (this.editingProfile != true)) {
                        shouldLoop = false;
                    }
                    else {
                        index++;
                    }
                }
                else {
                    var errorMsg = this.validateFields(index);
                    if ((errorMsg != null) && (this.editingProfile != true)) {
                        this.pageState = index;
                        shouldLoop = false;
                    }
                    index++;
                    if (index > pageState) {
                        this.pageState = pageState;
                        shouldLoop = false;
                    }
                }
            }
        }
    };
    EnrollmentPage.prototype.editButtonTapped = function () {
        __WEBPACK_IMPORTED_MODULE_3_ionic_native__["b" /* Keyboard */].close();
        this.content.scrollToTop();
        this.pageState = this.lastPageState;
        this.acceptTerms = false;
        this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), (((this.sessionUtils.isUserLoggedIn()) == true) ?
            this.appConstants.EDIT_PROFILE_EDIT_AGAIN_EVENT :
            this.appConstants.ENROLLMENT_EDIT_AGAIN_EVENT));
    };
    EnrollmentPage.prototype.bottomButtonTapped = function () {
        __WEBPACK_IMPORTED_MODULE_3_ionic_native__["b" /* Keyboard */].close();
        if (this.editingProfile == true) {
            var errorMsg = this.validateFields(this.pageState);
            if (errorMsg != null) {
                this.clientUtils.showAlert(errorMsg);
            }
            else {
                if (this.pageState == 1) {
                    this.formHasChanges = this.form1.dirty;
                    this.pageState = 2;
                }
                else if (this.form2 && !this.form2.dirty && !this.formHasChanges) {
                    if (this.acceptTerms == true) {
                        if (this.isValidatingForm == false) {
                            var errorMsg_1 = this.translate.instant('Please edit your profile');
                            this.clientUtils.showAlert(errorMsg_1);
                        }
                    }
                    else {
                        this.pageState = 3;
                    }
                }
                else {
                    if (this.pageState == 2) {
                        this.formHasChanges = true;
                    }
                    if (this.acceptTerms == true) {
                        if (this.isValidatingForm == false) {
                            this.enrollUser();
                        }
                    }
                    else {
                        this.lastPageState = this.pageState;
                        this.pageState = 4;
                        this.acceptTerms = this.termsFlag;
                    }
                }
            }
        }
        else if (this.pageState < 4) {
            var errorMsg = this.validateFields(this.pageState);
            if (errorMsg != null) {
                this.clientUtils.showAlert(errorMsg);
            }
            else {
                this.content.scrollToTop();
                if ((this.pageState + 1) == 4) {
                    this.lastPageState = this.pageState;
                }
                this.pageState += 1;
            }
        }
        else {
            var errorMsg = this.validateFields(this.pageState);
            if (errorMsg != null) {
                this.clientUtils.showAlert(errorMsg);
            }
            else {
                this.enrollUser();
            }
        }
        this.isValidatingForm = false;
    };
    EnrollmentPage.prototype.termsConditionsTapped = function () {
        __WEBPACK_IMPORTED_MODULE_3_ionic_native__["b" /* Keyboard */].close();
        this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), this.appConstants.TERMS_CONDITIONS_TAPPED_EVENT);
        if (this.networkService.isOnline()) {
            var termsURL = this.configUtils.getTermsConditionsURL();
            this.clientUtils.openWebURL(termsURL);
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    EnrollmentPage.prototype.privacyPolicyTapped = function () {
        __WEBPACK_IMPORTED_MODULE_3_ionic_native__["b" /* Keyboard */].close();
        this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), this.appConstants.PRIVACY_POLICY_TAPPED_EVENT);
        if (this.networkService.isOnline()) {
            var privacyPolicyURL = this.configUtils.getPrivacyPolicyURL();
            this.clientUtils.openWebURL(privacyPolicyURL);
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    EnrollmentPage.prototype.showPassword = function () {
        this.shouldShowPassword = !this.shouldShowPassword;
        this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), this.appConstants.SHOW_HIDE_PASSWORD_TEXT_TAPPED_EVENT);
    };
    EnrollmentPage.prototype.showAnswer = function () {
        this.shouldShowAnswer = !this.shouldShowAnswer;
        this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), this.appConstants.SHOW_HIDE_ANSWER_TEXT_TAPPED_EVENT);
    };
    EnrollmentPage.prototype.analyticsPageTag = function () {
        return (((this.sessionUtils.isUserLoggedIn()) == true) ?
            this.appConstants.EDIT_PROFILE_SCREEN :
            this.appConstants.ENROLLMENT_SCREEN);
    };
    EnrollmentPage.prototype.displayErrorAlert = function (error) {
        var _this = this;
        if (this.shouldDisplayErrorAlert == true) {
            this.shouldDisplayErrorAlert = false;
            var msg = this.translate.instant('An error has occurred. Please try again later.');
            this.clientUtils.showAlert(msg, null, null, [], function (buttonText) {
                _this.navCtrl.pop({ animate: true, keyboardClose: true });
            });
        }
    };
    EnrollmentPage.prototype.updateContactNumber = function () {
        var fullContactNumber = null;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            fullContactNumber = memberInfo.mobileNumber;
        }
        if (this.clientUtils.isNullOrEmpty(fullContactNumber)) {
            var geocodes = this.userAddressUtils.getUserAddressContext();
            if (!this.clientUtils.isNullOrEmpty(geocodes)) {
                var addressComponent = null;
                for (var index = 0; index < geocodes.length; index++) {
                    var locationObj = geocodes[index];
                    if (!this.clientUtils.isNullOrEmpty(locationObj.address_components)) {
                        for (var i = 0; i < locationObj.address_components.length; i++) {
                            var obj = locationObj.address_components[i];
                            if (!this.clientUtils.isNullOrEmpty(obj.types)) {
                                for (var j = 0; j < obj.types.length; j++) {
                                    var country = obj.types[j];
                                    if (country.trim().toUpperCase() == 'COUNTRY') {
                                        addressComponent = obj;
                                        break;
                                    }
                                }
                                if (!this.clientUtils.isNullOrEmpty(addressComponent)) {
                                    break;
                                }
                            }
                        }
                        if (!this.clientUtils.isNullOrEmpty(addressComponent)) {
                            break;
                        }
                    }
                }
                if (!this.clientUtils.isNullOrEmpty(addressComponent)) {
                    for (var index = 0; index < this.countryLovs.length; index++) {
                        var obj = this.countryLovs[index];
                        if (obj.code == addressComponent.short_name) {
                            this.countryDialObj = obj;
                            this.areaCodeLength = this.countryDialObj.isdCode ? (6 - this.countryDialObj.isdCode.length) : 3;
                            if (this.editingProfile == false) {
                                this.updateAddressCountry(obj);
                            }
                            break;
                        }
                    }
                }
            }
        }
        else {
            for (var index = 0; index < this.countryLovs.length; index++) {
                var obj = this.countryLovs[index];
                if (!this.clientUtils.isNullOrEmpty(obj.isdCode) && fullContactNumber.startsWith(obj.isdCode)) {
                    if (!this.countryDialObj || !this.countryDialObj.isdCode ||
                        (obj.isdCode.length > this.countryDialObj.isdCode.length)) {
                        this.countryDialObj = obj;
                    }
                }
            }
            var contactNumber = fullContactNumber;
            if (this.countryDialObj && this.countryDialObj.isdCode) {
                this.areaCodeLength = 6 - this.countryDialObj.isdCode.length;
                contactNumber = fullContactNumber.substr(this.countryDialObj.isdCode.length);
                if (this.editingProfile == false) {
                    this.updateAddressCountry(this.countryDialObj);
                }
            }
            if (contactNumber) {
                if (contactNumber.length > this.areaCodeLength) {
                    this.areaCode = contactNumber.substr(0, this.areaCodeLength);
                    this.contactNumber = contactNumber.substr(this.areaCodeLength);
                }
                else {
                    this.areaCode = contactNumber;
                    this.contactNumber = '';
                }
            }
            else {
                this.areaCode = '';
                this.contactNumber = '';
            }
        }
        if (!this.countryDialObj || !this.countryDialObj.code) {
            this.countryDialObj = this.countryLovs[0];
            this.areaCodeLength = this.countryDialObj.isdCode ? (6 - this.countryDialObj.isdCode.length) : 3;
        }
        if ((this.editingProfile == false) && (!this.countryAddressObj || !this.countryAddressObj.code)) {
            this.updateAddressCountry(this.countryLovs[0]);
        }
    };
    EnrollmentPage.prototype.getMemberAddress = function () {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var profileInfo = new __WEBPACK_IMPORTED_MODULE_12__dto_account_dto__["f" /* MemberInfo */]();
            profileInfo.personId = memberInfo.personId;
            this.userUtils.getMemberAddress(profileInfo, function (response) {
                if (response && !_this.clientUtils.isNullOrEmpty(response.data)) {
                    var addressInfo = null;
                    var addressList = response.data;
                    for (var index = 0; index < addressList.length; index++) {
                        var obj = addressList[index];
                        if (obj.usages && (obj.usages.trim().length > 0)) {
                            var usageList = obj.usages.split(',');
                            if (usageList) {
                                for (var i = 0; i < usageList.length; i++) {
                                    if (usageList[i] == 'PREF') {
                                        addressInfo = obj;
                                        break;
                                    }
                                }
                            }
                            if (addressInfo != null) {
                                break;
                            }
                        }
                    }
                    if (addressInfo == null) {
                        addressInfo = response.data[0];
                    }
                    if (addressInfo.addressID) {
                        _this.addressId = addressInfo.addressID;
                    }
                    if (!_this.clientUtils.isNullOrEmpty(addressInfo.cityIataCode)) {
                        for (var index = 0; index < _this.cityLovs.length; index++) {
                            var obj = _this.cityLovs[index];
                            if (obj.code == addressInfo.cityIataCode) {
                                _this.selectedCityLov = obj;
                                break;
                            }
                        }
                        _this.addressCityCode = addressInfo.cityIataCode;
                    }
                    var stateText = null;
                    if (addressInfo.state && (addressInfo.state.trim().length > 0)) {
                        stateText = addressInfo.state.trim();
                    }
                    else if (addressInfo.region && (addressInfo.region.trim().length > 0)) {
                        stateText = addressInfo.state.trim();
                    }
                    if (stateText) {
                        for (var index = 0; index < _this.stateLovs.length; index++) {
                            var obj = _this.stateLovs[index];
                            if (obj.descr == stateText) {
                                _this.selectedStateLov = obj;
                                break;
                            }
                        }
                        _this.addressStateRegion = stateText;
                    }
                    if (!_this.clientUtils.isNullOrEmpty(addressInfo.country)) {
                        for (var index = 0; index < _this.countryLovs.length; index++) {
                            var obj = _this.countryLovs[index];
                            if (obj.code == addressInfo.country) {
                                _this.updateAddressCountry(obj);
                                break;
                            }
                        }
                    }
                    if (!_this.countryAddressObj || !_this.countryAddressObj.code) {
                        _this.updateAddressCountry((_this.countryDialObj && _this.countryDialObj.code) ?
                            _this.countryDialObj : _this.countryLovs[0]);
                    }
                    if (addressInfo.address1 && (addressInfo.address1.trim().length > 0)) {
                        _this.address1Text = addressInfo.address1;
                    }
                    if (addressInfo.address2 && (addressInfo.address2.trim().length > 0)) {
                        _this.address2Text = addressInfo.address2;
                    }
                    if (addressInfo.poBox && (addressInfo.poBox.trim().length > 0)) {
                        _this.postalText = addressInfo.poBox.trim();
                    }
                    else if (addressInfo.postCode && (addressInfo.postCode.trim().length > 0)) {
                        _this.postalText = addressInfo.postCode.trim();
                    }
                }
                else if (_this.editingProfile == true) {
                    _this.shouldShowAddressLoading = false;
                    _this.displayErrorAlert(null);
                }
            }, function (error) {
                _this.shouldShowAddressLoading = false;
                if (_this.editingProfile == true) {
                    _this.displayErrorAlert(error);
                }
            });
        }
        else {
            this.shouldShowAddressLoading = false;
        }
    };
    EnrollmentPage.prototype.fetchNameSuffix = function () {
        var _this = this;
        this.lovItemUtils.getNameSuffixLov(function (result) {
            if (!_this.clientUtils.isNullOrEmpty(result)) {
                _this.nameSuffixLovs = result;
                var defaultSuffix = new __WEBPACK_IMPORTED_MODULE_14__dto_lov_item_dto__["a" /* NameSuffixLov */]();
                defaultSuffix.code = _this.translate.instant('None');
                defaultSuffix.descr = null;
                _this.nameSuffixLovs.splice(0, 0, defaultSuffix);
                _this.selectedNameSuffix = _this.nameSuffixLovs[0];
                if (_this.sessionUtils.isUserLoggedIn()) {
                    var memberInfo = _this.sessionUtils.getMemberInfo();
                    if (memberInfo.nameSuffix) {
                        for (var index = 0; index < _this.nameSuffixLovs.length; index++) {
                            if (_this.nameSuffixLovs[index].code == memberInfo.nameSuffix) {
                                _this.selectedNameSuffix = _this.nameSuffixLovs[index];
                                break;
                            }
                        }
                    }
                }
            }
        }, function (error) {
        });
    };
    EnrollmentPage.prototype.updateSecurityQuestions = function () {
        var _this = this;
        this.lovItemUtils.getSecurityQuestions(function (result) {
            if (!_this.clientUtils.isNullOrEmpty(result)) {
                _this.questions = result;
                _this.selectedQuestion = _this.questions[0];
                _this.getMemberSecurityQuestion();
            }
            else if (_this.editingProfile == false) {
                _this.displayErrorAlert(null);
            }
        }, function (error) {
            if (_this.editingProfile == false) {
                _this.displayErrorAlert(error);
            }
        });
    };
    EnrollmentPage.prototype.getMemberSecurityQuestion = function () {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var profileInfo = new __WEBPACK_IMPORTED_MODULE_12__dto_account_dto__["f" /* MemberInfo */]();
            profileInfo.activeCardNo = memberInfo.activeCardNo;
            this.userUtils.getMemberSecurityQuestion(profileInfo, function (response) {
                if (!_this.clientUtils.isNullOrEmpty(response.data)) {
                    var profileInfo_1 = response.data[0];
                    if (profileInfo_1.questionId) {
                        for (var index = 0; index < _this.questions.length; index++) {
                            if (_this.questions[index].code == profileInfo_1.questionId) {
                                _this.selectedQuestion = _this.questions[index];
                                if (profileInfo_1.answer) {
                                    _this.answerText = profileInfo_1.answer;
                                    _this.recievedMemberAnswer = true;
                                }
                                break;
                            }
                        }
                    }
                }
            }, function (error) {
            });
        }
    };
    EnrollmentPage.prototype.updateAddressCountry = function (countryObj) {
        var _this = this;
        if (this.networkService.isOnline()) {
            if (!this.countryAddressObj || (countryObj && (countryObj.code != this.countryAddressObj.code))) {
                this.countryAddressObj = countryObj;
                if (this.shouldShowLoadingCityState == true) {
                    this.mcfLoadService.show('');
                }
                this.stateLovs = [];
                this.selectedStateLov = null;
                this.cityLovs = [];
                this.selectedCityLov = null;
                this.fetchStateLovs().then(function (error) {
                    if (error) {
                    }
                    _this.fetchCityLovs().then(function (error) {
                        if (error) {
                        }
                        _this.shouldShowAddressLoading = false;
                        if (_this.shouldShowLoadingCityState == true) {
                            _this.shouldShowLoadingCityState = false;
                            _this.mcfLoadService.hide();
                        }
                    });
                });
            }
            else {
                this.shouldShowAddressLoading = false;
                this.shouldShowLoadingCityState = false;
            }
        }
        else {
            this.shouldShowAddressLoading = false;
            this.shouldShowLoadingCityState = false;
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    EnrollmentPage.prototype.fetchStateLovs = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.lovItemUtils.getStateLov(_this.countryAddressObj.code, function (result) {
                if (!_this.clientUtils.isNullOrEmpty(result)) {
                    _this.stateLovs = result;
                    var foundObj = false;
                    if (_this.addressStateRegion) {
                        for (var index = 0; index < _this.stateLovs.length; index++) {
                            var obj = _this.stateLovs[index];
                            if (obj.code == _this.addressStateRegion) {
                                _this.selectedStateLov = obj;
                                foundObj = true;
                                break;
                            }
                        }
                    }
                    if (foundObj == false) {
                        _this.selectedStateLov = _this.stateLovs[0];
                    }
                }
                else {
                    _this.stateLovs = [];
                }
                resolve(null);
            }, function (error) {
                resolve(error);
            });
        });
    };
    EnrollmentPage.prototype.fetchCityLovs = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.lovItemUtils.getCityLov(_this.countryAddressObj.code, function (result) {
                if (!_this.clientUtils.isNullOrEmpty(result)) {
                    _this.cityLovs = result;
                    var foundObj = false;
                    if (_this.addressCityCode) {
                        for (var index = 0; index < _this.cityLovs.length; index++) {
                            var obj = _this.cityLovs[index];
                            if (obj.code == _this.addressCityCode) {
                                _this.selectedCityLov = obj;
                                foundObj = true;
                                break;
                            }
                        }
                    }
                    if (foundObj == false) {
                        _this.selectedCityLov = _this.cityLovs[0];
                    }
                }
                else {
                    _this.cityLovs = [];
                }
                resolve(null);
            }, function (error) {
                resolve(error);
            });
        });
    };
    EnrollmentPage.prototype.fetchPasswordHints = function () {
        var _this = this;
        this.userUtils.getPasswordHints(function (response) {
            if (!_this.clientUtils.isNullOrEmpty(response.data) &&
                response.data[0].passwordHints &&
                !_this.clientUtils.isNullOrEmpty(response.data[0].passwordCharacters)) {
                _this.passwordRule = response.data[0].passwordHints;
                _this.passwordRule.specialCharset = "";
                var pwdChars = response.data[0].passwordCharacters;
                for (var index = 0; index < pwdChars.length; index++) {
                    if (pwdChars[index].code = "&" && pwdChars[index].characterset) {
                        _this.passwordRule.specialCharset = pwdChars[index].characterset;
                        break;
                    }
                }
                _this.updatePasswordRule();
            }
        }, function (error) {
        });
    };
    EnrollmentPage.prototype.updatePasswordRule = function () {
        if (this.passwordRule) {
            var passwordGuidelines = '';
            if (this.passwordRule.maxPwdLength && this.passwordRule.minPwdLength) {
                var minText = this.passwordRule.minPwdLength.toString();
                var maxText = this.passwordRule.maxPwdLength.toString();
                var text = this.translate.instant('It must have MIN-MAX characters');
                var keywords = ['[MIN]', '[MAX]'];
                var values = [minText, maxText];
                passwordGuidelines += '<li>' + this.clientUtils.replaceKeywordsWithValues(text, keywords, values) + '</li>';
            }
            if (this.passwordRule.specialChar == 'Y') {
                passwordGuidelines += '<li>' + this.translate.instant('It must contain special character') + '</li>';
            }
            if (this.passwordRule.upperCase == 'Y') {
                passwordGuidelines += '<li>' + this.translate.instant('It must contain uppercase') + '</li>';
            }
            if (this.passwordRule.lowerCase == 'Y') {
                passwordGuidelines += '<li>' + this.translate.instant('It must contain lowercase') + '</li>';
            }
            if (this.passwordRule.numeric == 'Y') {
                passwordGuidelines += '<li>' + this.translate.instant('It must contain numbers') + '</li>';
            }
            if (passwordGuidelines && passwordGuidelines.length > 0) {
                this.passwordGuidelines = '<div>' + this.translate.instant('Password Guidelines') + '</div>' +
                    passwordGuidelines;
            }
            else {
                this.passwordGuidelines = null;
            }
        }
        else {
            this.passwordGuidelines = null;
        }
    };
    EnrollmentPage.prototype.isValidPassword = function () {
        if (this.clientUtils.isNullOrEmpty(this.passwordText)) {
            return false;
        }
        if (this.passwordRule) {
            if (this.passwordRule.maxPwdLength && this.passwordRule.minPwdLength) {
                if (this.passwordText.trim().length < this.passwordRule.minPwdLength) {
                    return false;
                }
                if (this.passwordText.trim().length > this.passwordRule.maxPwdLength) {
                    return false;
                }
            }
            if (this.passwordRule.specialChar == 'Y') {
                var isFound = (this.passwordRule.specialCharset.length <= 0);
                for (var index = 0; index < this.passwordRule.specialCharset.length; index++) {
                    if (this.passwordText.includes(this.passwordRule.specialCharset.charAt(index)) == true) {
                        isFound = true;
                        break;
                    }
                }
                if (isFound == false) {
                    return false;
                }
            }
            if (this.passwordRule.upperCase == 'Y') {
                var regex = new RegExp('[A-Z]');
                var matches = this.passwordText.match(regex);
                if (!matches) {
                    return false;
                }
            }
            if (this.passwordRule.lowerCase == 'Y') {
                var regex = new RegExp('[a-z]');
                var matches = this.passwordText.match(regex);
                if (!matches) {
                    return false;
                }
            }
            if (this.passwordRule.numeric == 'Y') {
                var regex = new RegExp('[0-9]');
                var matches = this.passwordText.match(regex);
                if (!matches) {
                    return false;
                }
            }
        }
        return true;
    };
    EnrollmentPage.prototype.validateFields = function (pageState) {
        var errorMessage = null;
        if (pageState == 1) {
            if (this.clientUtils.isNullOrEmpty(this.titleObj)) {
                errorMessage = this.translate.instant("Title can not be empty");
            }
            else if (!this.lastName || this.lastName.trim().length == 0) {
                errorMessage = this.translate.instant("Last name can not be empty");
            }
            else if (!this.firstName || this.firstName.trim().length == 0) {
                errorMessage = this.translate.instant("First name can not be empty");
            }
            else if (!this.dobText || this.dobText.length == 0) {
                errorMessage = this.translate.instant("Date of birth can not be empty");
            }
        }
        else if (pageState == 2) {
            if (!this.areaCode || this.areaCode.trim().length == 0) {
                errorMessage = this.translate.instant("Invalid area code");
            }
            else if (!this.contactNumber || this.contactNumber.trim().length == 0) {
                errorMessage = this.translate.instant("Invalid contact number");
            }
            else if (this.clientUtils.isValidEmailAddress(this.emailAddress) == false) {
                errorMessage = this.translate.instant("Invalid email address");
            }
            else if (!this.selectedCityLov || !this.selectedCityLov.code) {
                errorMessage = this.translate.instant("City/Province can not be empty");
            }
            else if (!this.address1Text || this.address1Text.trim().length == 0) {
                errorMessage = this.translate.instant("Number/Street can not be empty");
            }
            else if (!this.postalText || this.postalText.trim().length == 0) {
                errorMessage = this.translate.instant("Postal/Zip Code can not be empty");
            }
        }
        else if (pageState == 3) {
            if (this.isValidPassword() != true) {
                if (this.editingProfile != true) {
                    this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), this.appConstants.INVALID_PASSWORD_EVENT);
                    errorMessage = this.translate.instant("Invalid Password");
                }
            }
            else if (this.passwordText != this.rePasswordText) {
                errorMessage = this.translate.instant("Password does not match");
            }
            if ((errorMessage == null) && !this.clientUtils.isNullOrEmpty(this.questions)) {
                if (!this.selectedQuestion || !this.selectedQuestion.code) {
                    if (this.editingProfile != true) {
                        errorMessage = this.translate.instant("Security question can not be empty");
                    }
                }
                else if (!this.answerText || this.answerText.trim().length < 0) {
                    errorMessage = this.translate.instant("Invalid security answer");
                }
            }
        }
        else if (pageState == 4) {
            if (this.acceptTerms != true) {
                errorMessage = this.translate.instant("Please read and agree with the Terms & Conditions and Privacy Policy");
            }
        }
        return errorMessage;
    };
    EnrollmentPage.prototype.enrollUser = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), this.appConstants.SUBMIT_SAVE_EVENT);
        if (this.networkService.isOnline()) {
            if ((this.editingProfile != true) || this.formHasChanges) {
                this.mcfLoadService.show('');
                var profileInfo_2 = new __WEBPACK_IMPORTED_MODULE_12__dto_account_dto__["f" /* MemberInfo */]();
                profileInfo_2.registrationType = 'M';
                profileInfo_2.title = this.titleObj.value;
                profileInfo_2.gender = this.titleObj.code;
                profileInfo_2.lastName = this.lastName.trim();
                profileInfo_2.firstName = this.firstName.trim();
                profileInfo_2.middleName = this.middleName ? this.middleName.trim() : '';
                profileInfo_2.birthDate = this.dobText;
                profileInfo_2.emailAddress = this.emailAddress.trim();
                profileInfo_2.nationality = this.countryAddressObj.code;
                profileInfo_2.termsAccepted = (this.acceptTerms == true) ? 'Y' : 'N';
                if (this.selectedNameSuffix && this.selectedNameSuffix.code && this.selectedNameSuffix.descr) {
                    profileInfo_2.nameSuffix = this.selectedNameSuffix.code;
                }
                if (this.areaCode && this.contactNumber) {
                    var contactInfo = new __WEBPACK_IMPORTED_MODULE_12__dto_account_dto__["e" /* MemberContactInfo */]();
                    contactInfo.areaCode = this.areaCode.trim();
                    contactInfo.contactNumber = this.contactNumber.trim();
                    contactInfo.isdCode = this.countryDialObj.isdCode;
                    profileInfo_2.contact = contactInfo;
                }
                var addressInfo = new __WEBPACK_IMPORTED_MODULE_12__dto_account_dto__["d" /* MemberAddressInfo */]();
                addressInfo.address1 = this.address1Text ? this.address1Text.trim() : '';
                addressInfo.address2 = this.address2Text ? this.address2Text.trim() : '';
                addressInfo.cityIataCode = (this.selectedCityLov && this.selectedCityLov.code) ? this.selectedCityLov.code : undefined;
                addressInfo.postCode = this.postalText ? this.postalText.trim() : '';
                addressInfo.region = (this.selectedStateLov && this.selectedStateLov.code) ? this.selectedStateLov.code : undefined;
                addressInfo.country = this.countryAddressObj.code;
                if (this.addressId) {
                    addressInfo.addressID = this.addressId;
                }
                profileInfo_2.address = addressInfo;
                if (this.editingProfile == true) {
                    var memberInfo = this.sessionUtils.getMemberInfo();
                    profileInfo_2.activeCardNo = memberInfo.activeCardNo;
                    profileInfo_2.memUID = memberInfo.memUID;
                    profileInfo_2.personId = memberInfo.personId;
                }
                else if (this.passwordText && this.passwordText.trim().length > 0) {
                    profileInfo_2.password = this.passwordText.trim();
                }
                this.userUtils.saveProfile(profileInfo_2, this.editingProfile, function (response) {
                    if (_this.editingProfile == true) {
                        _this.googleAnalyticsUtils.trackEvent(_this.analyticsPageTag(), _this.appConstants.EDIT_PROFILE_SUCCESSFUL_EVENT);
                        _this.userUtils.fetchProfile(function (response) {
                            _this.changePassword();
                        }, function (error) {
                            _this.changePassword();
                        });
                        _this.consentRequest.activeCardNumber = profileInfo_2.activeCardNo;
                    }
                    else {
                        _this.googleAnalyticsUtils.trackEvent(_this.analyticsPageTag(), _this.appConstants.ENROLLMENT_SUCCESSFUL_EVENT);
                        _this.mcfLoadService.hide();
                        var activeCard = response.data[0].activeCardNo;
                        _this.consentRequest.activeCardNumber = activeCard;
                        if (!_this.clientUtils.isNullOrEmpty(response.data)) {
                            _this.profileCreatedConfirm(response.data[0]);
                        }
                        else {
                            _this.navCtrl.pop({ animate: true, keyboardClose: true });
                        }
                    }
                    if (!_this.termsFlag) {
                        _this.consentRequest.consentStatus = 'Y';
                        _this.userUtils.postConsentDate(_this.consentRequest, function (result) {
                        }, function (error) {
                        });
                    }
                }, function (error) {
                    _this.mcfLoadService.hide();
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showAlert(msg);
                    _this.googleAnalyticsUtils.trackEvent(_this.analyticsPageTag(), (((_this.sessionUtils.isUserLoggedIn()) == true) ?
                        _this.appConstants.EDIT_PROFILE_UNSUCCESSFUL_EVENT :
                        _this.appConstants.ENROLLMENT_UNSUCCESSFUL_EVENT), msg);
                });
            }
            else {
                this.mcfLoadService.show('');
                this.changePassword();
            }
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    EnrollmentPage.prototype.profileCreatedConfirm = function (profileInfo) {
        this.activeCardNo = profileInfo.activeCardNo;
        this.saveMemberSecurityQuestion(profileInfo);
        this.confirmMsg = profileInfo.message;
        this.pageState = 5;
        this.googleAnalyticsUtils.trackPage(this.appConstants.ENROLLMENT_SUCCESSFUL_WELCOME_SCREEN);
    };
    EnrollmentPage.prototype.profileUpdated = function () {
        var _this = this;
        var memberInfo = this.sessionUtils.getMemberInfo();
        this.saveMemberSecurityQuestion(memberInfo);
        this.mcfLoadService.hide();
        this.clientUtils.showAlert(this.translate.instant('You have successfully edited your profile.'), null, null, [], function (buttonText) {
            _this.navCtrl.pop({ animate: true, keyboardClose: true });
        });
    };
    EnrollmentPage.prototype.changePassword = function () {
        var _this = this;
        if ((this.currentPasswordText && this.currentPasswordText.trim().length > 0) &&
            (this.passwordText && this.passwordText.trim().length > 0)) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var profileInfo = new __WEBPACK_IMPORTED_MODULE_12__dto_account_dto__["f" /* MemberInfo */]();
            profileInfo.username = memberInfo.activeCardNo;
            profileInfo.personId = memberInfo.personId;
            profileInfo.oldPassword = this.currentPasswordText.trim();
            profileInfo.newPassword = this.passwordText.trim();
            this.userUtils.changePassword(profileInfo, function (response) {
                _this.googleAnalyticsUtils.trackEvent(_this.analyticsPageTag(), _this.appConstants.EDIT_PASSWORD_SUCCESSFUL_EVENT);
                _this.profileUpdated();
            }, function (error) {
                _this.mcfLoadService.hide();
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                // this.clientUtils.showAlert(msg);
                _this.clientUtils.showToast(msg);
                _this.googleAnalyticsUtils.trackEvent(_this.analyticsPageTag(), _this.appConstants.EDIT_PASSWORD_UNSUCCESSFUL_EVENT, msg);
            });
        }
        else {
            this.profileUpdated();
        }
    };
    EnrollmentPage.prototype.saveMemberSecurityQuestion = function (memberInfo) {
        var _this = this;
        if (this.selectedQuestion && this.selectedQuestion.code) {
            if (this.answerText && this.answerText.trim().length > 0) {
                var profileInfo = new __WEBPACK_IMPORTED_MODULE_12__dto_account_dto__["f" /* MemberInfo */]();
                profileInfo.activeCardNo = memberInfo.activeCardNo;
                profileInfo.personId = memberInfo.personId;
                profileInfo.questionId = this.selectedQuestion.code;
                profileInfo.answer = this.answerText.trim();
                this.userUtils.saveMemberSecurityQuestion(profileInfo, this.recievedMemberAnswer, function (response) {
                    _this.googleAnalyticsUtils.trackEvent(_this.analyticsPageTag(), _this.appConstants.SECURITY_QUESTION_UPDATE_SUCCESSFUL_EVENT);
                }, function (error) {
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.googleAnalyticsUtils.trackEvent(_this.analyticsPageTag(), _this.appConstants.SECURITY_QUESTION_UPDATE_UNSUCCESSFUL_EVENT, msg);
                });
            }
        }
    };
    EnrollmentPage.prototype.loginButtonTapped = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.ENROLLMENT_SUCCESSFUL_WELCOME_SCREEN, this.appConstants.LOGIN_EVENT);
        if (this.passwordText && this.passwordText.trim().length > 0) {
            if (this.networkService.isOnline()) {
                this.mcfLoadService.show('');
                var password = this.passwordText.trim();
                this.userUtils.doLogin(this.activeCardNo, password, function (result) {
                    _this.mcfLoadService.hide();
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.ENROLLMENT_SUCCESSFUL_WELCOME_SCREEN, _this.appConstants.LOGIN_SUCCESSFUL);
                    _this.navCtrl.pop({ animate: true, keyboardClose: true });
                }, function (error) {
                    _this.mcfLoadService.hide();
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showAlert(msg, null, null, [], function (buttonText) {
                        _this.navCtrl.pop({ animate: true, keyboardClose: true });
                    });
                    _this.googleAnalyticsUtils.trackEvent(_this.appConstants.ENROLLMENT_SUCCESSFUL_WELCOME_SCREEN, _this.appConstants.LOGIN_UNSUCCESSFUL, msg);
                });
            }
            else {
                this.clientUtils.showToast(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
                this.navCtrl.pop({ animate: true, keyboardClose: true });
            }
        }
        else {
            this.navCtrl.pop({ animate: true, keyboardClose: true });
        }
    };
    EnrollmentPage.prototype.getTncConsentDate = function (activeCardNo) {
        var _this = this;
        var consentConfig = this.configUtils.getTncConsentObj();
        var reqObj = {
            "activeCardNumber": activeCardNo,
            "consentCode": consentConfig.tncCode
        };
        this.userUtils.getConsentDate(reqObj, function (result) {
            if (consentConfig.tncFlag) {
                if (result.consentStatus) {
                    _this.termsFlag = result.consentStatus == 'Y' ? true : false;
                }
                else {
                    _this.termsFlag = false;
                }
            }
        }, function (error) {
            _this.termsFlag = false;
        });
    };
    return EnrollmentPage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["d" /* Content */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["d" /* Content */])
], EnrollmentPage.prototype, "content", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('navBar'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["p" /* Navbar */])
], EnrollmentPage.prototype, "navBar", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('form1'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_forms__["e" /* NgForm */])
], EnrollmentPage.prototype, "form1", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('form2'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_forms__["e" /* NgForm */])
], EnrollmentPage.prototype, "form2", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('form3'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_forms__["e" /* NgForm */])
], EnrollmentPage.prototype, "form3", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('submitButton1'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["c" /* Button */])
], EnrollmentPage.prototype, "submitButton1", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('submitButton2'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["c" /* Button */])
], EnrollmentPage.prototype, "submitButton2", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('submitButton3'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["c" /* Button */])
], EnrollmentPage.prototype, "submitButton3", void 0);
EnrollmentPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'enrollment-page',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\enrollment\enrollment.html"*/'<ion-header class="header-dark offer-popup-content">\n    <ion-navbar #navBar>\n\n        <ion-title>\n            <span *ngIf="editingProfile != true">{{\'Enrollment\' | translate}}</span>\n            <span *ngIf="editingProfile == true">{{\'Edit Profile\' | translate}}</span>\n        </ion-title>\n\n    </ion-navbar>\n</ion-header>\n<ion-content>\n    <div>\n        <div class="registration-progress" *ngIf="pageState < 5">\n            <ion-grid>\n                <ion-row>\n                    <ion-col col-sm-4 col-md-4 col-lg-4\n                             class="filled"\n                             (click)="tabButtonsTapped(1)"\n                             *ngIf="pageState == 1 && pageState < 4">\n                        <span>{{\'Personal\' | translate}}</span>\n                    </ion-col>\n                    <ion-col col-sm-4 col-md-4 col-lg-4\n                             class="not-filled"\n                             (click)="tabButtonsTapped(1)"\n                             *ngIf="pageState != 1 && pageState < 4">\n                        <span>{{\'Personal\' | translate}}</span>\n                    </ion-col>\n                    <ion-col col-sm-4 col-md-4 col-lg-4\n                             class="filled"\n                             (click)="tabButtonsTapped(2)"\n                             *ngIf="pageState == 2 && pageState < 4">\n                        <span>{{\'Contact\' | translate}}</span>\n                    </ion-col>\n                    <ion-col col-sm-4 col-md-4 col-lg-4\n                             class="not-filled"\n                             (click)="tabButtonsTapped(2)"\n                             *ngIf="pageState != 2 && pageState < 4">\n                        <span>{{\'Contact\' | translate}}</span>\n                    </ion-col>\n                    <ion-col col-sm-4 col-md-4 col-lg-4\n                             class="filled"\n                             (click)="tabButtonsTapped(3)"\n                             *ngIf="pageState == 3 && pageState < 4">\n                        <span>{{\'Password\' | translate}}</span>\n                    </ion-col>\n                    <ion-col col-sm-4 col-md-4 col-lg-4\n                             class="not-filled"\n                             (click)="tabButtonsTapped(3)"\n                             *ngIf="pageState != 3 && pageState < 4">\n                        <span>{{\'Password\' | translate}}</span>\n                    </ion-col>\n                    <ion-col col-sm-4 col-md-4 col-lg-4\n                             class="filled"\n                             *ngIf="pageState == 4">\n                        <span>{{\'Summary\' | translate}}</span>\n                    </ion-col>\n                </ion-row>\n            </ion-grid>\n        </div>\n        <div class="registration-form" *ngIf="pageState < 5">\n            <form #form1="ngForm" (ngSubmit)="bottomButtonTapped()" *ngIf="pageState == 1">\n                <ion-list>\n                    <ul>\n                        <li>{{\'Name should match travel documents such as Passport\' | translate}}</li>\n                    </ul>\n                    <ion-item>\n                        <ion-label class="required-field" floating>{{\'Title\' | translate}}</ion-label>\n                        <ion-select cancelText="{{\'CANCEL\' | translate}}"\n                                    okText="{{\'SELECT\' | translate}}"\n                                    [(ngModel)]="titleObj"\n                                    name="titleText"\n                                    id="titleText"\n                                    [disabled]="shouldDisablePersonalInfo"\n                                    required>\n                            <ion-option *ngFor="let item of titles"\n                                        [value]="item"\n                                        [selected]="titleObj && (item.value == titleObj.value)">\n                                {{item.value}}\n                            </ion-option>\n                        </ion-select>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label class="required-field" floating>{{\'Last Name\' | translate}}</ion-label>\n                        <ion-input type="text"\n                                   [(ngModel)]="lastName"\n                                   name="lastName"\n                                   id="lastName"\n                                   spellcheck="false"\n                                   autocapitalize="sentences"\n                                   minlength="2"\n                                   maxlength="20"\n                                   pattern=""\n                                   [disabled]="shouldDisablePersonalInfo"\n                                   required>\n                        </ion-input>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label class="required-field" floating>{{\'First Name\' | translate}}</ion-label>\n                        <ion-input type="text"\n                                   [(ngModel)]="firstName"\n                                   name="firstName"\n                                   id="firstName"\n                                   spellcheck="false"\n                                   autocapitalize="sentences"\n                                   minlength="2"\n                                   maxlength="20"\n                                   pattern=""\n                                   [disabled]="shouldDisablePersonalInfo"\n                                   required>\n                        </ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="!shouldDisablePersonalInfo || middleName">\n                        <ion-label floating>{{\'Middle Name\' | translate}}</ion-label>\n                        <ion-input type="text"\n                                   [(ngModel)]="middleName"\n                                   name="middleName"\n                                   id="middleName"\n                                   spellcheck="false"\n                                   autocapitalize="sentences"\n                                   pattern=""\n                                   [disabled]="shouldDisablePersonalInfo"\n                                   maxlength="20">\n                        </ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="!shouldDisablePersonalInfo || (nameSuffixLovs && nameSuffixLovs.length > 0)">\n                        <ion-label floating>{{\'Suffix\' | translate}}</ion-label>\n                        <ion-select cancelText="{{\'CANCEL\' | translate}}"\n                                    okText="{{\'SELECT\' | translate}}"\n                                    [(ngModel)]="selectedNameSuffix"\n                                    name="selectedNameSuffix"\n                                    id="selectedNameSuffix"\n                                    [disabled]="shouldDisablePersonalInfo">\n                            <ion-option *ngFor="let item of nameSuffixLovs"\n                                        [value]="item"\n                                        [selected]="selectedNameSuffix && (item.code == selectedNameSuffix.code)">\n                                {{item.code}}\n                            </ion-option>\n                        </ion-select>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label class="required-field" floating>{{\'Date Of Birth\' | translate}}</ion-label>\n                        <ion-datetime displayFormat="DD MMMM YYYY"\n                                      [min]="minDate"\n                                      [max]="maxDate"\n                                      [(ngModel)]="dobText"\n                                      [cancelText]="cancelText"\n                                      [doneText]="selectText"\n                                      [monthNames]="months"\n                                      name="dobText"\n                                      id="dobText"\n                                      [disabled]="shouldDisablePersonalInfo"\n                                      required>\n                        </ion-datetime>\n                    </ion-item>\n                </ion-list>\n                <div class="row">\n                    <div class="col-xs-12 button-container">\n                        <button #submitButton1 ion-button full class="submit-btn" type="submit">\n                            <span>{{\'Continue\' | translate}}</span>\n                        </button>\n                    </div>\n                </div>\n            </form>\n            <div class="loading-status" *ngIf="(pageState == 2) && (shouldShowAddressLoading == true)">\n                <span>{{\'Loading\' | translate}} ...</span>\n            </div>\n            <form #form2="ngForm" (ngSubmit)="bottomButtonTapped()" *ngIf="(pageState == 2) && (shouldShowAddressLoading != true)">\n                <ion-list>\n                    <div class="contact-number-fields">\n                        <ion-label class="required-field">{{\'Preferred Contact Number\' | translate}}</ion-label>\n                        <div class="row">\n                            <div class="col-xs-3">\n                                <ion-select cancelText="{{\'CANCEL\' | translate}}"\n                                            okText="{{\'SELECT\' | translate}}"\n                                            selectedText="{{countryDialObj.isdCode}}"\n                                            (ionChange)="onSelectIsd($event)"\n                                            name="countryDialObj"\n                                            id="countryDialObj"\n                                            *ngIf="countryDialObj"\n                                            disabled="shouldHideContactNumber == true">\n                                    <ion-option *ngFor="let item of countryLovs"\n                                                [value]="item"\n                                                [selected]="countryDialObj && (item.code == countryDialObj.code)">\n                                        {{item.descr}} ({{item.isdCode}})\n                                    </ion-option>\n                                </ion-select>\n                            </div>\n                            <div class="col-xs-3">\n                                <ion-input type="tel"\n                                           [(ngModel)]="areaCode"\n                                           name="areaCode"\n                                           id="areaCode"\n                                           placeholder="{{\'Area Code\' | translate}}"\n                                           minlength="1"\n                                           [maxlength]="areaCodeLength"\n                                           pattern=""\n                                           required\n                                           *ngIf="shouldHideContactNumber != true">\n                                </ion-input>\n                            </div>\n                            <div class="col-xs-6">\n                                <ion-input type="tel"\n                                           [(ngModel)]="contactNumber"\n                                           name="contactNumber"\n                                           id="contactNumber"\n                                           placeholder="XXXXXXX"\n                                           minlength="5"\n                                           maxlength="8"\n                                           pattern=""\n                                           *ngIf="shouldHideContactNumber != true">\n                                </ion-input>\n                            </div>\n                        </div>\n                    </div>\n                    <ion-item>\n                        <ion-label class="required-field" floating>{{\'Email Address\' | translate}}</ion-label>\n                        <ion-input type="email"\n                                   [(ngModel)]="emailAddress"\n                                   name="emailAddress"\n                                   id="emailAddress"\n                                   spellcheck="false"\n                                   autocapitalize="none"\n                                   minlength="5"\n                                   maxlength="40"\n                                   pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"\n                                   required>\n                        </ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="countryAddressObj">\n                        <ion-label class="required-field" floating>{{\'Country\' | translate}}</ion-label>\n                        <ion-select cancelText="{{\'CANCEL\' | translate}}"\n                                    okText="{{\'SELECT\' | translate}}"\n                                    (ionChange)="onSelectCountry($event)"\n                                    name="countryAddressObj"\n                                    id="countryAddressObj">\n                            <ion-option *ngFor="let item of countryLovs"\n                                        [value]="item"\n                                        [selected]="countryAddressObj && (item.code == countryAddressObj.code)">\n                                {{item.descr}}\n                            </ion-option>\n                        </ion-select>\n                    </ion-item>\n                    <ion-item *ngIf="stateLovs && stateLovs.length > 0">\n                        <ion-label floating>{{\'State/Region\' | translate}}</ion-label>\n                        <ion-select cancelText="{{\'CANCEL\' | translate}}"\n                                    okText="{{\'SELECT\' | translate}}"\n                                    [(ngModel)]="selectedStateLov"\n                                    name="selectedStateLov"\n                                    id="selectedStateLov">\n                            <ion-option *ngFor="let item of stateLovs"\n                                        [value]="item"\n                                        [selected]="selectedStateLov && (item.code == selectedStateLov.code)">\n                                {{item.descr}}\n                            </ion-option>\n                        </ion-select>\n                    </ion-item>\n                    <ion-item *ngIf="cityLovs && cityLovs.length > 0">\n                        <ion-label class="required-field" floating>{{\'City/Province\' | translate}}</ion-label>\n                        <ion-select cancelText="{{\'CANCEL\' | translate}}"\n                                    okText="{{\'SELECT\' | translate}}"\n                                    [(ngModel)]="selectedCityLov"\n                                    name="selectedCityLov"\n                                    id="selectedCityLov">\n                            <ion-option *ngFor="let item of cityLovs"\n                                        [value]="item"\n                                        [selected]="selectedCityLov && (item.code == selectedCityLov.code)">\n                                {{item.descr}}\n                            </ion-option>\n                        </ion-select>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label class="required-field" floating>{{\'Number/Street\' | translate}}</ion-label>\n                        <ion-input type="text"\n                                   [(ngModel)]="address1Text"\n                                   name="address1Text"\n                                   id="address1Text"\n                                   spellcheck="false"\n                                   autocapitalize="sentences"\n                                   minlength="1"\n                                   maxlength="40"\n                                   pattern=""\n                                   required>\n                        </ion-input>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label floating>{{\'Floor/Building/Village\' | translate}}</ion-label>\n                        <ion-input type="text"\n                                   [(ngModel)]="address2Text"\n                                   name="address2Text"\n                                   id="address2Text"\n                                   spellcheck="false"\n                                   autocapitalize="sentences"\n                                   minlength="1"\n                                   maxlength="40"\n                                   pattern="">\n                        </ion-input>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label class="required-field" floating>{{\'Postal/Zip Code\' | translate}}</ion-label>\n                        <ion-input type="number"\n                                   [(ngModel)]="postalText"\n                                   name="postalText"\n                                   id="postalText"\n                                   spellcheck="false"\n                                   autocapitalize="none"\n                                   minlength="1"\n                                   maxlength="8"\n                                   pattern=""\n                                   required>\n                        </ion-input>\n                    </ion-item>\n                </ion-list>\n                <div class="row">\n                    <div class="col-xs-12 button-container">\n                        <button #submitButton2 ion-button full class="submit-btn" type="submit">\n                            <span *ngIf="acceptTerms != true">{{\'Continue\' | translate}}</span>\n                            <span *ngIf="acceptTerms == true">{{\'Save\' | translate}}</span>\n                        </button>\n                    </div>\n                </div>\n            </form>\n            <form #form3="ngForm" (ngSubmit)="bottomButtonTapped()" *ngIf="pageState == 3">\n                <ion-list>\n                    <ul *ngIf="passwordGuidelines">\n                        <span [innerHTML]="passwordGuidelines"></span>\n                    </ul>\n                    <ion-item *ngIf="editingProfile == true">\n                        <ion-label class="required-field" floating>{{\'Current Password\' | translate}}</ion-label>\n                        <ion-input type="{{shouldShowPassword? \'text\' : \'password\'}}"\n                                   [(ngModel)]="currentPasswordText"\n                                   name="currentPasswordText"\n                                   id="currentPasswordText"\n                                   spellcheck="false"\n                                   autocapitalize="none"\n                                   minlength="5"\n                                   maxlength="8"\n                                   pattern=""\n                                   required>\n                        </ion-input>\n                        <button type="button"\n                                ion-button clear item-right\n                                color="dark"\n                                (click)="showPassword()">\n                            <ion-icon name="{{shouldShowPassword?\'ios-eye-outline\':\'ios-eye-off-outline\'}}"></ion-icon>\n                        </button>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label class="required-field" floating>{{passwordFieldLabel}}</ion-label>\n                        <ion-input type="{{shouldShowPassword? \'text\' : \'password\'}}"\n                                   [(ngModel)]="passwordText"\n                                   name="passwordText"\n                                   id="passwordText"\n                                   spellcheck="false"\n                                   autocapitalize="none"\n                                   minlength="5"\n                                   maxlength="8"\n                                   pattern=""\n                                   required="editingProfile != true">\n                        </ion-input>\n                        <button type="button"\n                                ion-button clear item-right\n                                color="dark"\n                                (click)="showPassword()">\n                            <ion-icon name="{{shouldShowPassword?\'ios-eye-outline\':\'ios-eye-off-outline\'}}"></ion-icon>\n                        </button>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label class="required-field" floating>{{\'Reenter Password\' | translate}}</ion-label>\n                        <ion-input type="{{shouldShowPassword? \'text\' : \'password\'}}"\n                                   [(ngModel)]="rePasswordText"\n                                   name="rePasswordText"\n                                   id="rePasswordText"\n                                   spellcheck="false"\n                                   autocapitalize="none"\n                                   minlength="5"\n                                   maxlength="8"\n                                   pattern=""\n                                   required="editingProfile != true">\n                        </ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="questions && (questions.length > 0)">\n                        <ion-label class="required-field" floating>{{\'Security Question\' | translate}}</ion-label>\n                        <ion-select cancelText="{{\'CANCEL\' | translate}}"\n                                    okText="{{\'SELECT\' | translate}}"\n                                    [(ngModel)]="selectedQuestion"\n                                    name="selectedQuestion"\n                                    id="selectedQuestion"\n                                    *ngIf="recievedMemberAnswer != true">\n                            <ion-option *ngFor="let item of questions"\n                                        [value]="item"\n                                        [selected]="selectedQuestion && (item.code === selectedQuestion.code)">\n                                {{item.descr}}\n                            </ion-option>\n                        </ion-select>\n                        <ion-input value="{{selectedQuestion.descr}}"\n                                   disabled="true"\n                                   *ngIf="selectedQuestion && recievedMemberAnswer == true">\n                        </ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="questions && (questions.length > 0) && selectedQuestion">\n                        <ion-label class="required-field" floating>{{\'Security Answer\' | translate}}</ion-label>\n                        <ion-input type="{{shouldShowAnswer? \'text\' : \'password\'}}"\n                                   [(ngModel)]="answerText"\n                                   name="answerText"\n                                   id="answerText"\n                                   spellcheck="false"\n                                   autocapitalize="none"\n                                   minlength="1"\n                                   maxlength="40"\n                                   pattern=""\n                                   required="editingProfile != true">\n                        </ion-input>\n                        <button type="button"\n                                ion-button clear item-right\n                                color="dark"\n                                (click)="showAnswer()">\n                            <ion-icon name="{{shouldShowAnswer?\'ios-eye-outline\':\'ios-eye-off-outline\'}}"></ion-icon>\n                        </button>\n                    </ion-item>\n                </ion-list>\n                <div class="row">\n                    <div class="col-xs-12 button-container">\n                        <button #submitButton3 ion-button full class="submit-btn" type="submit">\n                            <span *ngIf="acceptTerms != true">{{\'Continue\' | translate}}</span>\n                            <span *ngIf="acceptTerms == true">{{\'Save\' | translate}}</span>\n                        </button>\n                    </div>\n                </div>\n            </form>\n            <div *ngIf="pageState == 4">\n                <ion-list>\n                    <ul *ngIf="((editingProfile != true) || formHasChanges)">\n                        <li>{{\'Name should match travel documents such as Passport\' | translate}}</li>\n                    </ul>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && titleObj && titleObj.value">\n                        <ion-label floating>{{\'Title\' | translate}}</ion-label>\n                        <ion-input value="{{titleObj.value}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && lastName && lastName.trim().length > 0">\n                        <ion-label floating>{{\'Last Name\' | translate}}</ion-label>\n                        <ion-input value="{{lastName}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && firstName && firstName.trim().length > 0">\n                        <ion-label floating>{{\'First Name\' | translate}}</ion-label>\n                        <ion-input value="{{firstName}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && middleName && middleName.trim().length > 0">\n                        <ion-label floating>{{\'Middle Name\' | translate}}</ion-label>\n                        <ion-input value="{{middleName}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && selectedNameSuffix && selectedNameSuffix.code && selectedNameSuffix.descr">\n                        <ion-label floating>{{\'Suffix\' | translate}}</ion-label>\n                        <ion-input value="{{selectedNameSuffix.code}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && dobText && dobText.length > 0">\n                        <ion-label floating>{{\'Date Of Birth\' | translate}}</ion-label>\n                        <ion-input value="{{dobText}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && countryDialObj && areaCode && contactNumber && contactNumber.trim().length > 0">\n                        <ion-label floating>{{\'Preferred Contact Number\' | translate}}</ion-label>\n                        <ion-input value="{{countryDialObj.isdCode}}{{areaCode}}{{contactNumber}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && emailAddress && emailAddress.trim().length > 0">\n                        <ion-label floating>{{\'Email Address\' | translate}}</ion-label>\n                        <ion-input value="{{emailAddress}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && address1Text && address1Text.trim().length > 0">\n                        <ion-label floating>{{\'Number/Street\' | translate}}</ion-label>\n                        <ion-input value="{{address1Text}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && address2Text && address2Text.trim().length > 0">\n                        <ion-label floating>{{\'Floor/Building/Village\' | translate}}</ion-label>\n                        <ion-input value="{{address2Text}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && selectedCityLov && selectedCityLov.code">\n                        <ion-label floating>{{\'City/Province\' | translate}}</ion-label>\n                        <ion-input value="{{selectedCityLov.descr}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && postalText && postalText.trim().length > 0">\n                        <ion-label floating>{{\'Postal/Zip Code\' | translate}}</ion-label>\n                        <ion-input value="{{postalText}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && selectedStateLov && selectedStateLov.code">\n                        <ion-label floating>{{\'State/Region\' | translate}}</ion-label>\n                        <ion-input value="{{selectedStateLov.descr}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="((editingProfile != true) || formHasChanges) && countryAddressObj && countryAddressObj.code">\n                        <ion-label floating>{{\'Country\' | translate}}</ion-label>\n                        <ion-input value="{{countryAddressObj.descr}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="currentPasswordText && currentPasswordText.trim().length > 0">\n                        <ion-label floating>{{\'Current Password\' | translate}}</ion-label>\n                        <ion-input type="{{shouldShowPassword? \'text\' : \'password\'}}"\n                                   value="{{currentPasswordText}}"\n                                   disabled="true">\n                        </ion-input>\n                        <button type="button"\n                                ion-button clear item-right\n                                color="dark"\n                                (click)="showPassword()">\n                            <ion-icon name="{{shouldShowPassword?\'ios-eye-outline\':\'ios-eye-off-outline\'}}"></ion-icon>\n                        </button>\n                    </ion-item>\n                    <ion-item *ngIf="passwordText && passwordText.trim().length > 0">\n                        <ion-label floating>{{passwordFieldLabel}}</ion-label>\n                        <ion-input type="{{shouldShowPassword? \'text\' : \'password\'}}"\n                                   value="{{passwordText}}"\n                                   disabled="true">\n                        </ion-input>\n                        <button type="button"\n                                ion-button clear item-right\n                                color="dark"\n                                (click)="showPassword()">\n                            <ion-icon name="{{shouldShowPassword?\'ios-eye-outline\':\'ios-eye-off-outline\'}}"></ion-icon>\n                        </button>\n                    </ion-item>\n                    <ion-item *ngIf="selectedQuestion && selectedQuestion.descr && answerText && answerText.trim().length > 0">\n                        <ion-label floating>{{\'Security Question\' | translate}}</ion-label>\n                        <ion-input value="{{selectedQuestion.descr}}" disabled="true"></ion-input>\n                    </ion-item>\n                    <ion-item *ngIf="selectedQuestion && selectedQuestion.descr && answerText && answerText.trim().length > 0">\n                        <ion-label floating>{{\'Security Answer\' | translate}}</ion-label>\n                        <ion-input type="{{shouldShowAnswer? \'text\' : \'password\'}}"\n                                   value="{{answerText}}"\n                                   disabled="true">\n                        </ion-input>\n                        <button type="button"\n                                ion-button clear item-right\n                                color="dark"\n                                (click)="showAnswer()">\n                            <ion-icon name="{{shouldShowAnswer?\'ios-eye-outline\':\'ios-eye-off-outline\'}}"></ion-icon>\n                        </button>\n                    </ion-item>\n                </ion-list>\n                <div class="row">\n                    <div class="col-xs-12 button-container">\n                        <button ion-button class="submit-btn" full (click)="editButtonTapped()">{{\'Edit\' | translate}}</button>\n                    </div>\n                </div>\n                <div class="privacy-terms-checkbox">\n                    <ion-checkbox [(ngModel)]="acceptTerms"></ion-checkbox>\n                    <span>{{\'I have read and agree with the\' | translate}}\n                        <a (click)="termsConditionsTapped()">\n                            {{\'Terms n Conditions\' | translate}}\n                        </a> and\n                        <a (click)="privacyPolicyTapped()">\n                            {{\'Privacy Policy\' | translate}}\n                        </a>.\n                    </span>\n                </div>\n                <div class="row">\n                    <div class="col-xs-12 button-container">\n                        <button ion-button class="submit-btn" full (click)="bottomButtonTapped()">\n                            {{\'Submit\' | translate}}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="registration-confirmation" *ngIf="pageState == 5">\n            <h1>{{\'Welcome\' | translate}}</h1>\n            <h2>{{\'to\' | translate}} {{appDisplayName}}</h2>\n            <div [innerHTML]="confirmMsg"\n                 *ngIf="confirmMsg"\n                 class="in-app-browser-anchor"\n                 onclick="onInnerHTMLTap(event)">\n            </div>\n            <div class="row">\n                <div class="col-xs-12 button-container">\n                    <button ion-button class="submit-btn" full (click)="loginButtonTapped()">\n                        {{ \'LOGIN\' | translate }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\enrollment\enrollment.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_user_utils__["a" /* UserUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_user_address_utils__["a" /* UserAddressUtils */],
        __WEBPACK_IMPORTED_MODULE_16__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_17__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_lov_item_utils__["a" /* LovItemUtils */],
        __WEBPACK_IMPORTED_MODULE_11__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_4_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_15__services_commons_network_service__["a" /* NetworkService */]])
], EnrollmentPage);

//# sourceMappingURL=enrollment.js.map

/***/ }),

/***/ 314:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TermsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_menu_utils__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_client_utils__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var TermsPage = (function () {
    function TermsPage(navCtrl, navParams, clientUtils, events, mcfLoadService, menuUtils, googleAnalyticsUtils, appConstants, serviceConstants, translate, networkService) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.clientUtils = clientUtils;
        this.events = events;
        this.mcfLoadService = mcfLoadService;
        this.menuUtils = menuUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.serviceConstants = serviceConstants;
        this.translate = translate;
        this.networkService = networkService;
        this.pageTitle = '';
        this.htmlData = null;
        this.shouldShowRefresh = false;
        this.isRefreshing = false;
    }
    TermsPage.prototype.ngOnInit = function () {
        var _this = this;
        this.events.subscribe(this.appConstants.EVENT_APP_TERMS_CHANGED, function () {
            _this.showTermsConditions();
        });
        if (this.navParams.data && this.navParams.data.data) {
            var navData = this.navParams.data.data;
            var contentType = navData.contentType;
            if (navData.pageTitle) {
                this.pageTitle = navData.pageTitle;
            }
            if (contentType == this.serviceConstants.TERMS_CONTENT_TYPE_TC) {
                this.shouldShowRefresh = true;
                this.openTermsConditions();
                this.googleAnalyticsUtils.trackPage(this.appConstants.APP_TERMS_AND_CONDITIONS_SCREEN);
            }
            else if (navData.content) {
                this.htmlData = navData.content;
            }
        }
    };
    TermsPage.prototype.openTermsConditions = function () {
        var _this = this;
        var terms = this.menuUtils.getTermsConditionsContext();
        if ((!terms || (terms.length == 0)) && this.networkService.isOnline()) {
            this.mcfLoadService.show('');
            this.menuUtils.getTermsAndCondition(function (result) {
                _this.mcfLoadService.hide();
            }, function (error) {
                console.log('Terms Conditions Error:\n' + JSON.stringify(error));
                _this.mcfLoadService.hide();
                _this.showTermsConditions();
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showAlert(msg);
            });
        }
        else {
            this.showTermsConditions();
        }
    };
    TermsPage.prototype.showTermsConditions = function () {
        var terms = this.menuUtils.getTermsConditionsContext();
        if (terms && (terms.length > 0)) {
            var termsInfo = terms[0];
            this.htmlData = termsInfo.content;
        }
    };
    TermsPage.prototype.refreshButtonTapped = function () {
        var _this = this;
        if (this.isRefreshing != true) {
            this.isRefreshing = true;
            this.content.scrollToTop(0);
            this.menuUtils.getTermsAndCondition(function () {
                _this.isRefreshing = false;
            }, function () {
                _this.isRefreshing = false;
            });
        }
    };
    return TermsPage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */])
], TermsPage.prototype, "content", void 0);
TermsPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-terms',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\terms\terms.html"*/'<ion-header class="header-dark no-back-button-text">\n\n    <ion-navbar>\n        <ion-title>{{ pageTitle | translate }}</ion-title>\n        <ion-buttons end>\n            <button ion-button class="icon-white" (click)="refreshButtonTapped()" *ngIf="shouldShowRefresh">\n                <span class="spin-animation">\n                    <ion-icon name="md-sync" [ngClass]="{\'spin-elem\': isRefreshing}"></ion-icon>\n                </span>\n            </button>\n        </ion-buttons>\n    </ion-navbar>\n\n</ion-header>\n\n<ion-content padding>\n    <div class="" [innerHTML]="htmlData"\n         *ngIf="htmlData"\n         class="in-app-browser-anchor"\n         onclick="onInnerHTMLTap(event)">\n    </div>\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\terms\terms.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_menu_utils__["a" /* MenuUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_6__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_8__services_commons_network_service__["a" /* NetworkService */]])
], TermsPage);

//# sourceMappingURL=terms.js.map

/***/ }),

/***/ 315:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TargetPopupPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_commons_target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__dto_goal_dto__ = __webpack_require__(309);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__constants_language_constants__ = __webpack_require__(65);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var TargetPopupPage = (function () {
    function TargetPopupPage(navCtrl, navParams, viewController, languageConstants, mcfLoadService, clientUtils, translate, googleAnalyticsUtils, appConstants, sessionUtils, targetUtils) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewController = viewController;
        this.languageConstants = languageConstants;
        this.mcfLoadService = mcfLoadService;
        this.clientUtils = clientUtils;
        this.translate = translate;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.sessionUtils = sessionUtils;
        this.targetUtils = targetUtils;
        this.minDate = '';
        this.maxDate = '';
        this.myDate = '';
        this.name = '';
        this.cancelText = '';
        this.selectText = '';
        this.months = [];
        this.dataObj = navParams.get('data');
    }
    TargetPopupPage.prototype.ngOnInit = function () {
        this.googleAnalyticsUtils.trackPage(this.appConstants.CREATE_PERSONAL_TARGET_SCREEN);
        var nowDate = new Date();
        this.myDate = this.clientUtils.getFormattedDate('yyyy-MM-dd');
        this.minDate = this.clientUtils.getFormattedDate('yyyy-MM-dd');
        nowDate.setDate(nowDate.getDate() + (365 * 5)); //5 Years Later
        this.maxDate = this.clientUtils.getFormattedDate('yyyy-MM-dd', nowDate.toDateString());
        this.months = this.clientUtils.fullMonths();
        this.cancelText = this.translate.instant('CANCEL');
        this.selectText = this.translate.instant('SELECT');
    };
    TargetPopupPage.prototype.dismiss = function (value) {
        this.viewController.dismiss(value);
    };
    TargetPopupPage.prototype.createTarget = function () {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            if (this.name && (this.name.trim().length > 0) && this.points && this.myDate) {
                var memberInfo = this.sessionUtils.getMemberInfo();
                if (this.points > memberInfo.availableBalanceMiles) {
                    var goalInfo = new __WEBPACK_IMPORTED_MODULE_6__dto_goal_dto__["a" /* GoalInfo */]();
                    goalInfo.memberUid = memberInfo.memUID;
                    goalInfo.active = 'Y';
                    goalInfo.targetName = this.name;
                    goalInfo.targetPoints = this.points;
                    goalInfo.targetEndDate = this.myDate;
                    this.mcfLoadService.show('');
                    this.targetUtils.setPersonalTarget(goalInfo, function (success) {
                        _this.mcfLoadService.hide();
                        _this.clientUtils.showToast(_this.translate.instant('YOUR_TARGET_SUCCESSFULLY_SAVED'));
                        _this.dismiss(true);
                    }, function (error) {
                        _this.mcfLoadService.hide();
                        var msg = '';
                        if (error && error.message && (error.message.trim().length > 0)) {
                            msg = error.message.trim();
                        }
                        else {
                            msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                        }
                        if (error.code == 401) {
                            _this.clientUtils.showToast(msg);
                            _this.dismiss(false);
                        }
                        else {
                            _this.clientUtils.showAlert(msg);
                        }
                    });
                }
                else {
                    var msg = this.translate.instant('YOU_HAVE_ALREADY_ACHIEVED') + this.points + ' '
                        + this.translate.instant(this.languageConstants.POINTS) + '.';
                    this.clientUtils.showAlert(msg);
                }
            }
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_LOGIN_TO_CREATE_TARGETS'));
        }
    };
    return TargetPopupPage;
}());
TargetPopupPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\target-popup\target.html"*/'<ion-content padding class="target-popup">\n\n\n    <h3> {{ \'CREATE_PERSONAL_GOAL\' | translate }}</h3>\n\n\n    <ion-list>\n\n        <ion-item>\n            <ion-label floating>{{ \'NAME_YOUR_GOAL\' | translate }}</ion-label>\n            <ion-input type="text" [(ngModel)]="name" maxlength="50"></ion-input>\n        </ion-item>\n\n        <ion-item>\n            <ion-label floating>{{ \'POINTS_TO_EARN\' | translate }}</ion-label>\n            <ion-input type="tel" [(ngModel)]="points" maxlength="9"></ion-input>\n        </ion-item>\n\n\n        <ion-item>\n            <ion-label floating>{{ \'EXPIRY_DATE\' | translate }}</ion-label>\n            <ion-datetime displayFormat="DD MMMM YYYY"\n                          [min]="minDate"\n                          [max]="maxDate"\n                          [(ngModel)]="myDate"\n                          [cancelText]="cancelText"\n                          [doneText]="selectText"\n                          [monthNames]="months">\n            </ion-datetime>\n        </ion-item>\n\n    </ion-list>\n\n    <div class="row">\n        <div class="col-xs-12">\n            <button ion-button full\n                    class="submit-btn"\n                    (click)="createTarget()">\n                {{ \'CREATE_GOAL\' | translate }}\n            </button>\n        </div>\n    </div>\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\target-popup\target.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_10__constants_language_constants__["a" /* LanguageConstants */],
        __WEBPACK_IMPORTED_MODULE_7__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_8_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_2__utils_commons_target_utils__["a" /* TargetUtils */]])
], TargetPopupPage);

//# sourceMappingURL=target.js.map

/***/ }),

/***/ 337:
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 337;

/***/ }),

/***/ 36:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomHttpService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(138);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__ = __webpack_require__(298);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__constants_service_constants__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var CustomHttpService = (function () {
    function CustomHttpService($http, networkService, translate, globalizationUtils, sessionUtils, clientUtils, serviceConstants) {
        this.$http = $http;
        this.networkService = networkService;
        this.translate = translate;
        this.globalizationUtils = globalizationUtils;
        this.sessionUtils = sessionUtils;
        this.clientUtils = clientUtils;
        this.serviceConstants = serviceConstants;
        this.offlineMessage = null;
        this.baseUrl = this.getBaseURL();
    }
    /**
     * Post data to service API
     * @param toURL
     * @param requestData
     * @param headerData
     * @param timeoutPromise
     * @returns {Observable<Response>}
     */
    CustomHttpService.prototype.postData = function (toURL, requestData, headerData, timeoutPromise) {
        this.updateOfflineMessage();
        // let urlStr = this.getBaseURL() + toURL;
        var urlStr = '';
        if (toURL.indexOf('api/VoucherForRedemption') >= 0
            || toURL.indexOf('api/Vouchers') >= 0 || toURL.indexOf('api/Catalog/CreateRewardBooking') >= 0) {
            urlStr = 'https://uatcis.mercator.com/mercator.crm.api.cisd' + toURL;
        }
        else {
            urlStr = this.getBaseURL() + toURL;
        }
        if (this.networkService.isOnline()) {
            if (!requestData) {
                requestData = {};
            }
            var requestOptions = this.getRequestOptions(headerData, timeoutPromise);
            // console.log('HttpService Request URL:\n' + urlStr);
            // console.log('HttpService header object:\n' + JSON.stringify(headerData));
            // console.log('HttpService request object:\n' + JSON.stringify(requestData));
            return this.$http.post(urlStr, requestData, requestOptions);
        }
        else {
            return this.getOfflineResponse(urlStr);
        }
    };
    /**
     * Post data to service API
     * @param toURL
     * @param requestData
     * @param headerData
     * @param timeoutPromise
     * @returns {Observable<Response>}
     */
    CustomHttpService.prototype.putData = function (toURL, requestData, headerData, timeoutPromise) {
        this.updateOfflineMessage();
        var urlStr = this.getBaseURL() + toURL;
        if (this.networkService.isOnline()) {
            if (!requestData) {
                requestData = {};
            }
            var requestOptions = this.getRequestOptions(headerData, timeoutPromise);
            // console.log('HttpService Request URL:\n' + urlStr);
            // console.log('HttpService header object:\n' + JSON.stringify(headerData));
            // console.log('HttpService request object:\n' + JSON.stringify(requestData));
            return this.$http.put(urlStr, requestData, requestOptions);
        }
        else {
            return this.getOfflineResponse(urlStr);
        }
    };
    /**
     * Get data to service API
     * @param toURL
     * @param requestData
     * @param headerData
     * @param timeoutPromise
     * @returns {Observable<Response>}
     */
    CustomHttpService.prototype.getData = function (toURL, requestData, headerData, timeoutPromise) {
        console.log(toURL + "----" + JSON.stringify(requestData));
        this.updateOfflineMessage();
        var urlStr = '';
        if (toURL.indexOf('api/VoucherForRedemption') >= 0
            || toURL.indexOf('api/Vouchers') >= 0) {
            urlStr = 'https://uatcis.mercator.com/mercator.crm.api.cisd' + toURL;
        }
        else {
            urlStr = this.getBaseURL() + toURL;
        }
        console.log(urlStr);
        if (this.networkService.isOnline()) {
            if (requestData) {
                var keys = Object.keys(requestData);
                if (keys && (keys.length > 0)) {
                    var separator = '?';
                    for (var index = 0; index < keys.length; index++) {
                        var keyString = keys[index];
                        var keyValue = requestData[keyString];
                        if (keyValue || (keyValue == 0) || (keyValue == false)) {
                            urlStr = urlStr + separator + keyString + '=' + keyValue;
                            separator = '&';
                        }
                    }
                }
            }
            var requestOptions = this.getRequestOptions(headerData, timeoutPromise);
            // console.log('HttpService Request URL:\n' + urlStr);
            // console.log('HttpService header object:\n' + JSON.stringify(headerData));
            return this.$http.get(urlStr, requestOptions);
        }
        else {
            return this.getOfflineResponse(urlStr);
        }
    };
    CustomHttpService.prototype.getBaseURL = function () {
        var baseURL = this.baseUrl;
        if (this.clientUtils.isNullOrEmpty(this.baseUrl)) {
            baseURL = this.baseUrl = this.clientUtils.getBaseURL();
        }
        return baseURL;
    };
    CustomHttpService.prototype.getRequestOptions = function (headerData, timeoutPromise) {
        if (!headerData) {
            headerData = new __WEBPACK_IMPORTED_MODULE_7__dto_common_dto__["k" /* ServiceHeaderInfo */]();
        }
        var accessToken = this.sessionUtils.getAccessToken();
        if (accessToken) {
            headerData.Authorization = 'bearer ' + accessToken;
        }
        headerData['Content-Type'] = 'application/json';
        headerData.API_KEY = this.clientUtils.getWebApiKey();
        headerData.language = this.globalizationUtils.getAppLanguage();
        if (!timeoutPromise) {
            timeoutPromise = null;
        }
        return { headers: headerData, timeout: timeoutPromise };
    };
    CustomHttpService.prototype.getOfflineResponse = function (urlStr) {
        var message = '';
        if (this.offlineMessage) {
            this.updateOfflineMessage();
            message = this.offlineMessage;
        }
        var errorBody = new __WEBPACK_IMPORTED_MODULE_7__dto_common_dto__["j" /* ServiceErrorInfo */]();
        errorBody.message = message;
        errorBody.code = 503;
        var optionsArgs = {
            body: errorBody,
            status: errorBody.code,
            type: __WEBPACK_IMPORTED_MODULE_1__angular_http__["g" /* ResponseType */].Error,
            url: urlStr
        };
        var responseOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["f" /* ResponseOptions */](optionsArgs);
        var response = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* Response */](responseOptions);
        return __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__["Observable"].throw(response);
    };
    CustomHttpService.prototype.updateOfflineMessage = function () {
        if (this.offlineMessage == null) {
            this.offlineMessage = this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION');
        }
    };
    /**
     * This will fetch data which reside locally e.g. json file
     * @returns {Observable<any>}
     */
    CustomHttpService.prototype.fetchLocalData = function (strURL) {
        return this.$http.get(strURL).map(function (res) { return res.json(); });
    };
    return CustomHttpService;
}());
CustomHttpService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */],
        __WEBPACK_IMPORTED_MODULE_9__services_commons_network_service__["a" /* NetworkService */],
        __WEBPACK_IMPORTED_MODULE_4_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_10__constants_service_constants__["a" /* ServiceConstants */]])
], CustomHttpService);

//# sourceMappingURL=http.service.js.map

/***/ }),

/***/ 40:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NetworkService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_app_constants__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/22/17.
 */



var NetworkService = (function () {
    function NetworkService(events, appConstants) {
        this.events = events;
        this.appConstants = appConstants;
    }
    NetworkService.prototype.isOnline = function () {
        if ((typeof cordova !== 'undefined') && navigator && navigator.connection && Connection && (navigator.connection.type === Connection.NONE)) {
            return false;
        }
        return true;
    };
    NetworkService.prototype.subscribeOnline = function (callback) {
        var _this = this;
        document.addEventListener("online", function () {
            _this.events.publish(_this.appConstants.EVENT_NETWORK_STATUS_CONNECTED);
            if (callback) {
                callback();
            }
        }, false);
    };
    NetworkService.prototype.subscribeOffline = function (callback) {
        var _this = this;
        document.addEventListener("offline", function () {
            _this.events.publish(_this.appConstants.EVENT_NETWORK_STATUS_DISCONNECTED);
            if (callback) {
                callback();
            }
        }, false);
    };
    return NetworkService;
}());
NetworkService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_2__constants_app_constants__["a" /* AppConstants */]])
], NetworkService);

//# sourceMappingURL=network.service.js.map

/***/ }),

/***/ 43:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GlobalizationUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_commons_globalization_service__ = __webpack_require__(507);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/16/17.
 */







var GlobalizationUtils = (function () {
    function GlobalizationUtils(sessionUtils, events, translate, appConstants, globalizationService) {
        this.sessionUtils = sessionUtils;
        this.events = events;
        this.translate = translate;
        this.appConstants = appConstants;
        this.globalizationService = globalizationService;
        this.DEVICE_LANGUAGE_EN_US = 'en-US';
        this.DEVICE_LANGUAGE_ES_ES = 'es-ES';
    }
    GlobalizationUtils.prototype.getAppLanguage = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.deviceLanguage;
        if (!contextObj || (contextObj == null) || (contextObj == '')) {
            return this.DEVICE_LANGUAGE_EN_US;
        }
        return contextObj;
    };
    GlobalizationUtils.prototype.saveAppLanguage = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.deviceLanguage = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    GlobalizationUtils.prototype.clearAppLanguage = function () {
        var contextObj = this.DEVICE_LANGUAGE_EN_US;
        this.saveAppLanguage(contextObj);
    };
    GlobalizationUtils.prototype.getUserChangedAppLanguageSettings = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.userChangedAppLanguageSettings;
        if (!contextObj || (contextObj == null) || (contextObj == '')) {
            return 'N';
        }
        return contextObj;
    };
    GlobalizationUtils.prototype.saveUserChangedAppLanguageSettings = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.userChangedAppLanguageSettings = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    GlobalizationUtils.prototype.clearUserChangedAppLanguageSettings = function () {
        var contextObj = 'N';
        this.saveUserChangedAppLanguageSettings(contextObj);
    };
    GlobalizationUtils.prototype.getAvailableLanguages = function () {
        var languageList = [];
        var language1 = new __WEBPACK_IMPORTED_MODULE_5__dto_common_dto__["f" /* LanguageInfo */]();
        language1.description = 'English';
        language1.code = this.DEVICE_LANGUAGE_EN_US;
        languageList.push(language1);
        var language2 = new __WEBPACK_IMPORTED_MODULE_5__dto_common_dto__["f" /* LanguageInfo */]();
        language2.description = 'Español';
        language2.code = this.DEVICE_LANGUAGE_ES_ES;
        languageList.push(language2);
        return languageList;
    };
    GlobalizationUtils.prototype.setDeviceLanguage = function () {
        var _this = this;
        this.globalizationService.getPreferredLanguage(function (language) {
            _this.updateAppLanguage(language ? language : _this.DEVICE_LANGUAGE_EN_US);
        }, function (error) {
            console.log('Failed to get device language:\n' + JSON.stringify(error));
            _this.updateAppLanguage(_this.DEVICE_LANGUAGE_EN_US);
        });
    };
    GlobalizationUtils.prototype.updateAppLanguage = function (language) {
        var languageCode = this.DEVICE_LANGUAGE_EN_US;
        if (language.toLocaleLowerCase().includes('es')) {
            languageCode = this.DEVICE_LANGUAGE_ES_ES;
        }
        if (languageCode != this.getAppLanguage()) {
            this.saveAppLanguage(languageCode);
            this.translate.use(languageCode);
            this.events.publish(this.appConstants.EVENT_APP_LANGUAGE_CHANGED);
        }
    };
    return GlobalizationUtils;
}());
GlobalizationUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_3__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_6__services_commons_globalization_service__["a" /* GlobalizationService */]])
], GlobalizationUtils);

//# sourceMappingURL=globalization.utils.js.map

/***/ }),

/***/ 44:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PartnerUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__user_address_utils__ = __webpack_require__(97);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__client_utils__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/9/17.
 */
















var PartnerUtils = (function () {
    function PartnerUtils(events, dataAccessService, serviceConstants, appConstants, translate, configUtils, sessionUtils, userAddressUtils, clientUtils) {
        this.events = events;
        this.dataAccessService = dataAccessService;
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.translate = translate;
        this.configUtils = configUtils;
        this.sessionUtils = sessionUtils;
        this.userAddressUtils = userAddressUtils;
        this.clientUtils = clientUtils;
    }
    PartnerUtils.prototype.getFeaturedPartnerContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.featuredPartners;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    PartnerUtils.prototype.saveFeaturedPartnerContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.featuredPartners = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    PartnerUtils.prototype.clearFeaturedPartnerContext = function () {
        var contextObj = new Array();
        this.saveFeaturedPartnerContext(contextObj);
    };
    PartnerUtils.prototype.getFavoritePartnerLocationContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.favoritePartnerLocations;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    PartnerUtils.prototype.saveFavoritePartnerLocationContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.favoritePartnerLocations = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    PartnerUtils.prototype.clearFavoritePartnerLocationContext = function () {
        var contextObj = new Array();
        this.saveFavoritePartnerLocationContext(contextObj);
    };
    PartnerUtils.prototype.getNearbyPartnerLocationContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.nearbyPartnerLocations;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    PartnerUtils.prototype.saveNearbyPartnerLocationContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.nearbyPartnerLocations = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    PartnerUtils.prototype.clearNearbyPartnerLocationContext = function () {
        var contextObj = new Array();
        this.saveNearbyPartnerLocationContext(contextObj);
    };
    PartnerUtils.prototype.fetchFeaturedPartners = function (successCallback, errorCallback) {
        this.fetchPartnersByCode(null, 'P', successCallback, errorCallback);
    };
    PartnerUtils.prototype.fetchPartnersByCode = function (partnerCode, partnerType, successCallback, errorCallback) {
        var _this = this;
        var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["f" /* PartnerInfo */]();
        if (partnerCode) {
            requestData.partnerCode = partnerCode;
        }
        if (partnerType) {
            requestData.partnerType = partnerType;
        }
        requestData.partnerActive = 'Y';
        requestData.isMengage = 'Y';
        requestData.start = 1;
        requestData.end = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.NO_OF_FEATURED_PARTNERS);
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_PARTNER, this.serviceConstants.PARTNER_SERVICE_NAME_FEATURED_PARTNERS, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["j" /* PartnerResponse */]();
                response.data = [];
            }
            if (!partnerCode) {
                _this.saveFeaturedPartnerContext(response.data);
                _this.events.publish(_this.appConstants.EVENT_FEATURED_PARTNERS_CHANGED);
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    PartnerUtils.prototype.fetchFavoritePartnerLocations = function (successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["g" /* PartnerLocationInfo */]();
            requestData.memberUid = memberInfo.memUID;
            requestData.isFavorite = 'Y';
            requestData.active = 'Y';
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_PARTNER, this.serviceConstants.PARTNER_SERVICE_NAME_NEARBY_PARTNERS, requestData);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["i" /* PartnerLocationsResponse */]();
                    response.data = [];
                }
                _this.saveFavoritePartnerLocationContext(response.data);
                _this.events.publish(_this.appConstants.EVENT_FAVORITE_PARTNER_LOCATIONS_CHANGED);
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = this.translate.instant('YOU_ARE_NOT_LOGGED_IN');
                errorCallback(error);
            }
        }
    };
    PartnerUtils.prototype.fetchAllPartners = function (startIndex, endIndex, searchKey, industryTypeCode, successCallback, errorCallback) {
        var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["f" /* PartnerInfo */]();
        // requestData.partnerCode = '';
        // requestData.partnerType = '';
        requestData.partnerName = searchKey;
        requestData.industryType = industryTypeCode;
        requestData.partnerActive = 'Y';
        requestData.isMengage = 'Y';
        requestData.start = startIndex;
        requestData.end = endIndex;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_PARTNER, this.serviceConstants.PARTNER_SERVICE_NAME_FEATURED_PARTNERS, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["j" /* PartnerResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    PartnerUtils.prototype.fetchPartnerLocationsNearBy = function (successCallback, errorCallback) {
        var _this = this;
        var geocodes = this.userAddressUtils.getUserAddressContext();
        if (geocodes && (geocodes.length > 0) && geocodes[0].geometry && geocodes[0].geometry.location) {
            var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["g" /* PartnerLocationInfo */]();
            requestData.active = 'Y';
            requestData.latitude = geocodes[0].geometry.location.lat;
            requestData.longitude = geocodes[0].geometry.location.lng;
            requestData.start = 1;
            requestData.end = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.NO_OF_NEARBY_PARTNER_STORES);
            if (this.sessionUtils.isUserLoggedIn()) {
                var memberInfo = this.sessionUtils.getMemberInfo();
                requestData.memberUid = memberInfo.memUID;
            }
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_PARTNER, this.serviceConstants.PARTNER_SERVICE_NAME_NEARBY_PARTNERS, requestData);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["i" /* PartnerLocationsResponse */]();
                    response.data = [];
                }
                _this.saveNearbyPartnerLocationContext(response.data);
                _this.events.publish(_this.appConstants.EVENT_NEARBY_PARTNER_LOCATIONS_CHANGED);
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                if (errorCallback) {
                    var errorInfo = error.json();
                    errorCallback(errorInfo);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = this.translate.instant('YOU_ARE_NOT_LOGGED_IN');
                errorCallback(error);
            }
        }
    };
    PartnerUtils.prototype.fetchAllPartnerLocations = function (startIndex, endIndex, searchKey, successCallback, errorCallback) {
        var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["g" /* PartnerLocationInfo */]();
        requestData.active = 'Y';
        requestData.searchString = searchKey;
        requestData.start = startIndex;
        requestData.end = endIndex;
        var geocodes = this.userAddressUtils.getUserAddressContext();
        if (geocodes && (geocodes.length > 0) && geocodes[0].geometry && geocodes[0].geometry.location) {
            requestData.latitude = geocodes[0].geometry.location.lat;
            requestData.longitude = geocodes[0].geometry.location.lng;
        }
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            requestData.memberUid = memberInfo.memUID;
        }
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_PARTNER, this.serviceConstants.PARTNER_SERVICE_NAME_NEARBY_PARTNERS, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["i" /* PartnerLocationsResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    PartnerUtils.prototype.fetchAllVouchers = function (startIndex, endIndex, searchKey, successCallback, errorCallback) {
        var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["k" /* VouchersInfo */]();
        requestData.searchKey = searchKey;
        // requestData.start = startIndex;
        // requestData.end = endIndex;
        if (this.sessionUtils.isUserLoggedIn()) {
        }
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_VOUCHER, this.serviceConstants.SERVICE_NAME_VOUCHERS, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["i" /* PartnerLocationsResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    PartnerUtils.prototype.fetchMyVouchers = function (data, successCallback, errorCallback) {
        var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["e" /* MyVoucherRequest */]();
        if (data == 'N')
            requestData.utilized = 'N';
        var memberInfo = this.sessionUtils.getMemberInfo();
        if (this.sessionUtils.isUserLoggedIn()) {
            requestData.personId = memberInfo.personId;
            requestData.activeCardNumber = memberInfo.activeCardNo;
        }
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_VOUCHER, this.serviceConstants.SERVICE_NAME_MYVOUCHER, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["i" /* PartnerLocationsResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    PartnerUtils.prototype.redeemVouchers = function (voucher, successCallback, errorCallback) {
        var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["l" /* redeemVoucherRequest */]();
        requestData.partnerCode = voucher.partnerCode;
        requestData.activityDate = new Date();
        requestData.numberOfActivityUnits = 1;
        requestData.isQuoteOnly = 'N';
        requestData.activityIdentifier = voucher.activityCode;
        requestData.activityType = voucher.activityType;
        var memberInfo = this.sessionUtils.getMemberInfo();
        if (this.sessionUtils.isUserLoggedIn()) {
            requestData.activeCardNo = memberInfo.activeCardNo;
        }
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_VOUCHER, this.serviceConstants.SERVICE_NAME_REDEEM_VOUCHER, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["i" /* PartnerLocationsResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    PartnerUtils.prototype.saveMyVouchers = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.myvouchers = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    PartnerUtils.prototype.getMyVouchersContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.myvouchers;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    PartnerUtils.prototype.fetchAllIndustryTypes = function (successCallback, errorCallback) {
        var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["c" /* IndustryTypeInfo */]();
        requestData.active = 'Y';
        requestData.partnerActive = 'Y';
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_COMMON, this.serviceConstants.COMMON_SERVICE_NAME_INDUSTRY_TYPES, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["d" /* IndustryTypeResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    PartnerUtils.prototype.setLocationAsFavourite = function (addressId, isFav, successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var shouldFavRequest = true;
            if (!isFav) {
                var maxLimit = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.NO_OF_FAVOURITE_PARTNER_STORES);
                var locations = this.getFavoritePartnerLocationContext();
                shouldFavRequest = (locations.length < maxLimit);
            }
            if (shouldFavRequest == true) {
                var memberInfo = this.sessionUtils.getMemberInfo();
                var favLocationInfo = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["g" /* PartnerLocationInfo */]();
                favLocationInfo.addressId = addressId;
                favLocationInfo.memberUid = memberInfo.memUID;
                favLocationInfo.active = (isFav == true) ? 'N' : 'Y';
                var pageInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["i" /* PageInfo */]();
                var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["h" /* PartnerLocationsRequest */]();
                requestData.data = favLocationInfo;
                requestData.pageInfo = pageInfo;
                var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_FAVOURITES, this.serviceConstants.FAVOURITES_SERVICE_NAME_SET_LOCATION, requestData);
                this.dataAccessService.call(serviceContext)
                    .subscribe(function (result) {
                    var response = result.json();
                    if (!response) {
                        response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["i" /* PartnerLocationsResponse */]();
                        response.data = [];
                    }
                    _this.fetchPartnerLocationsNearBy(null, null);
                    _this.fetchFavoritePartnerLocations(null, null);
                    if (successCallback) {
                        successCallback(response);
                    }
                }, function (error) {
                    var errorInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                    if (error) {
                        errorInfo = error.json();
                        errorInfo.code = error.status;
                    }
                    if (errorCallback) {
                        errorCallback(errorInfo);
                    }
                    if (errorInfo.code == 401) {
                        _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                    }
                });
            }
            else {
                if (errorCallback) {
                    var error = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                    error.message = this.translate.instant('FAVOURITES_LOCATIONS_LIMIT_REACHED');
                    errorCallback(error);
                }
            }
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = this.translate.instant('YOU_ARE_NOT_LOGGED_IN');
                errorCallback(error);
            }
        }
    };
    PartnerUtils.prototype.fetchPartnerByLocations = function (offerId, partnerCode, start, end, successCallback, errorCallback) {
        var requestData = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["g" /* PartnerLocationInfo */]();
        requestData.active = 'Y';
        requestData.start = start;
        requestData.end = end;
        if (offerId) {
            requestData.offerId = offerId;
        }
        if (partnerCode) {
            requestData.partnerCode = partnerCode;
        }
        var geocodes = this.userAddressUtils.getUserAddressContext();
        if (geocodes && (geocodes.length > 0) && geocodes[0].geometry && geocodes[0].geometry.location) {
            requestData.latitude = geocodes[0].geometry.location.lat;
            requestData.longitude = geocodes[0].geometry.location.lng;
        }
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_PARTNER, this.serviceConstants.PARTNER_SERVICE_NAME_NEARBY_PARTNERS, requestData);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["i" /* PartnerLocationsResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    PartnerUtils.prototype.locationCheckIn = function (addressId, successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var checkinInfo = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["a" /* CheckinInfo */]();
            checkinInfo.memberUid = memberInfo.memUID;
            checkinInfo.addressId = addressId;
            checkinInfo.active = 'Y';
            var checkInRequest = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["b" /* CheckinRequest */]();
            checkInRequest.data = checkinInfo;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_PARTNER, this.serviceConstants.PARTNER_LOCATION_SERVICE_NAME_CHECK_IN, checkInRequest);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_7__dto_partners_dto__["i" /* PartnerLocationsResponse */]();
                    response.data = [];
                }
                _this.fetchPartnerLocationsNearBy(null, null);
                _this.fetchFavoritePartnerLocations(null, null);
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = this.translate.instant('YOU_ARE_NOT_LOGGED_IN');
                errorCallback(error);
            }
        }
    };
    PartnerUtils.prototype.shouldCheckin = function (lastCheckInTime) {
        if (!this.clientUtils.isNullOrEmpty(lastCheckInTime)) {
            var diffMinutes = Math.abs(this.clientUtils.getDateTimeDiff(lastCheckInTime)) / 60;
            var configTimeInterval = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.CHECKIN_TIME_INTERVAL);
            return (diffMinutes > configTimeInterval);
        }
        return true;
    };
    return PartnerUtils;
}());
PartnerUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_9__config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_10__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_11__user_address_utils__["a" /* UserAddressUtils */],
        __WEBPACK_IMPORTED_MODULE_12__client_utils__["a" /* ClientUtils */]])
], PartnerUtils);

//# sourceMappingURL=partner.utils.js.map

/***/ }),

/***/ 46:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DataAccessService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__message_content_service__ = __webpack_require__(504);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__system_query_service__ = __webpack_require__(510);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__offer_offer_service__ = __webpack_require__(511);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__menu_menu_services__ = __webpack_require__(512);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__configuration_config_service__ = __webpack_require__(513);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__account_profile_service__ = __webpack_require__(514);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__wallet_wallet_service__ = __webpack_require__(515);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__target_mytargets_service__ = __webpack_require__(516);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__partners_partner_service__ = __webpack_require__(517);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__favourites_favourites_services__ = __webpack_require__(518);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__industrytypes_industrytypes_services__ = __webpack_require__(519);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__device_service__ = __webpack_require__(520);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__locationNotification_location_notification_service__ = __webpack_require__(521);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__lovItem_lov_item_service__ = __webpack_require__(522);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















/**
 * This class represent entry point for all the service need
 */
var DataAccessService = (function () {
    function DataAccessService(serviceConstants, offerService, menuService, configService, profileService, walletService, myTargetService, partnerService, favouritesService, industryTypesService, deviceService, messageContentService, systemQueryService, lovItemService, locationNotificationService) {
        this.serviceConstants = serviceConstants;
        this.offerService = offerService;
        this.menuService = menuService;
        this.configService = configService;
        this.profileService = profileService;
        this.walletService = walletService;
        this.myTargetService = myTargetService;
        this.partnerService = partnerService;
        this.favouritesService = favouritesService;
        this.industryTypesService = industryTypesService;
        this.deviceService = deviceService;
        this.messageContentService = messageContentService;
        this.systemQueryService = systemQueryService;
        this.lovItemService = lovItemService;
        this.locationNotificationService = locationNotificationService;
    }
    /**
     * Return Observable to calling after resolving HTTP call
     * @param serviceContext
     * @returns {Observable<Response>}
     */
    DataAccessService.prototype.call = function (serviceContext) {
        if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT) {
            return this.profileService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_WALLET) {
            return this.walletService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_GOAL) {
            return this.myTargetService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_OFFER) {
            return this.offerService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_PARTNER) {
            return this.partnerService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_VOUCHER) {
            // if (serviceContext.serviceName === this.serviceConstants.SERVICE_NAME_VOUCHERS) {
            //     return this.partnerService.call(serviceContext);
            // } else if (serviceContext.serviceName === this.serviceConstants.COMMON_SERVICE_NAME_APP_CONFIG) {
            //     return this.configService.call(serviceContext);
            // } 
            return this.partnerService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_DEVICE) {
            return this.deviceService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_FAVOURITES) {
            return this.favouritesService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_LOV_ITEM) {
            return this.lovItemService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_LOCATION_NOTIFICATION) {
            return this.locationNotificationService.call(serviceContext);
        }
        else if (serviceContext.contextName === this.serviceConstants.SERVICE_CONTEXT_NAME_COMMON) {
            if (serviceContext.serviceName === this.serviceConstants.COMMON_SERVICE_NAME_APP_MENU) {
                return this.menuService.call(serviceContext);
            }
            else if (serviceContext.serviceName === this.serviceConstants.COMMON_SERVICE_NAME_APP_CONFIG) {
                return this.configService.call(serviceContext);
            }
            else if (serviceContext.serviceName === this.serviceConstants.COMMON_SERVICE_NAME_INDUSTRY_TYPES) {
                return this.industryTypesService.call(serviceContext);
            }
            else if (serviceContext.serviceName === this.serviceConstants.COMMON_SERVICE_NAME_MESSAGE_CONTENT) {
                return this.messageContentService.call(serviceContext);
            }
            else if (serviceContext.serviceName === this.serviceConstants.COMMON_SERVICE_NAME_SYSTEM_QUERY) {
                return this.systemQueryService.call(serviceContext);
            }
        }
    };
    return DataAccessService;
}());
DataAccessService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_4__offer_offer_service__["a" /* OfferService */],
        __WEBPACK_IMPORTED_MODULE_5__menu_menu_services__["a" /* MenuService */],
        __WEBPACK_IMPORTED_MODULE_6__configuration_config_service__["a" /* ConfigService */],
        __WEBPACK_IMPORTED_MODULE_7__account_profile_service__["a" /* ProfileService */],
        __WEBPACK_IMPORTED_MODULE_8__wallet_wallet_service__["a" /* WalletService */],
        __WEBPACK_IMPORTED_MODULE_9__target_mytargets_service__["a" /* MyTargetsService */],
        __WEBPACK_IMPORTED_MODULE_10__partners_partner_service__["a" /* PartnerService */],
        __WEBPACK_IMPORTED_MODULE_11__favourites_favourites_services__["a" /* FavouritesService */],
        __WEBPACK_IMPORTED_MODULE_12__industrytypes_industrytypes_services__["a" /* IndustryTypesService */],
        __WEBPACK_IMPORTED_MODULE_13__device_service__["a" /* DeviceService */],
        __WEBPACK_IMPORTED_MODULE_2__message_content_service__["a" /* MessageContentService */],
        __WEBPACK_IMPORTED_MODULE_3__system_query_service__["a" /* SystemQueryService */],
        __WEBPACK_IMPORTED_MODULE_15__lovItem_lov_item_service__["a" /* LovItemService */],
        __WEBPACK_IMPORTED_MODULE_14__locationNotification_location_notification_service__["a" /* LocationNotificationService */]])
], DataAccessService);

//# sourceMappingURL=data.access.service.js.map

/***/ }),

/***/ 464:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RoundProgressService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var DEGREE_IN_RADIANS = Math.PI / 180;
var BASE = document.head.querySelector('base');
var HAS_PERF = window.performance &&
    window.performance.now &&
    typeof window.performance.now() === 'number';
var RoundProgressService = (function () {
    function RoundProgressService() {
        this.supportsSvg = !!(document.createElementNS &&
            document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect);
    }
    /**
     * Resolves a SVG color against the page's `base` tag.
     * @param  {string} color
     * @return {string}
     */
    RoundProgressService.prototype.resolveColor = function (color) {
        if (BASE && BASE.href) {
            var hashIndex = color.indexOf('#');
            if (hashIndex > -1 && color.indexOf('url') > -1) {
                return color.slice(0, hashIndex) + location.href + color.slice(hashIndex);
            }
        }
        return color;
    };
    /**
     * Generates a timestamp.
     * @return {number}
     */
    RoundProgressService.prototype.getTimestamp = function () {
        return HAS_PERF ? window.performance.now() : Date.now();
    };
    /**
     * Generates the value for an SVG arc.
     * @param  {number}  current       Current value.
     * @param  {number}  total         Maximum value.
     * @param  {number}  pathRadius    Radius of the SVG path.
     * @param  {number}  elementRadius Radius of the SVG container.
     * @param  {boolean=false} isSemicircle  Whether the element should be a semicircle.
     * @return {string}
     */
    RoundProgressService.prototype.getArc = function (current, total, pathRadius, elementRadius, isSemicircle) {
        if (isSemicircle === void 0) { isSemicircle = false; }
        var value = Math.max(0, Math.min(current || 0, total));
        var maxAngle = isSemicircle ? 180 : 359.9999;
        var percentage = (value / total) * maxAngle;
        var start = this._polarToCartesian(elementRadius, pathRadius, percentage);
        var end = this._polarToCartesian(elementRadius, pathRadius, 0);
        var arcSweep = (percentage <= 180 ? 0 : 1);
        return "M " + start + " A " + pathRadius + " " + pathRadius + " 0 " + arcSweep + " 0 " + end;
    };
    ;
    /**
     * Converts polar cooradinates to Cartesian.
     * @param  {number} elementRadius  Radius of the wrapper element.
     * @param  {number} pathRadius     Radius of the path being described.
     * @param  {number} angleInDegrees Degree to be converted.
     * @return {string}
     */
    RoundProgressService.prototype._polarToCartesian = function (elementRadius, pathRadius, angleInDegrees) {
        var angleInRadians = (angleInDegrees - 90) * DEGREE_IN_RADIANS;
        var x = elementRadius + (pathRadius * Math.cos(angleInRadians));
        var y = elementRadius + (pathRadius * Math.sin(angleInRadians));
        return x + ' ' + y;
    };
    return RoundProgressService;
}());
RoundProgressService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], RoundProgressService);

;
//# sourceMappingURL=round-progress.service.js.map

/***/ }),

/***/ 465:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RoundProgressEase; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var RoundProgressEase = (function () {
    function RoundProgressEase() {
    }
    // t: current time (or position) of the neonate. This can be seconds or frames, steps,
    // seconds, ms, whatever – as long as the unit is the same as is used for the total time.
    // b: beginning value of the property.
    // c: change between the beginning and destination value of the property.
    // d: total time of the neonate.
    RoundProgressEase.prototype.linearEase = function (t, b, c, d) {
        return c * t / d + b;
    };
    ;
    RoundProgressEase.prototype.easeInQuad = function (t, b, c, d) {
        return c * (t /= d) * t + b;
    };
    ;
    RoundProgressEase.prototype.easeOutQuad = function (t, b, c, d) {
        return -c * (t /= d) * (t - 2) + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutQuad = function (t, b, c, d) {
        if ((t /= d / 2) < 1) {
            return c / 2 * t * t + b;
        }
        return -c / 2 * ((--t) * (t - 2) - 1) + b;
    };
    ;
    RoundProgressEase.prototype.easeInCubic = function (t, b, c, d) {
        return c * (t /= d) * t * t + b;
    };
    ;
    RoundProgressEase.prototype.easeOutCubic = function (t, b, c, d) {
        return c * ((t = t / d - 1) * t * t + 1) + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutCubic = function (t, b, c, d) {
        if ((t /= d / 2) < 1) {
            return c / 2 * t * t * t + b;
        }
        return c / 2 * ((t -= 2) * t * t + 2) + b;
    };
    ;
    RoundProgressEase.prototype.easeInQuart = function (t, b, c, d) {
        return c * (t /= d) * t * t * t + b;
    };
    ;
    RoundProgressEase.prototype.easeOutQuart = function (t, b, c, d) {
        return -c * ((t = t / d - 1) * t * t * t - 1) + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutQuart = function (t, b, c, d) {
        if ((t /= d / 2) < 1) {
            return c / 2 * t * t * t * t + b;
        }
        return -c / 2 * ((t -= 2) * t * t * t - 2) + b;
    };
    ;
    RoundProgressEase.prototype.easeInQuint = function (t, b, c, d) {
        return c * (t /= d) * t * t * t * t + b;
    };
    ;
    RoundProgressEase.prototype.easeOutQuint = function (t, b, c, d) {
        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutQuint = function (t, b, c, d) {
        if ((t /= d / 2) < 1) {
            return c / 2 * t * t * t * t * t + b;
        }
        return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;
    };
    ;
    RoundProgressEase.prototype.easeInSine = function (t, b, c, d) {
        return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;
    };
    ;
    RoundProgressEase.prototype.easeOutSine = function (t, b, c, d) {
        return c * Math.sin(t / d * (Math.PI / 2)) + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutSine = function (t, b, c, d) {
        return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;
    };
    ;
    RoundProgressEase.prototype.easeInExpo = function (t, b, c, d) {
        return (t == 0) ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;
    };
    ;
    RoundProgressEase.prototype.easeOutExpo = function (t, b, c, d) {
        return (t == d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutExpo = function (t, b, c, d) {
        if (t == 0) {
            return b;
        }
        ;
        if (t == d) {
            return b + c;
        }
        if ((t /= d / 2) < 1) {
            return c / 2 * Math.pow(2, 10 * (t - 1)) + b;
        }
        return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;
    };
    ;
    RoundProgressEase.prototype.easeInCirc = function (t, b, c, d) {
        return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;
    };
    ;
    RoundProgressEase.prototype.easeOutCirc = function (t, b, c, d) {
        return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutCirc = function (t, b, c, d) {
        if ((t /= d / 2) < 1) {
            return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;
        }
        return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;
    };
    ;
    RoundProgressEase.prototype.easeInElastic = function (t, b, c, d) {
        var s = 1.70158;
        var p = d * 0.3;
        var a = c;
        if (t == 0) {
            return b;
        }
        if ((t /= d) == 1) {
            return b + c;
        }
        if (a < Math.abs(c)) {
            a = c;
            s = p / 4;
        }
        else {
            s = p / (2 * Math.PI) * Math.asin(c / a);
        }
        return -(a * Math.pow(2, 10 * (t--)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
    };
    ;
    RoundProgressEase.prototype.easeOutElastic = function (t, b, c, d) {
        var s = 1.70158;
        var p = d * 0.3;
        var a = c;
        if (t == 0) {
            return b;
        }
        if ((t /= d) == 1) {
            return b + c;
        }
        if (a < Math.abs(c)) {
            a = c;
            s = p / 4;
        }
        else {
            s = p / (2 * Math.PI) * Math.asin(c / a);
        }
        return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutElastic = function (t, b, c, d) {
        var s = 1.70158;
        var p = d * (0.3 * 1.5);
        var a = c;
        if (t == 0) {
            return b;
        }
        if ((t /= d / 2) == 2) {
            return b + c;
        }
        if (a < Math.abs(c)) {
            a = c;
            s = p / 4;
        }
        else {
            s = p / (2 * Math.PI) * Math.asin(c / a);
        }
        if (t < 1) {
            return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) *
                Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
        }
        return a * Math.pow(2, -10 * (t -= 1)) *
            Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;
    };
    ;
    RoundProgressEase.prototype.easeInBack = function (t, b, c, d, s) {
        if (s === void 0) { s = 1.70158; }
        return c * (t /= d) * t * ((s + 1) * t - s) + b;
    };
    ;
    RoundProgressEase.prototype.easeOutBack = function (t, b, c, d, s) {
        if (s === void 0) { s = 1.70158; }
        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutBack = function (t, b, c, d, s) {
        if (s === void 0) { s = 1.70158; }
        if ((t /= d / 2) < 1) {
            return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;
        }
        return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;
    };
    ;
    RoundProgressEase.prototype.easeInBounce = function (t, b, c, d) {
        return c - this.easeOutBounce(d - t, 0, c, d) + b;
    };
    ;
    RoundProgressEase.prototype.easeOutBounce = function (t, b, c, d) {
        if ((t /= d) < (1 / 2.75)) {
            return c * (7.5625 * t * t) + b;
        }
        else if (t < (2 / 2.75)) {
            return c * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75) + b;
        }
        else if (t < (2.5 / 2.75)) {
            return c * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375) + b;
        }
        return c * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375) + b;
    };
    ;
    RoundProgressEase.prototype.easeInOutBounce = function (t, b, c, d) {
        if (t < d / 2) {
            return this.easeInBounce(t * 2, 0, c, d) * 0.5 + b;
        }
        return this.easeOutBounce(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;
    };
    ;
    return RoundProgressEase;
}());
RoundProgressEase = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], RoundProgressEase);

/**
 * TERMS OF USE - EASING EQUATIONS
 * Open source under the BSD License.

 * Copyright © 2001 Robert Penner
 * All rights reserved.
 * Redistribution and use in source and binary forms, with or without modification, are permitted
 * provided that the following conditions are met:

 * Redistributions of source code must retain the above copyright notice, this list of conditions
 * and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright notice, this list of conditions
 * and the following disclaimer in the documentation and/or other materials provided with the
 * distribution.
 *
 * Neither the name of the author nor the names of contributors may be used to endorse or promote
 * products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
 * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
 * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
//# sourceMappingURL=round-progress.ease.js.map

/***/ }),

/***/ 48:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ServiceContext; });
var ServiceContext = (function () {
    function ServiceContext(contextName, serviceName, requestObject) {
        this.contextName = contextName;
        this.serviceName = serviceName;
        this.requestObject = requestObject;
        this.shouldLoadLocalJSON = false;
        this.timeoutPromise = null;
    }
    return ServiceContext;
}());

//# sourceMappingURL=context.service.js.map

/***/ }),

/***/ 504:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessageContentService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by C00121 on 11/01/2017.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MessageContentService = (function () {
    function MessageContentService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_MESSAGE_CONTENT = '/api/Common/MessageContent';
    }
    MessageContentService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.COMMON_SERVICE_NAME_MESSAGE_CONTENT) {
                return this.getMessageContent(serviceContext.requestObject);
            }
        }
    };
    MessageContentService.prototype.getMessageContent = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_MESSAGE_CONTENT, reqData);
    };
    return MessageContentService;
}());
MessageContentService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], MessageContentService);

//# sourceMappingURL=message-content.service.js.map

/***/ }),

/***/ 505:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StorageService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var StorageService = (function () {
    function StorageService() {
    }
    StorageService.prototype.set = function (keyId, keyValue) {
        window.localStorage[keyId] = keyValue;
    };
    StorageService.prototype.get = function (keyId) {
        return window.localStorage[keyId];
    };
    StorageService.prototype.setObject = function (keyId, keyValue) {
        window.localStorage[keyId] = JSON.stringify(keyValue);
    };
    StorageService.prototype.getObject = function (keyId) {
        return window.localStorage[keyId] ? JSON.parse(window.localStorage[keyId]) : undefined;
    };
    StorageService.prototype.clearOne = function (keyId) {
        window.localStorage[keyId] = '';
    };
    StorageService.prototype.clear = function () {
        window.localStorage.clear();
    };
    return StorageService;
}());
StorageService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], StorageService);

//# sourceMappingURL=storage.service.js.map

/***/ }),

/***/ 506:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionRootInfo; });
var SessionRootInfo = (function () {
    function SessionRootInfo() {
    }
    return SessionRootInfo;
}());

//# sourceMappingURL=session.dto.js.map

/***/ }),

/***/ 507:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GlobalizationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__ = __webpack_require__(22);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 7/9/17.
 */



var GlobalizationService = (function () {
    function GlobalizationService(platform) {
        this.platform = platform;
    }
    GlobalizationService.prototype.getPreferredLanguage = function (successCallback, errorCallback) {
        if ((typeof cordova !== 'undefined') && (this.platform.is('ios') || this.platform.is('android'))) {
            navigator.globalization.getPreferredLanguage(function (result) {
                if (successCallback) {
                    successCallback(result.value);
                }
            }, function (error) {
                if (errorCallback) {
                    errorCallback(error);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Platform does not support';
                errorCallback(error);
            }
        }
    };
    return GlobalizationService;
}());
GlobalizationService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* Platform */]])
], GlobalizationService);

//# sourceMappingURL=globalization.service.js.map

/***/ }),

/***/ 508:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SafariViewControllerOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return SafariViewService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__ = __webpack_require__(22);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 09/03/17.
 */



var SafariViewControllerOptions = (function () {
    function SafariViewControllerOptions() {
    }
    return SafariViewControllerOptions;
}());

var SafariViewService = (function () {
    function SafariViewService(platform) {
        this.platform = platform;
    }
    SafariViewService.prototype.isAvailable = function (callback) {
        if ((typeof cordova !== 'undefined') && (this.platform.is('ios') || this.platform.is('android'))) {
            SafariViewController.isAvailable(function (available) {
                if (callback) {
                    callback(available);
                }
            });
        }
        else {
            if (callback) {
                callback(false);
            }
        }
    };
    SafariViewService.prototype.show = function (option, successCallback, errorCallback) {
        this.isAvailable(function (available) {
            if (available) {
                SafariViewController.show(option, function (result) {
                    if (successCallback) {
                        successCallback(result);
                    }
                }, function (error) {
                    if (errorCallback) {
                        errorCallback(error);
                    }
                });
            }
            else {
                if (errorCallback) {
                    var error = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
                    error.message = 'Platform does not support';
                    errorCallback(error);
                }
            }
        });
    };
    SafariViewService.prototype.hide = function (successCallback, errorCallback) {
        this.isAvailable(function (available) {
            if (available) {
                SafariViewController.hide(function (result) {
                    if (successCallback) {
                        successCallback();
                    }
                }, function (error) {
                    if (errorCallback) {
                        errorCallback(null);
                    }
                });
            }
            else {
                if (errorCallback) {
                    var error = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
                    error.message = 'Platform does not support';
                    errorCallback(error);
                }
            }
        });
    };
    return SafariViewService;
}());
SafariViewService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* Platform */]])
], SafariViewService);

//# sourceMappingURL=safari-view-controller.service.js.map

/***/ }),

/***/ 509:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InAppBrowserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 26/03/17.
 */

var InAppBrowserService = (function () {
    function InAppBrowserService() {
    }
    InAppBrowserService.prototype.show = function (url) {
        if (typeof cordova !== 'undefined') {
            var browser = new cordova.InAppBrowser.open(url, "_blank", "location=no");
            browser.show();
        }
    };
    return InAppBrowserService;
}());
InAppBrowserService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], InAppBrowserService);

//# sourceMappingURL=in-app-browser.service.js.map

/***/ }),

/***/ 510:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SystemQueryService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by C00121 on 11/01/2017.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SystemQueryService = (function () {
    function SystemQueryService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_SYSTEM_QUERY = '/api/Common/SystemQuery';
    }
    SystemQueryService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.COMMON_SERVICE_NAME_SYSTEM_QUERY) {
                return this.getSystemQuery(serviceContext.requestObject);
            }
        }
    };
    SystemQueryService.prototype.getSystemQuery = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_SYSTEM_QUERY, reqData);
    };
    return SystemQueryService;
}());
SystemQueryService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], SystemQueryService);

//# sourceMappingURL=system-query.service.js.map

/***/ }),

/***/ 511:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var OfferService = (function () {
    function OfferService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_OFFER_LIST = '/api/Offers';
        this.SERVICE_URL_OFFER_GALLERIES = '/api/Offers/Galleries';
        this.SERVICE_URL_OFFER_PARTNER_LOCATIONS = '/api/Offers/PartnerLocations';
    }
    OfferService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.OFFER_SERVICE_NAME_OFFER_LIST) {
                return this.offerList(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.OFFER_SERVICE_NAME_GALLERIES) {
                return this.offerGalleries(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.OFFER_SERVICE_NAME_PARTNER_LOCATIONS) {
                return this.partnerLocations(serviceContext.requestObject);
            }
        }
    };
    OfferService.prototype.offerList = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_OFFER_LIST, reqData);
    };
    OfferService.prototype.offerGalleries = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_OFFER_GALLERIES, reqData);
    };
    OfferService.prototype.partnerLocations = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_OFFER_PARTNER_LOCATIONS, reqData);
    };
    return OfferService;
}());
OfferService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], OfferService);

//# sourceMappingURL=offer.service.js.map

/***/ }),

/***/ 512:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by C00121 on 24/11/2016.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MenuService = (function () {
    function MenuService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_MENU = '/api/Common/AppMenu';
    }
    MenuService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.COMMON_SERVICE_NAME_APP_MENU) {
                return this.getAppMenu(serviceContext.requestObject);
            }
        }
    };
    MenuService.prototype.getAppMenu = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_MENU, reqData);
    };
    return MenuService;
}());
MenuService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], MenuService);

//# sourceMappingURL=menu.services.js.map

/***/ }),

/***/ 513:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfigService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by C00121 on 24/11/2016.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ConfigService = (function () {
    function ConfigService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_MENU = '/api/Common/Config';
    }
    ConfigService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.COMMON_SERVICE_NAME_APP_CONFIG) {
                return this.getAppConfig(serviceContext.requestObject);
            }
        }
    };
    ConfigService.prototype.getAppConfig = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_MENU, reqData);
    };
    return ConfigService;
}());
ConfigService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], ConfigService);

//# sourceMappingURL=config.service.js.map

/***/ }),

/***/ 514:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfileService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by C00121 on 27/11/2016.
 */



var ProfileService = (function () {
    function ProfileService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_LOGIN = '/api/Account/Login';
        this.SERVICE_URL_GET_PROFILE = '/api/Account/Profile';
        this.SERVICE_URL_CREATE_PROFILE = '/api/Member/MemberEnrollment';
        this.SERVICE_URL_CHANGE_PASSWORD = '/api/Account/ChangePassword';
        this.SERVICE_URL_MEMBER_SECURITY_QUESTION = '/api/Member/SecurityQuestion';
        this.SERVICE_URL_VERIFY_SECURITY_QUESTION = '/api/Member/VerifySecurityQuestion';
        this.SERVICE_URL_MEMBER_ADDRESS = '/api/Member/Address';
        this.SERVICE_URL_TRANSACTION = '/api/Account/Transactions';
        this.SERVICE_URL_PASSWORD_HINTS = '/api/Account/PasswordHintsAndCharacters';
        this.SERVICE_URL_TNC_CONSENT = '/api/Account/Profile/Consents';
    }
    ProfileService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_LOGIN) {
                return this.doLogin(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_GET_PROFILE) {
                return this.getProfileData(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_CREATE_PROFILE) {
                return this.createProfile(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_EDIT_PROFILE) {
                return this.editProfile(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_CHANGE_PASSWORD) {
                return this.changePassword(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_GET_MEMBER_SECURITY_QUESTION) {
                return this.getMemberSecurityQuestion(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_VERIFY_MEMBER_SECURITY_QUESTION) {
                return this.verifyMemberSecurityQuestion(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_CREATE_MEMBER_SECURITY_QUESTION) {
                return this.createMemberSecurityQuestion(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_EDIT_MEMBER_SECURITY_QUESTION) {
                return this.editMemberSecurityQuestion(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_GET_MEMBER_ADDRESS) {
                return this.getMemberAddress(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_TRANSACTION) {
                return this.getRecentTransaction(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_PASSWORD_HINTS) {
                return this.getPasswordHints(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_GET_TNC_CONSENT) {
                return this.getTermsnConditionConsent(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.ACCOUNT_SERVICE_NAME_POST_TNC_CONSENT) {
                return this.postTermsnConditionConsent(serviceContext.requestObject);
            }
        }
    };
    ProfileService.prototype.doLogin = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_LOGIN, reqData);
    };
    ProfileService.prototype.getProfileData = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_GET_PROFILE, reqData);
    };
    ProfileService.prototype.createProfile = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_CREATE_PROFILE, reqData);
    };
    ProfileService.prototype.editProfile = function (reqData) {
        return this.httpService.putData(this.SERVICE_URL_CREATE_PROFILE, reqData);
    };
    ProfileService.prototype.changePassword = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_CHANGE_PASSWORD, reqData);
    };
    ProfileService.prototype.getMemberSecurityQuestion = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_MEMBER_SECURITY_QUESTION, reqData);
    };
    ProfileService.prototype.verifyMemberSecurityQuestion = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_VERIFY_SECURITY_QUESTION, reqData);
    };
    ProfileService.prototype.createMemberSecurityQuestion = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_MEMBER_SECURITY_QUESTION, reqData);
    };
    ProfileService.prototype.editMemberSecurityQuestion = function (reqData) {
        return this.httpService.putData(this.SERVICE_URL_MEMBER_SECURITY_QUESTION, reqData);
    };
    ProfileService.prototype.getMemberAddress = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_MEMBER_ADDRESS, reqData);
    };
    ProfileService.prototype.getRecentTransaction = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_TRANSACTION, reqData);
    };
    ProfileService.prototype.getPasswordHints = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_PASSWORD_HINTS, reqData);
    };
    ProfileService.prototype.getTermsnConditionConsent = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_TNC_CONSENT, reqData);
    };
    ProfileService.prototype.postTermsnConditionConsent = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_TNC_CONSENT, reqData);
    };
    return ProfileService;
}());
ProfileService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], ProfileService);

//# sourceMappingURL=profile.service.js.map

/***/ }),

/***/ 515:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WalletService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by C00121 on 05/01/2017.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var WalletService = (function () {
    function WalletService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_VIRTUAL_CARD = '/api/Account/Wallet';
        this.SERVICE_URL_QR_CODE = '/api/Common/QRCode';
    }
    WalletService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.WALLET_SERVICE_NAME_VIRTUAL_CARD) {
                return this.getVirtualCardData(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.WALLET_SERVICE_NAME_QR_CODE) {
                return this.getQRCodeData(serviceContext.requestObject);
            }
        }
    };
    WalletService.prototype.getVirtualCardData = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_VIRTUAL_CARD, reqData);
    };
    WalletService.prototype.getQRCodeData = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_QR_CODE, reqData);
    };
    return WalletService;
}());
WalletService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], WalletService);

//# sourceMappingURL=wallet.service.js.map

/***/ }),

/***/ 516:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyTargetsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by C00121 on 04/12/2016.
 */



var MyTargetsService = (function () {
    function MyTargetsService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_MY_TARGETS = '/api/Goal/MyGoals';
        this.SERVICE_URL_SET_TARGET = '/api/Goal';
        this.SERVICE_URL_DELETE_TARGET = '/api/Goal/Status';
    }
    MyTargetsService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.GOAL_SERVICE_NAME_MY_TARGETS) {
                return this.getMyTargets(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.GOAL_SERVICE_SET_TARGET) {
                return this.setAsTarget(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.GOAL_SERVICE_DELETE_TARGET) {
                return this.deleteTarget(serviceContext.requestObject);
            }
        }
    };
    MyTargetsService.prototype.getMyTargets = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_MY_TARGETS, reqData);
    };
    MyTargetsService.prototype.setAsTarget = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_SET_TARGET, reqData);
    };
    MyTargetsService.prototype.deleteTarget = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_DELETE_TARGET, reqData);
    };
    return MyTargetsService;
}());
MyTargetsService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], MyTargetsService);

//# sourceMappingURL=mytargets.service.js.map

/***/ }),

/***/ 517:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PartnerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by C00121 on 05/12/2016.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PartnerService = (function () {
    function PartnerService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_PARTNERS_BY_LOCATION = '/api/Partner/Locations';
        this.SERVICE_URL_FEATURED_PARTNERS = '/api/Partner/Featured';
        this.SERVICE_URL_LOCATION_CHECKIN = '/api/Checkin';
        this.SERVICE_URL_VOUCHERS = '/api/VoucherForRedemption';
        this.SERVICE_URL_MYVOUCHERS = '/api/Vouchers';
        this.SERVICE_URL_REDEEM_VOUCHERS = '/api/Catalog/CreateRewardBooking';
    }
    PartnerService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.PARTNER_SERVICE_NAME_NEARBY_PARTNERS) {
                return this.getPartnersNearBy(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.PARTNER_SERVICE_NAME_FEATURED_PARTNERS) {
                return this.getFeaturedPartners(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.PARTNER_LOCATION_SERVICE_NAME_CHECK_IN) {
                return this.locationCheckIn(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.SERVICE_NAME_VOUCHERS) {
                return this.getVouchers(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.SERVICE_NAME_MYVOUCHER) {
                return this.getMyVouchers(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.SERVICE_NAME_REDEEM_VOUCHER) {
                return this.redeemVoucher(serviceContext.requestObject);
            }
        }
    };
    PartnerService.prototype.getPartnersNearBy = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_PARTNERS_BY_LOCATION, reqData);
    };
    PartnerService.prototype.locationCheckIn = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_LOCATION_CHECKIN, reqData);
    };
    PartnerService.prototype.getFeaturedPartners = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_FEATURED_PARTNERS, reqData);
    };
    PartnerService.prototype.getVouchers = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_VOUCHERS, reqData);
    };
    PartnerService.prototype.getMyVouchers = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_MYVOUCHERS, reqData);
    };
    PartnerService.prototype.redeemVoucher = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_REDEEM_VOUCHERS, reqData);
    };
    return PartnerService;
}());
PartnerService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], PartnerService);

//# sourceMappingURL=partner.service.js.map

/***/ }),

/***/ 518:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FavouritesService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by C00121 on 14/12/2016.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FavouritesService = (function () {
    function FavouritesService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_FAV_LOCATIONS = '/api/Favorites/Locations';
        this.SERVICE_URL_SET_FAV_OFFER = '/api/Favorites/Offer';
        this.SERVICE_URL_SET_FAV_LOCATION = '/api/Favorites/Location';
    }
    FavouritesService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.FAVOURITES_SERVICE_NAME_LOCATIONS) {
                return this.getMyFavLocations(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.FAVOURITES_SERVICE_NAME_SET_OFFERS) {
                return this.setOfferAsFavourite(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.FAVOURITES_SERVICE_NAME_SET_LOCATION) {
                return this.setLocationAsFavourite(serviceContext.requestObject);
            }
        }
    };
    FavouritesService.prototype.getMyFavLocations = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_FAV_LOCATIONS, reqData);
    };
    FavouritesService.prototype.setOfferAsFavourite = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_SET_FAV_OFFER, reqData);
    };
    FavouritesService.prototype.setLocationAsFavourite = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_SET_FAV_LOCATION, reqData);
    };
    return FavouritesService;
}());
FavouritesService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], FavouritesService);

//# sourceMappingURL=favourites.services.js.map

/***/ }),

/***/ 519:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IndustryTypesService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by C00121 on 14/12/2016.
 */



var IndustryTypesService = (function () {
    function IndustryTypesService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_INDUSTRY_TYPES = '/api/Common/IndustryTypes';
    }
    IndustryTypesService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.COMMON_SERVICE_NAME_INDUSTRY_TYPES) {
                return this.getAllIndustryTypes(serviceContext.requestObject);
            }
        }
    };
    IndustryTypesService.prototype.getAllIndustryTypes = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_INDUSTRY_TYPES, reqData);
    };
    return IndustryTypesService;
}());
IndustryTypesService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], IndustryTypesService);

//# sourceMappingURL=industrytypes.services.js.map

/***/ }),

/***/ 52:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return LoginRequest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return LoginResponse; });
/* unused harmony export LoginDataResponse */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return MemberInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return TransactionResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return TransactionInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return VirtualCardInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return VirtualCardResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return QRCodeInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return QRCodeResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EnrollResponse; });
/* unused harmony export MemberAddressResponse */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return MemberAddressInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return MemberContactInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return MilesCalculatorFilters; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return PasswordHintResponse; });
/* unused harmony export PasswordHintList */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return PasswordHint; });
/* unused harmony export PasswordCharacter */
/**
 * Login Request DTO
 * @class LoginRequest
 *
 */
var LoginRequest = (function () {
    function LoginRequest() {
    }
    return LoginRequest;
}());

var LoginResponse = (function () {
    function LoginResponse() {
    }
    return LoginResponse;
}());

var LoginDataResponse = (function () {
    function LoginDataResponse() {
    }
    return LoginDataResponse;
}());

var MemberInfo = (function () {
    function MemberInfo() {
    }
    return MemberInfo;
}());

var TransactionResponse = (function () {
    function TransactionResponse() {
    }
    return TransactionResponse;
}());

var TransactionInfo = (function () {
    function TransactionInfo() {
    }
    return TransactionInfo;
}());

var VirtualCardInfo = (function () {
    function VirtualCardInfo() {
    }
    return VirtualCardInfo;
}());

var VirtualCardResponse = (function () {
    function VirtualCardResponse() {
    }
    return VirtualCardResponse;
}());

var QRCodeInfo = (function () {
    function QRCodeInfo() {
    }
    return QRCodeInfo;
}());

var QRCodeResponse = (function () {
    function QRCodeResponse() {
    }
    return QRCodeResponse;
}());

var EnrollResponse = (function () {
    function EnrollResponse() {
    }
    return EnrollResponse;
}());

var MemberAddressResponse = (function () {
    function MemberAddressResponse() {
    }
    return MemberAddressResponse;
}());

var MemberAddressInfo = (function () {
    function MemberAddressInfo() {
    }
    return MemberAddressInfo;
}());

var MemberContactInfo = (function () {
    function MemberContactInfo() {
    }
    return MemberContactInfo;
}());

var MilesCalculatorFilters = (function () {
    function MilesCalculatorFilters() {
    }
    return MilesCalculatorFilters;
}());

var PasswordHintResponse = (function () {
    function PasswordHintResponse() {
    }
    return PasswordHintResponse;
}());

var PasswordHintList = (function () {
    function PasswordHintList() {
    }
    return PasswordHintList;
}());

var PasswordHint = (function () {
    function PasswordHint() {
    }
    return PasswordHint;
}());

var PasswordCharacter = (function () {
    function PasswordCharacter() {
    }
    return PasswordCharacter;
}());

//# sourceMappingURL=account.dto.js.map

/***/ }),

/***/ 520:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by C00124 on 22/12/2016.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DeviceService = (function () {
    function DeviceService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_REGISTER = '/api/Device/Register';
    }
    DeviceService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName && (serviceName === this.serviceConstants.DEVICE_SERVICE_NAME_REGISTER)) {
            return this.register(serviceContext.requestObject);
        }
    };
    DeviceService.prototype.register = function (reqData) {
        return this.httpService.postData(this.SERVICE_URL_REGISTER, reqData);
    };
    return DeviceService;
}());
DeviceService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], DeviceService);

//# sourceMappingURL=device.service.js.map

/***/ }),

/***/ 521:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocationNotificationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by sandip on 1/16/17.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var LocationNotificationService = (function () {
    function LocationNotificationService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL = '/api/PushNotification/Local';
    }
    LocationNotificationService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.LOCATION_NOTIFICATION_SERVICE_NAME_GET) {
                return this.getLocationNotifications(serviceContext.requestObject);
            }
        }
    };
    LocationNotificationService.prototype.getLocationNotifications = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL, reqData);
    };
    return LocationNotificationService;
}());
LocationNotificationService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], LocationNotificationService);

//# sourceMappingURL=location-notification.service.js.map

/***/ }),

/***/ 522:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LovItemService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/**
 * Created by sandip on 05/10/2017.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var LovItemService = (function () {
    function LovItemService(httpService, serviceConstants) {
        this.httpService = httpService;
        this.serviceConstants = serviceConstants;
        this.SERVICE_URL_LOV_ITEM_SECURITY_QUESTIONS = '/api/LovItem/GetSecurityQuestions';
        this.SERVICE_URL_LOV_ITEM_COUNTRY = '/api/LovItem/GetCountryLov';
        this.SERVICE_URL_LOV_ITEM_STATE = '/api/LovItem/GetStateLov';
        this.SERVICE_URL_LOV_ITEM_CITY = '/api/LovItem/GetCityLov';
        this.SERVICE_URL_LOV_ITEM_NAME_SUFFIX = '/api/LovItem/GetNameSuffixLov';
    }
    LovItemService.prototype.call = function (serviceContext) {
        var serviceName = serviceContext.serviceName;
        if (serviceName) {
            if (serviceName === this.serviceConstants.LOV_ITEM_SERVICE_NAME_SECURITY_QUESTIONS) {
                return this.getSecurityQuestions(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.LOV_ITEM_SERVICE_NAME_COUNTRY) {
                return this.getCountryLov(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.LOV_ITEM_SERVICE_NAME_STATE) {
                return this.getStateLov(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.LOV_ITEM_SERVICE_NAME_CITY) {
                return this.getCityLov(serviceContext.requestObject);
            }
            else if (serviceName === this.serviceConstants.LOV_ITEM_SERVICE_NAME_NAME_SUFFIX) {
                return this.getNameSuffixLov(serviceContext.requestObject);
            }
        }
    };
    LovItemService.prototype.getSecurityQuestions = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_LOV_ITEM_SECURITY_QUESTIONS, reqData);
    };
    LovItemService.prototype.getCountryLov = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_LOV_ITEM_COUNTRY, reqData);
    };
    LovItemService.prototype.getStateLov = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_LOV_ITEM_STATE, reqData);
    };
    LovItemService.prototype.getCityLov = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_LOV_ITEM_CITY, reqData);
    };
    LovItemService.prototype.getNameSuffixLov = function (reqData) {
        return this.httpService.getData(this.SERVICE_URL_LOV_ITEM_NAME_SUFFIX, reqData);
    };
    return LovItemService;
}());
LovItemService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__commons_http_service__["a" /* CustomHttpService */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */]])
], LovItemService);

//# sourceMappingURL=lov-item.service.js.map

/***/ }),

/***/ 523:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RemoteNotificationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_remote_notification_dto__ = __webpack_require__(1075);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 22/12/2016.
 */




var RemoteNotificationService = (function () {
    function RemoteNotificationService(platform) {
        this.platform = platform;
        this.push = null;
    }
    RemoteNotificationService.prototype.register = function (onRegistration, onNotification, onError) {
        // alert(JSON.stringify(onError)+' : onRegistration : '+JSON.stringify(onRegistration)+' : onNotification : '+JSON.stringify(onNotification))
        if (window.plugins && this.platform.is('ios')) {
            if (this.push == null) {
                this.push = window.plugins.push.init({
                    "ios": { "alert": true, "badge": true, "sound": true }
                });
                if (this.push) {
                    this.push.on('registration', function (data) {
                        if (onRegistration && data) {
                            onRegistration(data.registrationId);
                        }
                    });
                    this.push.on('notification', function (data) {
                        //   alert('processNotification : '+JSON.stringify(data));
                        if (onNotification) {
                            onNotification(data);
                        }
                    });
                    this.push.on('error', function (error) {
                        // alert('processNotification error : '+JSON.stringify(error));
                        if (onError) {
                            onError(error);
                        }
                    });
                }
                else {
                    if (onError) {
                        var error = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
                        error.message = 'Platform does not support';
                        onError(error);
                    }
                }
            }
        }
        else if (window.plugins && this.platform.is('android')) {
            // console.log('FCM Plugin : ' );
            FCMPlugin.getToken(function (data) {
                if (onRegistration) {
                    onRegistration(data);
                }
            }, function (error) {
                if (onError) {
                    onError(error);
                }
            });
            FCMPlugin.onNotification(function (data) {
                var notificationInfo = new __WEBPACK_IMPORTED_MODULE_3__dto_remote_notification_dto__["b" /* RemoteNotificationInfo */]();
                if (data) {
                    var additionalData = new __WEBPACK_IMPORTED_MODULE_3__dto_remote_notification_dto__["a" /* RemoteNotificationAdditionalData */]();
                    additionalData.foreground = false;
                    if (data.wasTapped === true)
                        additionalData.foreground = true;
                    var payload = new __WEBPACK_IMPORTED_MODULE_3__dto_remote_notification_dto__["c" /* RemoteNotificationPayload */]();
                    payload.notifCode = data.NotifCode;
                    additionalData.payload = payload;
                    notificationInfo.additionalData = additionalData;
                    notificationInfo.title = data.Title;
                    notificationInfo.message = data.Message;
                }
                if (onNotification) {
                    onNotification(notificationInfo);
                }
            }, function (data) {
                console.log('FCM onNotification successfully registered: ' + data);
            }, function (error) {
                if (onError) {
                    onError(error);
                }
            });
        }
        else {
            if (onError) {
                var error = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Platform does not support';
                onError(error);
            }
        }
    };
    RemoteNotificationService.prototype.checkNotificationPermission = function (callback) {
        if (window.plugins && this.platform.is('ios')) {
            window.plugins.push.hasPermission(function (data) {
                if (callback) {
                    callback(data.isEnabled);
                }
            });
        }
        else if (window.plugins && this.platform.is('android')) {
            FCMPlugin.hasPermission(function (data) {
                if (callback) {
                    callback((data == 'Y'));
                }
            });
        }
        else {
            if (callback) {
                callback(false);
            }
        }
    };
    RemoteNotificationService.prototype.openSettings = function () {
        if (window.plugins && this.platform.is('ios')) {
            window.plugins.push.openSettings();
        }
        else if (window.plugins && this.platform.is('android')) {
            FCMPlugin.openSettings();
        }
    };
    return RemoteNotificationService;
}());
RemoteNotificationService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* Platform */]])
], RemoteNotificationService);

//# sourceMappingURL=remote-notification.service.js.map

/***/ }),

/***/ 524:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SocialSharingService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/**
 * Created by C00121 on 10/01/2017.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var SocialSharingService = (function () {
    function SocialSharingService() {
    }
    SocialSharingService.prototype.share = function (options, onSuccess, onError) {
        // console.log('SocialSharing plugin call : ');
        if (window.plugins && window.plugins.socialsharing) {
            window.plugins.socialsharing.shareWithOptions(options, onSuccess, onError);
        }
        else if (onError) {
            onError(null);
        }
    };
    return SocialSharingService;
}());
SocialSharingService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], SocialSharingService);

//# sourceMappingURL=social-sharing.service.js.map

/***/ }),

/***/ 525:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GoogleAnalyticService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_commons_client_utils__ = __webpack_require__(9);
/**
 * Created by C00121 on 16/01/2017.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


// declare let cordova;
var GoogleAnalyticService = (function () {
    function GoogleAnalyticService(clientUtils) {
        this.clientUtils = clientUtils;
    }
    GoogleAnalyticService.prototype.startTracking = function () {
        if (this.clientUtils.isAnalyticsEnabled() && window.plugins) {
            window.plugins.googleanalytics.startTrackerWithId(this.clientUtils.getGoogleAnalyticsTrackingId());
            // Google Tag Manager
            // let trackingId = 'GTM-M4LC9PR';
            // let intervalPeriod = 30; // seconds
            // let tagManager = cordova.require('com-mercator-cordova-googletagmanager.TagManager');
            // tagManager.init(
            //     (result: any) => {
            //         console.log('TagManager init:\n', JSON.stringify(result));
            //     }, (error: any) => {
            //         console.log('TagManager init error:\n', JSON.stringify(error));
            //     }, trackingId, intervalPeriod);
            if (this.clientUtils.isDebugMode()) {
                window.plugins.googleanalytics.debugMode();
            }
        }
    };
    GoogleAnalyticService.prototype.trackPage = function (pageName) {
        if (this.clientUtils.isAnalyticsEnabled() && window.plugins) {
            window.plugins.googleanalytics.trackView(pageName);
        }
    };
    GoogleAnalyticService.prototype.trackEvent = function (category, action, label, value) {
        if (this.clientUtils.isAnalyticsEnabled() && window.plugins) {
            window.plugins.googleanalytics.trackEvent(category, action, label, value);
        }
    };
    GoogleAnalyticService.prototype.setUserId = function (userId) {
        if (this.clientUtils.isAnalyticsEnabled() && window.plugins) {
            window.plugins.googleanalytics.setUserId(userId);
        }
    };
    return GoogleAnalyticService;
}());
GoogleAnalyticService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__utils_commons_client_utils__["a" /* ClientUtils */]])
], GoogleAnalyticService);

//# sourceMappingURL=google-analytics.service.js.map

/***/ }),

/***/ 526:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfigurationUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__dto_session_dto__ = __webpack_require__(506);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dto_configuration_dto__ = __webpack_require__(1076);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by chandan on 2/28/17.
 */






var ConfigurationUtils = (function () {
    function ConfigurationUtils(sessionUtils, clientUtils, customHttpService) {
        this.sessionUtils = sessionUtils;
        this.clientUtils = clientUtils;
        this.customHttpService = customHttpService;
    }
    ConfigurationUtils.prototype.fetchConfigurationDataFromJSON = function () {
        var strURL = '../assets/resources/app.config.json';
        //console.log('customHttpService.baseUrl='+JSON.stringify(this.customHttpService.fetchLocalData(strURL)));
        this.customHttpService.fetchLocalData(strURL).subscribe(function (result) {
            //this.newsData=result.data.children;
            // let configurationDTO: ConfigurationDetailsDTO = result;
            // let defaultConfiguration: DefaultConfiguration = this.fetchConfigurationDetails(configurationDTO);
            //console.log("defaultConfiguration : "+JSON.stringify(defaultConfiguration));
        }, function (err) {
            console.error("Error : " + err);
        }, function () {
            // console.log('getData completed');
        });
    };
    /**
     * Returns active tenant from the list
     * @param configurationDetailsDTO
     * @returns {DefaultConfiguration}
     */
    ConfigurationUtils.prototype.fetchConfigurationDetails = function (configurationDetailsDTO) {
        var _this = this;
        //console.log('...  fetching configuration details');
        var defaultConfiguration = new __WEBPACK_IMPORTED_MODULE_5__dto_configuration_dto__["a" /* DefaultConfiguration */]();
        if (!this.clientUtils.isNullOrEmpty(configurationDetailsDTO)) {
            var activeTenantDetails_1 = configurationDetailsDTO.activeTenantDetails;
            var tenantList = configurationDetailsDTO.tenantList;
            defaultConfiguration.version = configurationDetailsDTO.version;
            if (!this.clientUtils.isNullOrEmpty(tenantList)) {
                var isTenantFound_1 = false;
                var isEnvironmentFound_1 = false;
                var isApplicationFound_1 = false;
                //let isServerFound: boolean = false;
                tenantList.forEach(function (tenantDetailsDTO) {
                    if (!isTenantFound_1 && tenantDetailsDTO.tenantCode === activeTenantDetails_1.tenantCode) {
                        isTenantFound_1 = true;
                        defaultConfiguration.tenantCode = tenantDetailsDTO.tenantCode;
                        defaultConfiguration.tenantName = tenantDetailsDTO.tenantName;
                        defaultConfiguration.defaultAppId = tenantDetailsDTO.defaultAppId;
                        defaultConfiguration.defaultLocationLatitude = tenantDetailsDTO.defaultLocationLatitude;
                        defaultConfiguration.defaultLocationLongitude = tenantDetailsDTO.defaultLocationLongitude;
                        defaultConfiguration.rateTheAppIOSURL = tenantDetailsDTO.rateTheAppIOSURL;
                        defaultConfiguration.rateTheAppAndroidURL = tenantDetailsDTO.rateTheAppAndroidURL;
                        defaultConfiguration.bookingAppIOSURL = tenantDetailsDTO.bookingAppIOSURL;
                        defaultConfiguration.bookingAppAndroidURL = tenantDetailsDTO.bookingAppAndroidURL;
                        defaultConfiguration.googleAnalyticsTrackID = tenantDetailsDTO.googleAnalyticsTrackID;
                        defaultConfiguration.version = tenantDetailsDTO.version;
                        var environmentList = tenantDetailsDTO.environmentList;
                        if (!_this.clientUtils.isNullOrEmpty(environmentList)) {
                            //console.log('-- environmentList = \n'+ JSON.stringify(environmentList));
                            environmentList.forEach(function (environmentDetailsDTO) {
                                if (!isEnvironmentFound_1
                                    && environmentDetailsDTO.environmentType === activeTenantDetails_1.environmentType) {
                                    isEnvironmentFound_1 = true;
                                    defaultConfiguration.environmentType = environmentDetailsDTO.environmentType;
                                    defaultConfiguration.analyticsTrackEnabled = environmentDetailsDTO.analyticsTrackEnabled;
                                    defaultConfiguration.debugMode = environmentDetailsDTO.debugMode;
                                    defaultConfiguration.webApiKey = environmentDetailsDTO.webApiKey;
                                    var applicationList = environmentDetailsDTO.applicationList;
                                    applicationList.forEach(function (applicationDetailsDTO) {
                                        if (!isApplicationFound_1 && applicationDetailsDTO.applicationName === activeTenantDetails_1.applicationName) {
                                            isApplicationFound_1 = true;
                                            defaultConfiguration.appDisplayName = applicationDetailsDTO.applicationDescription;
                                            var serverList = applicationDetailsDTO.serverList;
                                            //console.log( 'serverList = \n' + JSON.stringify( serverList ) );
                                            if (!_this.clientUtils.isNullOrEmpty(serverList)) {
                                                serverList.forEach(function (serverDetailsDTO) {
                                                    if ('Running' === serverDetailsDTO.status) {
                                                        defaultConfiguration.hostURL = serverDetailsDTO.serverURL;
                                                    }
                                                });
                                            }
                                        }
                                    });
                                }
                            });
                        }
                    }
                });
            }
        }
        if (!this.clientUtils.isNullOrEmpty(defaultConfiguration)) {
            //console.log('...defaultConfiguration =\n' + JSON.stringify(defaultConfiguration));
            var sessionRootInfo = this.sessionUtils.getRootContext();
            if (this.clientUtils.isNullOrEmpty(sessionRootInfo)) {
                sessionRootInfo = new __WEBPACK_IMPORTED_MODULE_4__dto_session_dto__["a" /* SessionRootInfo */]();
            }
            sessionRootInfo.defaultConfiguration = defaultConfiguration;
            this.sessionUtils.saveRootContext(sessionRootInfo);
        }
        return defaultConfiguration;
    };
    return ConfigurationUtils;
}());
ConfigurationUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_2__client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_http_service__["a" /* CustomHttpService */]])
], ConfigurationUtils);

//# sourceMappingURL=configuration.utils.js.map

/***/ }),

/***/ 527:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppVersionService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 27/09/17.
 */


var AppVersionService = (function () {
    function AppVersionService(platform) {
        this.platform = platform;
    }
    AppVersionService.prototype.version = function () {
        if ((typeof cordova !== 'undefined') && (this.platform.is('ios') || this.platform.is('android'))) {
            return AppVersion.version;
        }
        return null;
    };
    AppVersionService.prototype.build = function () {
        if ((typeof cordova !== 'undefined') && (this.platform.is('ios') || this.platform.is('android'))) {
            return AppVersion.build;
        }
        return null;
    };
    return AppVersionService;
}());
AppVersionService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* Platform */]])
], AppVersionService);

//# sourceMappingURL=app-version.service.js.map

/***/ }),

/***/ 528:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export FacebookAuthResponse */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FacebookConnectService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__ = __webpack_require__(22);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 17/04/17.
 */


var FacebookAuthResponse = (function () {
    function FacebookAuthResponse() {
    }
    return FacebookAuthResponse;
}());

var FacebookLoginResponse = (function () {
    function FacebookLoginResponse() {
    }
    return FacebookLoginResponse;
}());
var FacebookConnectService = (function () {
    function FacebookConnectService() {
    }
    FacebookConnectService.prototype.login = function () {
        return new Promise(function (resolve, reject) {
            if ((typeof cordova !== 'undefined') && facebookConnectPlugin) {
                var permissions = ['public_profile', 'email'];
                facebookConnectPlugin.login(permissions, function (userData) {
                    if (userData.status == 'connected') {
                        resolve(userData.authResponse);
                    }
                    else {
                        var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                        error.message = userData.status;
                        reject(error);
                    }
                }, function (err) {
                    var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                    error.message = err;
                    reject(error);
                });
            }
            else {
                var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Platform does not support';
                reject(error);
            }
        });
    };
    FacebookConnectService.prototype.getLoginStatus = function () {
        return new Promise(function (resolve, reject) {
            if ((typeof cordova !== 'undefined') && facebookConnectPlugin) {
                facebookConnectPlugin.getLoginStatus(function (userData) {
                    if (userData.status == 'connected') {
                        resolve(userData.authResponse);
                    }
                    else {
                        var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                        error.message = userData.status;
                        reject(error);
                    }
                }, function (err) {
                    var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                    error.message = err;
                    reject(error);
                });
            }
            else {
                var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Platform does not support';
                reject(error);
            }
        });
    };
    FacebookConnectService.prototype.logout = function () {
        return new Promise(function (resolve, reject) {
            if ((typeof cordova !== 'undefined') && facebookConnectPlugin) {
                facebookConnectPlugin.logout(function () {
                    resolve(true);
                }, function () {
                    reject(false);
                });
            }
            else {
                reject(false);
            }
        });
    };
    FacebookConnectService.prototype.api = function (requestPath) {
        return new Promise(function (resolve, reject) {
            if ((typeof cordova !== 'undefined') && facebookConnectPlugin) {
                var permissions = ['public_profile', 'email'];
                facebookConnectPlugin.login(requestPath, permissions, function (userData) {
                    resolve(userData);
                }, function (err) {
                    var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                    error.message = err;
                    reject(error);
                });
            }
            else {
                var error = new __WEBPACK_IMPORTED_MODULE_1__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = 'Platform does not support';
                reject(error);
            }
        });
    };
    return FacebookConnectService;
}());
FacebookConnectService = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], FacebookConnectService);

//# sourceMappingURL=facebook-connect.service.js.map

/***/ }),

/***/ 53:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_commons_user_address_utils__ = __webpack_require__(97);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/5/17.
 */












var OfferUtils = (function () {
    function OfferUtils(events, dataAccessService, serviceConstants, appConstants, translate, configUtils, sessionUtils, userAddressUtils) {
        this.events = events;
        this.dataAccessService = dataAccessService;
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.translate = translate;
        this.configUtils = configUtils;
        this.sessionUtils = sessionUtils;
        this.userAddressUtils = userAddressUtils;
    }
    OfferUtils.prototype.getRecommendedOfferContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.recommendedOffers;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    OfferUtils.prototype.saveRecommendedOfferContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.recommendedOffers = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    OfferUtils.prototype.cleaRecommendedOfferContext = function () {
        var contextObj = new Array();
        this.saveRecommendedOfferContext(contextObj);
    };
    OfferUtils.prototype.getFavoriteOfferContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.favoriteOffers;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    OfferUtils.prototype.saveFavoriteOfferContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.favoriteOffers = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    OfferUtils.prototype.cleaFavoriteOfferContext = function () {
        var contextObj = new Array();
        this.saveFavoriteOfferContext(contextObj);
    };
    OfferUtils.prototype.getNearbyOfferContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.nearbyOffers;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    OfferUtils.prototype.saveNearbyOfferContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.nearbyOffers = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    OfferUtils.prototype.cleaNearbyOfferContext = function () {
        var contextObj = new Array();
        this.saveNearbyOfferContext(contextObj);
    };
    OfferUtils.prototype.fetchRecommendedOffers = function (successCallback, errorCallback) {
        var _this = this;
        var recommendedOffers = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["a" /* OfferInfo */]();
        recommendedOffers.active = 'Y';
        recommendedOffers.featured = 'Y';
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            recommendedOffers.memberUid = memberInfo.memUID;
        }
        var pageInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["i" /* PageInfo */]();
        pageInfo.startIndex = 1;
        pageInfo.endIndex = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.NO_OF_RECOMMENDED_OFFERS);
        var recommendedOffersRequest = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["c" /* OfferResquest */]();
        recommendedOffersRequest.data = recommendedOffers;
        recommendedOffersRequest.pageInfo = pageInfo;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_OFFER, this.serviceConstants.OFFER_SERVICE_NAME_OFFER_LIST, recommendedOffersRequest);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["b" /* OfferResponse */]();
                response.data = [];
            }
            _this.saveRecommendedOfferContext(response.data);
            _this.events.publish(_this.appConstants.EVENT_RECOMMENDED_OFFERS_CHANGED);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    OfferUtils.prototype.fetchFavoriteOffers = function (successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var recommendedOffers = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["a" /* OfferInfo */]();
            recommendedOffers.active = 'Y';
            recommendedOffers.memberUid = memberInfo.memUID;
            recommendedOffers.isFavorite = 'Y';
            var pageInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["i" /* PageInfo */]();
            // pageInfo.startIndex = 1;
            // pageInfo.endIndex = this.configUtils.getNumOfRecordsForKey(
            //                             this.serviceConstants.NO_OF_FAVOURITE_OFFERS);
            var recommendedOffersRequest = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["c" /* OfferResquest */]();
            recommendedOffersRequest.data = recommendedOffers;
            recommendedOffersRequest.pageInfo = pageInfo;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_OFFER, this.serviceConstants.OFFER_SERVICE_NAME_OFFER_LIST, recommendedOffersRequest);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["b" /* OfferResponse */]();
                    response.data = [];
                }
                _this.saveFavoriteOfferContext(response.data);
                _this.events.publish(_this.appConstants.EVENT_FAVORITE_OFFERS_CHANGED);
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = this.translate.instant('YOU_ARE_NOT_LOGGED_IN');
                errorCallback(error);
            }
        }
    };
    OfferUtils.prototype.fetchOffersNearBy = function (successCallback, errorCallback) {
        var _this = this;
        var geocodes = this.userAddressUtils.getUserAddressContext();
        if (geocodes && (geocodes.length > 0) && geocodes[0].geometry && geocodes[0].geometry.location) {
            var offersByLocation = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["a" /* OfferInfo */]();
            offersByLocation.active = 'Y';
            offersByLocation.latitude = geocodes[0].geometry.location.lat;
            offersByLocation.longitude = geocodes[0].geometry.location.lng;
            if (this.sessionUtils.isUserLoggedIn()) {
                var memberInfo = this.sessionUtils.getMemberInfo();
                offersByLocation.memberUid = memberInfo.memUID;
            }
            var pageInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["i" /* PageInfo */]();
            pageInfo.startIndex = 1;
            pageInfo.endIndex = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.NO_OF_NEARBY_OFFERS);
            var offersByLocationRequest = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["c" /* OfferResquest */]();
            offersByLocationRequest.data = offersByLocation;
            offersByLocationRequest.pageInfo = pageInfo;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_OFFER, this.serviceConstants.OFFER_SERVICE_NAME_PARTNER_LOCATIONS, offersByLocationRequest);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["b" /* OfferResponse */]();
                    response.data = [];
                }
                _this.saveNearbyOfferContext(response.data);
                _this.events.publish(_this.appConstants.EVENT_NEARBY_OFFERS_CHANGED);
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                if (errorCallback) {
                    var errorInfo = error.json();
                    errorCallback(errorInfo);
                }
            });
        }
    };
    OfferUtils.prototype.fetchAllOffers = function (startIndex, endIndex, offerInfo, successCallback, errorCallback) {
        var pageInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["i" /* PageInfo */]();
        pageInfo.startIndex = startIndex;
        pageInfo.endIndex = endIndex;
        var offersRequest = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["c" /* OfferResquest */]();
        offersRequest.data = offerInfo;
        offersRequest.pageInfo = pageInfo;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_OFFER, this.serviceConstants.OFFER_SERVICE_NAME_OFFER_LIST, offersRequest);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["b" /* OfferResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    OfferUtils.prototype.fetchOffersPartnerLocation = function (addressId, startIndex, endIndex, successCallback, errorCallback) {
        var offersRequestData = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["a" /* OfferInfo */]();
        offersRequestData.addressId = addressId;
        offersRequestData.active = 'Y';
        var pageInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["i" /* PageInfo */]();
        pageInfo.startIndex = startIndex;
        pageInfo.endIndex = endIndex;
        var offersRequest = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["c" /* OfferResquest */]();
        offersRequest.data = offersRequestData;
        offersRequest.pageInfo = pageInfo;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_OFFER, this.serviceConstants.OFFER_SERVICE_NAME_PARTNER_LOCATIONS, offersRequest);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["b" /* OfferResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    OfferUtils.prototype.setOfferAsFavourite = function (offerId, isFav, successCallback, errorCallback) {
        var _this = this;
        var shouldFavRequest = true;
        if (!isFav) {
            var maxLimit = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.NO_OF_FAVOURITE_OFFERS);
            var offers = this.getFavoriteOfferContext();
            shouldFavRequest = (offers.length < maxLimit);
        }
        if (shouldFavRequest) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var favOfferInfo = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["a" /* OfferInfo */]();
            favOfferInfo.offerId = offerId;
            // favOfferInfo.favouriteOfferId = offerId;
            favOfferInfo.memberUid = memberInfo.memUID;
            favOfferInfo.active = isFav ? 'N' : 'Y';
            var pageInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["i" /* PageInfo */]();
            var favouriteOffersRequest = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["c" /* OfferResquest */]();
            favouriteOffersRequest.data = favOfferInfo;
            favouriteOffersRequest.pageInfo = pageInfo;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_FAVOURITES, this.serviceConstants.FAVOURITES_SERVICE_NAME_SET_OFFERS, favouriteOffersRequest);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_7__dto_offers_dto__["b" /* OfferResponse */]();
                    response.data = [];
                }
                _this.fetchOffersNearBy(null, null);
                _this.fetchRecommendedOffers(null, null);
                _this.fetchFavoriteOffers(null, null);
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            var error = new __WEBPACK_IMPORTED_MODULE_8__dto_common_dto__["j" /* ServiceErrorInfo */]();
            error.message = this.translate.instant('FAVOURITES_OFFERS_LIMIT_REACHED');
            errorCallback(error);
        }
    };
    return OfferUtils;
}());
OfferUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_11__utils_commons_user_address_utils__["a" /* UserAddressUtils */]])
], OfferUtils);

//# sourceMappingURL=offer.utils.js.map

/***/ }),

/***/ 64:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TargetUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__ = __webpack_require__(309);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__ = __webpack_require__(22);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by C00121 on 09/01/2017.
 */












var TargetUtils = (function () {
    function TargetUtils(events, serviceConstants, appConstants, translate, dataAccessService, sessionUtils, configUtils, offerUtils) {
        this.events = events;
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.translate = translate;
        this.dataAccessService = dataAccessService;
        this.sessionUtils = sessionUtils;
        this.configUtils = configUtils;
        this.offerUtils = offerUtils;
    }
    TargetUtils.prototype.getTargetContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.targets;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    TargetUtils.prototype.saveTargetContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.targets = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    TargetUtils.prototype.clearTargetContext = function () {
        var contextObj = new Array();
        this.saveTargetContext(contextObj);
    };
    TargetUtils.prototype.fetchMyTargets = function (successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var requestData = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["a" /* GoalInfo */]();
            requestData.active = 'Y';
            requestData.memberUid = memberInfo.memUID;
            requestData.start = 1;
            requestData.end = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.NO_OF_TARGETS);
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_6__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_GOAL, this.serviceConstants.GOAL_SERVICE_NAME_MY_TARGETS, requestData);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["c" /* GoalResponse */]();
                    response.data = [];
                }
                _this.saveTargetContext(response.data);
                _this.events.publish(_this.appConstants.EVENT_TARGET_CHANGED);
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = this.translate.instant('YOU_ARE_NOT_LOGGED_IN');
                errorCallback(error);
            }
        }
    };
    TargetUtils.prototype.fetchAllTargets = function (start, end, successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var requestData = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["a" /* GoalInfo */]();
            requestData.active = 'Y';
            requestData.memberUid = memberInfo.memUID;
            requestData.start = start;
            requestData.end = end;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_6__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_GOAL, this.serviceConstants.GOAL_SERVICE_NAME_MY_TARGETS, requestData);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["c" /* GoalResponse */]();
                    response.data = [];
                }
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
        else {
            if (errorCallback) {
                var error = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["j" /* ServiceErrorInfo */]();
                error.message = this.translate.instant('YOU_ARE_NOT_LOGGED_IN');
                errorCallback(error);
            }
        }
    };
    TargetUtils.prototype.setOfferAsTarget = function (offerId, successCallback, errorCallback) {
        var _this = this;
        var memberInfo = this.sessionUtils.getMemberInfo();
        var offerBaseGoalInfo = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["a" /* GoalInfo */]();
        offerBaseGoalInfo.goalOfferId = offerId;
        offerBaseGoalInfo.memberUid = memberInfo.memUID;
        offerBaseGoalInfo.active = 'Y';
        var pageInfo = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["i" /* PageInfo */]();
        var offerBasedGoalRequest = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["b" /* GoalRequest */]();
        offerBasedGoalRequest.data = offerBaseGoalInfo;
        offerBasedGoalRequest.pageInfo = pageInfo;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_6__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_GOAL, this.serviceConstants.GOAL_SERVICE_SET_TARGET, offerBasedGoalRequest);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["c" /* GoalResponse */]();
                response.data = [];
            }
            _this.fetchMyTargets(null, null);
            _this.offerUtils.fetchOffersNearBy(null, null);
            _this.offerUtils.fetchRecommendedOffers(null, null);
            _this.offerUtils.fetchFavoriteOffers(null, null);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    TargetUtils.prototype.setPersonalTarget = function (goalInfo, successCallback, errorCallback) {
        var _this = this;
        var pageInfo = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["i" /* PageInfo */]();
        var personalGoalRequest = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["b" /* GoalRequest */]();
        personalGoalRequest.data = goalInfo;
        personalGoalRequest.pageInfo = pageInfo;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_6__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_GOAL, this.serviceConstants.GOAL_SERVICE_SET_TARGET, personalGoalRequest);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["c" /* GoalResponse */]();
                response.data = [];
            }
            _this.fetchMyTargets(null, null);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    TargetUtils.prototype.deleteTarget = function (data, successCallback, errorCallback) {
        var _this = this;
        var memberInfo = this.sessionUtils.getMemberInfo();
        var personalGoalInfo = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["a" /* GoalInfo */]();
        personalGoalInfo.memberUid = memberInfo.memUID;
        if (data.active == 'N') {
            personalGoalInfo.active = 'N';
        }
        else {
            personalGoalInfo.targetStatus = 'D';
        }
        personalGoalInfo.targetId = data.targetId;
        var pageInfo = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["i" /* PageInfo */]();
        var personalGoalRequest = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["b" /* GoalRequest */]();
        personalGoalRequest.data = personalGoalInfo;
        personalGoalRequest.pageInfo = pageInfo;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_6__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_GOAL, this.serviceConstants.GOAL_SERVICE_DELETE_TARGET, personalGoalRequest);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_3__dto_goal_dto__["c" /* GoalResponse */]();
                response.data = [];
            }
            _this.fetchMyTargets(null, null);
            _this.offerUtils.fetchOffersNearBy(null, null);
            _this.offerUtils.fetchRecommendedOffers(null, null);
            _this.offerUtils.fetchFavoriteOffers(null, null);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_11__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    TargetUtils.prototype.isTargetLimitReached = function () {
        var goals = this.getTargetContext();
        var count = 0;
        for (var index = 0; index < goals.length; index++) {
            if (goals[index].targetStatus === '' || goals[index].targetStatus === 'I') {
                count++;
            }
        }
        var setTargetLimit = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.NO_OF_TARGETS);
        return (count >= setTargetLimit);
    };
    return TargetUtils;
}());
TargetUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_4__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_7__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_offer_utils__["a" /* OfferUtils */]])
], TargetUtils);

//# sourceMappingURL=target.utils.js.map

/***/ }),

/***/ 65:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LanguageConstants; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 27/03/17.
 */

var LanguageConstants = (function () {
    function LanguageConstants() {
        this.POINTS = 'MILES';
        this.LEVEL = 'TIER_STATUS';
        this.BURN = 'REDEEM';
        this.TIER_POINTS = 'FLIGHT_MILES';
        this.TIER = 'TIER_STATUS';
    }
    return LanguageConstants;
}());
LanguageConstants = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], LanguageConstants);

//# sourceMappingURL=language.constants.js.map

/***/ }),

/***/ 650:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HomePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_slider_dto__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_geolocation_service__ = __webpack_require__(307);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_commons_user_address_utils__ = __webpack_require__(97);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils_commons_sync_data_utils__ = __webpack_require__(146);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__location_location__ = __webpack_require__(651);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pages_mcalculator_mcalculator__ = __webpack_require__(652);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__utils_commons_user_utils__ = __webpack_require__(71);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


















var HomePage = (function () {
    function HomePage(navCtrl, sessionUtils, offerUtils, partnerUtils, configUtils, clientUtils, userAddressUtils, geolocation, events, render, ngZone, platform, modalCtrl, translate, googleAnalyticsUtils, syncDataUtils, appConstants, networkService, userUtils, viewController) {
        this.navCtrl = navCtrl;
        this.sessionUtils = sessionUtils;
        this.offerUtils = offerUtils;
        this.partnerUtils = partnerUtils;
        this.configUtils = configUtils;
        this.clientUtils = clientUtils;
        this.userAddressUtils = userAddressUtils;
        this.geolocation = geolocation;
        this.events = events;
        this.render = render;
        this.ngZone = ngZone;
        this.platform = platform;
        this.modalCtrl = modalCtrl;
        this.translate = translate;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.syncDataUtils = syncDataUtils;
        this.appConstants = appConstants;
        this.networkService = networkService;
        this.userUtils = userUtils;
        this.viewController = viewController;
        this.nearByOffersData = [];
        this.nearByParnersData = [];
        this.recomOffersData = [];
        this.offersByLocation = [];
        this.recommendedOffers = [];
        this.partnersByLocation = [];
        this.partnersData = [];
        this.memberInfo = null;
        this.selectedLocationObj = null;
        this.shouldUseCurrentLocation = true;
        this.userLocationFinderStatus = true;
        this.shouldShowMileCalculator = false;
        this.appDisplayName = '';
        this.isRefreshing = false;
        this.tncModalFlag = false;
    }
    HomePage.prototype.ngOnInit = function () {
        var _this = this;
        this.nearByOffersData = [];
        this.nearByParnersData = [];
        this.recomOffersData = [];
        this.events.subscribe(this.appConstants.EVENT_APP_LANGUAGE_CHANGED, function () {
            _this.updateTargetForNearbyOffers();
            _this.updateNearbyPartnerLocations();
            _this.updateTargetForRecommendedOffers();
        });
        this.events.subscribe(this.appConstants.EVENT_NEARBY_OFFERS_CHANGED, function () {
            _this.offersByLocation = _this.offerUtils.getNearbyOfferContext();
            _this.updateTargetForNearbyOffers();
        });
        this.events.subscribe(this.appConstants.EVENT_NEARBY_PARTNER_LOCATIONS_CHANGED, function () {
            _this.partnersByLocation = _this.partnerUtils.getNearbyPartnerLocationContext();
            _this.updateNearbyPartnerLocations();
        });
        this.events.subscribe(this.appConstants.EVENT_RECOMMENDED_OFFERS_CHANGED, function () {
            _this.recommendedOffers = _this.offerUtils.getRecommendedOfferContext();
            _this.updateTargetForRecommendedOffers();
        });
        this.events.subscribe(this.appConstants.EVENT_FEATURED_PARTNERS_CHANGED, function () {
            _this.partnersData = _this.partnerUtils.getFeaturedPartnerContext();
        });
        this.events.subscribe(this.appConstants.EVENT_LOGIN_STATUS_CHANGED, function () {
            if (_this.sessionUtils.isUserLoggedIn()) {
                _this.memberInfo = _this.sessionUtils.getMemberInfo();
            }
            else {
                _this.memberInfo = null;
            }
            _this.offerUtils.fetchOffersNearBy(null, null);
            _this.partnerUtils.fetchPartnerLocationsNearBy(null, null);
            _this.offerUtils.fetchRecommendedOffers(null, null);
            _this.partnerUtils.fetchFeaturedPartners(null, null);
        });
        this.events.subscribe(this.appConstants.EVENT_USER_PROFILE_CHANGED, function () {
            _this.memberInfo = _this.sessionUtils.getMemberInfo();
            //this.getTncConsentDate(this.memberInfo.activeCardNo);
        });
        this.events.subscribe(this.appConstants.EVENT_USER_LOCATION_CHANGED, function (data, error) {
            if (data) {
                if (_this.shouldUseCurrentLocation) {
                    _this.fetchAddressForLocation(data.coords.latitude, data.coords.longitude);
                }
            }
            else if (error) {
                if (_this.shouldUseCurrentLocation) {
                    var defaultLocation = _this.configUtils.getUserLocationCoordinate();
                    _this.fetchAddressForLocation(defaultLocation.latitude, defaultLocation.longitude);
                }
            }
        });
        this.platform.ready().then(function () {
            if (_this.sessionUtils.isUserLoggedIn()) {
                _this.googleAnalyticsUtils.trackPage(_this.appConstants.USER_HOME_SCREEN);
                _this.memberInfo = _this.sessionUtils.getMemberInfo();
            }
            else {
                _this.googleAnalyticsUtils.trackPage(_this.appConstants.GUEST_HOME_SCREEN);
                _this.memberInfo = null;
            }
            _this.offersByLocation = _this.offerUtils.getNearbyOfferContext();
            _this.updateTargetForNearbyOffers();
            _this.partnersByLocation = _this.partnerUtils.getNearbyPartnerLocationContext();
            _this.updateNearbyPartnerLocations();
            _this.recommendedOffers = _this.offerUtils.getRecommendedOfferContext();
            _this.updateTargetForRecommendedOffers();
            if (!_this.recommendedOffers || (_this.recommendedOffers.length == 0)) {
                _this.offerUtils.fetchRecommendedOffers(null, null);
            }
            _this.partnersData = _this.partnerUtils.getFeaturedPartnerContext();
            if (!_this.partnersData || (_this.partnersData.length == 0)) {
                _this.partnerUtils.fetchFeaturedPartners(null, null);
            }
            var geocodes = _this.userAddressUtils.getUserAddressContext();
            if (geocodes && (geocodes.length > 0)) {
                _this.selectedLocationObj = geocodes[0];
                if (!_this.selectedLocationObj || !_this.selectedLocationObj.formatted_address) {
                    _this.shouldUseCurrentLocation = true;
                }
                else {
                    _this.shouldUseCurrentLocation = false;
                }
                if (!_this.offersByLocation || (_this.offersByLocation.length == 0)) {
                    _this.offerUtils.fetchOffersNearBy(null, null);
                }
                if (!_this.partnersByLocation || (_this.partnersByLocation.length == 0)) {
                    _this.partnerUtils.fetchPartnerLocationsNearBy(null, null);
                }
            }
            else {
                _this.getCurrentLocation();
            }
            setTimeout(function () {
                _this.appDisplayName = _this.clientUtils.getAppDisplayName();
                _this.shouldShowMileCalculator = _this.clientUtils.shouldShowMilesCalculator();
            }, 1000);
        });
    };
    HomePage.prototype.updateTargetForNearbyOffers = function () {
        var nearByOffers = [];
        for (var count = 0; count < this.offersByLocation.length; count++) {
            var sliderObj = new __WEBPACK_IMPORTED_MODULE_2__dto_slider_dto__["a" /* SliderData */]();
            sliderObj.name = this.offersByLocation[count].partnerName;
            sliderObj.title = this.offersByLocation[count].offerName;
            sliderObj.offerPoints = this.offersByLocation[count].offerPoints;
            sliderObj.img = this.offersByLocation[count].offerBannerPath;
            sliderObj.logo = this.offersByLocation[count].partnerLogoPath;
            sliderObj.location = this.offersByLocation[count].locationName;
            sliderObj.partnerCode = this.offersByLocation[count].partnerCode;
            sliderObj.description = this.offersByLocation[count].description;
            sliderObj.offerId = this.offersByLocation[count].offerId;
            sliderObj.earnBurn = this.offersByLocation[count].earnBurnFlag;
            sliderObj.isFavourite = (this.offersByLocation[count].isFavorite == 'Y');
            sliderObj.isTarget = (this.offersByLocation[count].isTarget == 'Y');
            sliderObj.special = this.offersByLocation[count].special;
            sliderObj.terms = this.offersByLocation[count].terms;
            sliderObj.termsType = this.offersByLocation[count].termsType;
            sliderObj.pageTitle = this.appConstants.HEADING_NEAR_ME_OFFERS;
            sliderObj.isSlidActive = false;
            if (this.memberInfo && sliderObj.isTarget && (this.offersByLocation[count].offerPoints > 0)) {
                var percentValue = Math.round((this.memberInfo.availableBalanceMiles /
                    this.offersByLocation[count].offerPoints) * 100);
                if (percentValue > 100) {
                    percentValue = 100;
                }
                sliderObj.myTarget = percentValue;
                sliderObj.targetId = this.offersByLocation[count].targetId;
            }
            else {
                sliderObj.myTarget = null;
            }
            nearByOffers.push(sliderObj);
        }
        this.nearByOffersData = nearByOffers;
    };
    HomePage.prototype.updateNearbyPartnerLocations = function () {
        var nearByPartners = [];
        for (var count = 0; count < this.partnersByLocation.length; count++) {
            var sliderObj = new __WEBPACK_IMPORTED_MODULE_2__dto_slider_dto__["a" /* SliderData */]();
            sliderObj.name = this.partnersByLocation[count].partnerName;
            sliderObj.title = this.partnersByLocation[count].partnerName;
            sliderObj.img = this.partnersByLocation[count].imagePath;
            sliderObj.logo = this.partnersByLocation[count].partnerLogoPath;
            sliderObj.addressId = this.partnersByLocation[count].addressId;
            sliderObj.storeName = this.partnersByLocation[count].storeName;
            sliderObj.partnerCode = this.partnersByLocation[count].partnerCode;
            sliderObj.description = this.partnersByLocation[count].addressDescription;
            sliderObj.distance = Number(this.partnersByLocation[count].distance.toFixed(2));
            sliderObj.latitude = this.partnersByLocation[count].latitude;
            sliderObj.longitude = this.partnersByLocation[count].longitude;
            sliderObj.terms = this.partnersByLocation[count].terms;
            sliderObj.termsType = this.partnersByLocation[count].termsType;
            sliderObj.isFavourite = (this.partnersByLocation[count].isFavorite == 'Y');
            sliderObj.lastCheckinTime = this.partnersByLocation[count].lastCheckinTime;
            sliderObj.pageTitle = this.appConstants.HEADING_NEAR_ME_STORES;
            sliderObj.targetId = null;
            sliderObj.offerId = null;
            sliderObj.offers = this.translate.instant('OFFERS');
            sliderObj.distanceDenom = this.translate.instant('KM') + ' ' + this.translate.instant('APPROX');
            if (this.partnersByLocation[count].numberOfOffers != null)
                sliderObj.offersCount = this.partnersByLocation[count].numberOfOffers;
            else
                sliderObj.offersCount = 0;
            nearByPartners.push(sliderObj);
        }
        this.nearByParnersData = nearByPartners;
    };
    HomePage.prototype.updateTargetForRecommendedOffers = function () {
        var recommendedOffers = [];
        for (var count = 0; count < this.recommendedOffers.length; count++) {
            var sliderObj = new __WEBPACK_IMPORTED_MODULE_2__dto_slider_dto__["a" /* SliderData */]();
            sliderObj.name = this.recommendedOffers[count].partnerName;
            sliderObj.title = this.recommendedOffers[count].offerName;
            sliderObj.offerPoints = this.recommendedOffers[count].offerPoints;
            sliderObj.img = this.recommendedOffers[count].offerBannerPath;
            sliderObj.logo = this.recommendedOffers[count].partnerLogoPath;
            sliderObj.partnerCode = this.recommendedOffers[count].partnerCode;
            sliderObj.description = this.recommendedOffers[count].description;
            sliderObj.offerId = this.recommendedOffers[count].offerId;
            sliderObj.earnBurn = this.recommendedOffers[count].earnBurnFlag;
            sliderObj.isFavourite = (this.recommendedOffers[count].isFavorite == 'Y');
            sliderObj.isTarget = (this.recommendedOffers[count].isTarget == 'Y');
            sliderObj.special = this.recommendedOffers[count].special;
            sliderObj.terms = this.recommendedOffers[count].terms;
            sliderObj.termsType = this.recommendedOffers[count].termsType;
            sliderObj.pageTitle = this.appConstants.HEADING_RECOMMENDED_OFFERS;
            sliderObj.isSlidActive = false;
            var loationCount = this.recommendedOffers[count].partnerLoationCount;
            if (loationCount && (loationCount != '0')) {
                sliderObj.location = (loationCount == 'ALL') ? this.translate.instant('ALL_LOCATIONS')
                    : loationCount + " " + this.translate.instant('LOCATIONS');
            }
            else {
                sliderObj.location = '';
            }
            if (this.memberInfo && sliderObj.isTarget && (this.recommendedOffers[count].offerPoints > 0)) {
                var percentValue = Math.round((this.memberInfo.availableBalanceMiles /
                    this.recommendedOffers[count].offerPoints) * 100);
                if (percentValue > 100) {
                    percentValue = 100;
                }
                sliderObj.myTarget = percentValue;
                sliderObj.targetId = this.recommendedOffers[count].targetId;
            }
            else {
                sliderObj.myTarget = null;
            }
            recommendedOffers.push(sliderObj);
        }
        this.recomOffersData = recommendedOffers;
    };
    HomePage.prototype.fetchAddressForLocation = function (latitude, longitude) {
        var _this = this;
        this.userAddressUtils.fetchAddressForLocation(latitude, longitude, function (result) {
            _this.ngZone.run(function () {
                _this.selectedLocationObj = result;
                if (!_this.selectedLocationObj || !_this.selectedLocationObj.formatted_address) {
                    _this.shouldUseCurrentLocation = true;
                }
                else {
                    _this.shouldUseCurrentLocation = false;
                }
                _this.offerUtils.fetchOffersNearBy(null, null);
                _this.partnerUtils.fetchPartnerLocationsNearBy(null, null);
            });
        }, function (error) {
        });
    };
    HomePage.prototype.findMyCurrentLocation = function () {
        if (this.sessionUtils.isUserLoggedIn()) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.FETCH_CURRENT_GEO_LOCATION_EVENT);
        }
        else {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.FETCH_CURRENT_GEO_LOCATION_EVENT);
        }
        this.shouldUseCurrentLocation = true;
        this.userLocationFinderStatus = false;
        this.getCurrentLocation();
    };
    HomePage.prototype.doLocationSearch = function () {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.GEO_LOCATION_SEARCH_EVENT);
        }
        else {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.GEO_LOCATION_SEARCH_EVENT);
        }
        if (this.networkService.isOnline()) {
            var body_1 = document.getElementsByTagName('body')[0];
            var profileModal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_13__location_location__["a" /* LocationPage */], { data: this.selectedLocationObj });
            profileModal.onDidDismiss(function (data) {
                _this.render.setElementClass(body_1, 'fullScreenVirtualCard', false);
                if (data) {
                    var shouldChange = true;
                    if (_this.selectedLocationObj &&
                        (_this.selectedLocationObj.formatted_address == data.formatted_address)) {
                        shouldChange = false;
                    }
                    if (shouldChange) {
                        _this.userAddressUtils.storeGeocodeInfo(data);
                        _this.selectedLocationObj = data;
                        if (!_this.selectedLocationObj || !_this.selectedLocationObj.formatted_address) {
                            _this.shouldUseCurrentLocation = true;
                        }
                        else {
                            _this.shouldUseCurrentLocation = false;
                        }
                        _this.offerUtils.fetchOffersNearBy(null, null);
                        _this.partnerUtils.fetchPartnerLocationsNearBy(null, null);
                    }
                }
            });
            this.render.setElementClass(body_1, 'fullScreenVirtualCard', true);
            profileModal.present();
        }
    };
    HomePage.prototype.getCurrentLocation = function () {
        var _this = this;
        this.geolocation.getCurrentLocation(null, function (data) {
            if (_this.shouldUseCurrentLocation) {
                _this.fetchAddressForLocation(data.coords.latitude, data.coords.longitude);
                setTimeout(function () {
                    _this.userLocationFinderStatus = true;
                }, 1000);
            }
        }, function (error) {
            setTimeout(function () {
                _this.userLocationFinderStatus = true;
            }, 1000);
            if (_this.shouldUseCurrentLocation) {
                var defaultLocation = _this.configUtils.getUserLocationCoordinate();
                _this.fetchAddressForLocation(defaultLocation.latitude, defaultLocation.longitude);
            }
        });
    };
    HomePage.prototype.refreshButtonTapped = function () {
        var _this = this;
        if (this.isRefreshing != true) {
            this.isRefreshing = true;
            this.content.scrollToTop(0);
            var pageCode = (this.sessionUtils.isUserLoggedIn() == true) ?
                this.appConstants.USER_HOME_SCREEN :
                this.appConstants.GUEST_HOME_SCREEN;
            this.syncDataUtils.processPageCode(pageCode)
                .then(function (result) {
                _this.isRefreshing = false;
            });
        }
    };
    // getTncConsentDate(activeCardNo) {
    //     let consentConfig = this.configUtils.getTncConsentObj();
    //     let reqObj = {
    //         "activeCardNumber": activeCardNo,
    //         "consentCode": consentConfig.tncCode
    //     }
    //     this.userUtils.getConsentDate(reqObj,
    //         (result: any) => {
    //             if (consentConfig.tncFlag) {
    //                 if (result.consentDate) {
    //                     if ((new Date(consentConfig.lastTncChanged)) >= (new Date(result.consentDate))) {
    //                         let modal = this.modalCtrl.create(TncPage, {}, { enableBackdropDismiss: false });
    //                         modal.present();
    //                     }
    //                 } else {
    //                     let modal = this.modalCtrl.create(TncPage, {}, { enableBackdropDismiss: false });
    //                     modal.present();
    //                 }
    //             }
    //         }, (error: ServiceErrorInfo) => {
    //             let modal = this.modalCtrl.create(TncPage, {}, { enableBackdropDismiss: false });
    //             modal.present();
    //         });
    // }
    HomePage.prototype.openMilesCalculator = function () {
        if (this.networkService.isOnline()) {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_16__pages_mcalculator_mcalculator__["a" /* MilesCalculatorPage */]);
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    return HomePage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */])
], HomePage.prototype, "content", void 0);
HomePage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-home',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\home\home.html"*/'<ion-header class="header-dark" no-border>\n\n    <ion-navbar>\n        <button ion-button menuToggle>\n            <ion-icon name="menu"></ion-icon>\n        </button>\n        <ion-title>{{appDisplayName}}</ion-title>\n        <ion-buttons end>\n            <button ion-button class="icon-white" (click)="refreshButtonTapped()">\n                <span class="spin-animation">\n                    <ion-icon name="md-sync" [ngClass]="{\'spin-elem\': isRefreshing}"></ion-icon>\n                </span>\n            </button>\n        </ion-buttons>\n    </ion-navbar>\n</ion-header>\n\n\n<ion-content no-bounce>\n    <div class="header-container" no-bounce>\n        <!--header card -->\n        <login-component *ngIf="!memberInfo"></login-component>\n        <loggedin-component *ngIf="memberInfo" [data]="memberInfo">\n        </loggedin-component>\n        <!--header card end here-->\n    </div>\n\n\n    <!--<ion-title>{{ \'HOME.TITLE\' |  translate:param }}</ion-title>-->\n    <!--Content Area start-->\n    <div class="contain-area " no-bounce>\n        <div class="location-finder">\n            <div class="location-finder-input" (click)="doLocationSearch()" *ngIf="userLocationFinderStatus">\n                <div *ngIf="selectedLocationObj && selectedLocationObj.formatted_address">\n                    {{selectedLocationObj.formatted_address}}\n                </div>\n                <div *ngIf="!selectedLocationObj || !selectedLocationObj.formatted_address">\n                    {{ \'PLEASE_SELECT_YOUR_LOCATION\' | translate }}\n                </div>\n            </div>\n\n            <div class="location-finder-input location-finder-dot" *ngIf="!userLocationFinderStatus">\n                <ion-spinner name="dots"></ion-spinner>\n            </div>\n\n            <div class="location-finder-button">\n                <button (click)="findMyCurrentLocation()" *ngIf="userLocationFinderStatus">\n                    <ion-icon name="navigate"></ion-icon>\n                </button>\n\n                <div class="spinner-holder" *ngIf="!userLocationFinderStatus">\n                    <ion-spinner></ion-spinner>\n                </div>\n\n            </div>\n\n\n        </div>\n\n\n        <h2 class="title" *ngIf="nearByOffersData && nearByOffersData.length > 0">\n            {{ \'NEAR_ME_OFFERS\' | translate }}\n        </h2>\n        <component-swiper *ngIf="nearByOffersData && nearByOffersData.length > 0"\n                          [data]="nearByOffersData"\n                          [showTemplate]="1"\n        >\n        </component-swiper>\n\n\n        <h2 class="title"\n            *ngIf="nearByParnersData && nearByParnersData.length > 0">\n            {{ \'NEAR_ME_STORES\' | translate }}\n        </h2>\n        <component-swiper *ngIf="nearByParnersData && nearByParnersData.length > 0"\n                          [data]="nearByParnersData"\n                          [showTemplate]="3">\n        </component-swiper>\n\n\n        <h2 class="title"\n            *ngIf="recomOffersData && recomOffersData.length > 0">\n            {{ \'RECOMMENDED_OFFERS\' | translate }}\n        </h2>\n        <component-swiper *ngIf="recomOffersData && recomOffersData.length > 0"\n                          [data]="recomOffersData"\n                          [showTemplate]="1">\n        </component-swiper>\n\n\n        <h2 class="title"\n            *ngIf="partnersData && partnersData.length > 0">\n            {{ \'FEATURED_PARTNERS\' | translate }}\n        </h2>\n        <div class="card-holder"\n             *ngIf="partnersData && partnersData.length > 0">\n            <span *ngFor="let i of partnersData">\n                <partners-card-component [data]="i"></partners-card-component>\n            </span>\n        </div>\n\n    </div>\n    <!--Content Area End-->\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\home\home.html"*/,
        providers: []
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_offer_utils__["a" /* OfferUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_11__utils_commons_user_address_utils__["a" /* UserAddressUtils */],
        __WEBPACK_IMPORTED_MODULE_3__services_commons_geolocation_service__["b" /* GeolocationService */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["T" /* NgZone */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* Platform */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_14_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_12__utils_commons_sync_data_utils__["a" /* SyncDataUtils */],
        __WEBPACK_IMPORTED_MODULE_10__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_15__services_commons_network_service__["a" /* NetworkService */],
        __WEBPACK_IMPORTED_MODULE_17__utils_commons_user_utils__["a" /* UserUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */]])
], HomePage);

//# sourceMappingURL=home.js.map

/***/ }),

/***/ 651:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocationPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_user_address_utils__ = __webpack_require__(97);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_completer__ = __webpack_require__(291);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_google_analytics_utils__ = __webpack_require__(18);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var LocationPage = (function () {
    function LocationPage(navCtrl, navParams, viewCtrl, render, translate, completerService, userAddressUtils, googleAnalyticsUtils, appConstants) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.render = render;
        this.translate = translate;
        this.completerService = completerService;
        this.userAddressUtils = userAddressUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.toggle = true;
        this.locations = [];
        this.searchStr = '';
        this.textNoResults = '';
        this.textSearching = '';
        this.textPlaceholder = '';
        this.dataService = null;
    }
    LocationPage.prototype.ngOnInit = function () {
        this.body = document.getElementsByTagName('body')[0];
        this.render.setElementClass(this.body, 'loginSmallModal', false);
        this.googleAnalyticsUtils.trackPage(this.appConstants.GEO_LOCATION_SEARCH_SCREEN);
        this.textNoResults = this.translate.instant('NO_LOCATION_FOUND');
        this.textSearching = this.translate.instant('SEARCHING');
        this.textPlaceholder = this.translate.instant('SEARCH_HERE');
        this.dataService = this.completerService.remote(null, null, "formatted_address");
        this.dataService.urlFormater(function (term) {
            return "https://maps.googleapis.com/maps/api/geocode/json?address=" + term;
        });
        this.dataService.dataField("results");
        var locations = this.userAddressUtils.getUserAddressContext();
        var tempArray = [];
        for (var index = 1; index < locations.length; index++) {
            tempArray.push(locations[index]);
        }
        this.locations = tempArray;
    };
    LocationPage.prototype.ionViewDidLoad = function () {
        this.searchStr = '';
        // if (this.navParams.data && this.navParams.data.data && this.navParams.data.data.formatted_address) {
        //   this.searchStr = this.navParams.data.data.formatted_address
        // }
    };
    LocationPage.prototype.dismiss = function () {
        this.toggle = !this.toggle;
        this.viewCtrl.dismiss(null);
    };
    LocationPage.prototype.selectedLocation = function (item) {
        this.toggle = !this.toggle;
        this.viewCtrl.dismiss(item);
    };
    LocationPage.prototype.itemSelected = function (selectedItem) {
        if (selectedItem && selectedItem.originalObject) {
            this.selectedLocation(selectedItem.originalObject);
        }
    };
    return LocationPage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Object)
], LocationPage.prototype, "data", void 0);
LocationPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-location',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\home\location\location.html"*/'\n\n<ion-header class="header-dark" [@fadeInOut]="toggle"  no-border>\n\n    <ion-navbar >\n        <ion-buttons start class="icon-color-white">\n            <button ion-button icon-only (click)="dismiss()">\n                <ion-icon name="arrow-back"></ion-icon>\n            </button>\n        </ion-buttons>\n\n        <ion-title>{{\'SEARCH_HERE\' | translate }}</ion-title>\n    </ion-navbar>\n</ion-header>\n\n\n\n\n\n\n<ion-content padding [@fadeInOut]="toggle">\n    <div class="location-search">\n        <form action=".">\n        <div class="location-finder-input">\n            <ng2-completer type="search"\n                           [placeholder]="textPlaceholder"\n                           [textNoResults]="textNoResults"\n                           [textSearching]="textSearching"\n                           [(ngModel)]="searchStr"\n                           [datasource]="dataService"\n                           [minSearchLength]="3"\n                           [pause]="1000"\n                           [ngModelOptions]="{standalone: true}"\n                           (selected)="itemSelected($event)">\n            </ng2-completer>\n        </div>\n        </form>\n    </div>\n    <br/>\n    <ion-list>\n        <ion-item *ngFor="let item of locations" (click)="selectedLocation(item)">\n            {{item.formatted_address}}\n        </ion-item>\n    </ion-list>\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\home\location\location.html"*/,
        animations: [
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_38" /* trigger */])('fadeInOut', [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('void => *', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0, transform: 'scale(.6)' }),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(300, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 1, transform: 'scale(1)' })) // the new state of the transition(after transiton it removes)
                ]),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('* => *', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(300, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0, transform: 'scale(0)' })) // the new state of the transition(after transiton it removes)
                ])
            ])
        ]
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_4_ng2_completer__["a" /* CompleterService */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_user_address_utils__["a" /* UserAddressUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__["a" /* AppConstants */]])
], LocationPage);

//# sourceMappingURL=location.js.map

/***/ }),

/***/ 652:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MilesCalculatorPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_native__ = __webpack_require__(98);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_ng2_completer__ = __webpack_require__(291);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_widgets_filters_mcalculator_filters_mcalculator__ = __webpack_require__(653);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__dto_account_dto__ = __webpack_require__(52);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var MilesCalculatorPage = (function () {
    function MilesCalculatorPage(navCtrl, modalCtrl, clientUtils, partnerUtils, mcfLoadService, translate, completerService, networkService) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.clientUtils = clientUtils;
        this.partnerUtils = partnerUtils;
        this.mcfLoadService = mcfLoadService;
        this.translate = translate;
        this.completerService = completerService;
        this.networkService = networkService;
        this.TRIP_TYPE_RETURN = 'return';
        this.TRIP_TYPE_ONEWAY = 'oneway';
        this.MILES_TYPE_EARN = 'earn';
        this.shouldShowResults = false;
        this.selectedTripType = '';
        this.textNoResults = '';
        this.textSearching = '';
        this.dataServiceFrom = null;
        this.dataServiceTo = null;
        this.minDate = '';
        this.maxDate = '';
        this.cancelText = '';
        this.selectText = '';
        this.months = [];
        this.startDateText = null;
        this.endDateText = null;
        this.fromText = '';
        this.toText = '';
        this.industryTypes = [];
        this.selectIndustryTypeCode = null;
        this.classList = [];
        this.selectedClassObj = null;
        this.selectedMilesType = null;
        this.promoText = '';
    }
    MilesCalculatorPage.prototype.ngOnInit = function () {
        this.selectedTripType = this.TRIP_TYPE_ONEWAY;
        this.textNoResults = this.translate.instant('NO_LOCATION_FOUND');
        this.textSearching = this.translate.instant('SEARCHING');
        this.dataServiceFrom = this.completerService.remote(null, null, "formatted_address");
        this.dataServiceFrom.urlFormater(function (term) {
            return "https://maps.googleapis.com/maps/api/geocode/json?address=" + term;
        });
        this.dataServiceFrom.dataField("results");
        this.dataServiceTo = this.completerService.remote(null, null, "formatted_address");
        this.dataServiceTo.urlFormater(function (term) {
            return "https://maps.googleapis.com/maps/api/geocode/json?address=" + term;
        });
        this.dataServiceTo.dataField("results");
        var nowDate = new Date();
        this.minDate = this.clientUtils.getFormattedDate('yyyy-MM-dd', nowDate.toDateString());
        nowDate.setDate(nowDate.getDate() + (365.35 * 5));
        this.maxDate = this.clientUtils.getFormattedDate('yyyy-MM-dd', nowDate.toDateString());
        this.months = this.clientUtils.fullMonths();
        this.cancelText = this.translate.instant('CANCEL');
        this.selectText = this.translate.instant('SELECT');
        this.startDateText = this.minDate;
        this.endDateText = this.minDate;
        this.classList = ['Economy', 'Business', 'First'];
        this.selectedClassObj = this.classList[0];
        this.selectedMilesType = this.MILES_TYPE_EARN;
        // this.getAllIndustryTypes();
    };
    MilesCalculatorPage.prototype.ngAfterViewInit = function () {
    };
    MilesCalculatorPage.prototype.getAllIndustryTypes = function () {
        var _this = this;
        this.partnerUtils.fetchAllIndustryTypes(function (result) {
            var industryTypes = result.data;
            if (industryTypes && industryTypes.length > 0) {
                _this.industryTypes = industryTypes;
                _this.selectIndustryType(_this.industryTypes[0]);
            }
        }, function (error) {
            console.log('Industry Types Error:\n' + JSON.stringify(error));
            if (_this.industryTypes.length == 0) {
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showToast(msg);
            }
        });
    };
    MilesCalculatorPage.prototype.selectIndustryType = function (industryType) {
        __WEBPACK_IMPORTED_MODULE_3_ionic_native__["b" /* Keyboard */].close();
        // this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_PARTNER_SCREEN,this.appConstants.INDUSTRY_TYPE_FILTER_EVENT);
        if (industryType && (industryType.code !== this.selectIndustryTypeCode)) {
            this.selectIndustryTypeCode = industryType.code;
        }
    };
    MilesCalculatorPage.prototype.itemSelected = function (selectedItem) {
        if (selectedItem && selectedItem.originalObject) {
            console.log('selectedItem:\n' + selectedItem.originalObject);
        }
    };
    MilesCalculatorPage.prototype.validateFields = function () {
        var errMsg = null;
        if (!this.fromText || (this.fromText.trim().length == 0)) {
            errMsg = 'Please enter valid From location';
        }
        else if (!this.toText || (this.toText.trim().length == 0)) {
            errMsg = 'Please enter valid To location';
        }
        return errMsg;
    };
    MilesCalculatorPage.prototype.bottomButtonTapped = function () {
        var errMsg = this.validateFields();
        if (errMsg) {
            this.clientUtils.showAlert(errMsg);
        }
        else {
            if (this.networkService.isOnline()) {
                this.mcfLoadService.show('');
                this.fetchMilesCalculator();
            }
            else {
                this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
            }
        }
    };
    MilesCalculatorPage.prototype.modifyTapped = function () {
        this.shouldShowResults = false;
    };
    MilesCalculatorPage.prototype.doFilter = function (fab) {
        var _this = this;
        if (fab) {
            fab.close();
        }
        var opts = {
            showBackdrop: true,
            enableBackdropDismiss: true
        };
        var filters = new __WEBPACK_IMPORTED_MODULE_11__dto_account_dto__["g" /* MilesCalculatorFilters */]();
        filters.milesType = this.selectedMilesType;
        filters.promotionCode = this.promoText;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_10__pages_widgets_filters_mcalculator_filters_mcalculator__["a" /* FilterMilesCalculator */], { data: filters }, opts);
        modal.onDidDismiss(function (data) {
            if (data) {
                _this.selectedMilesType = data.milesType;
                _this.promoText = data.promotionCode;
            }
        });
        modal.present();
    };
    MilesCalculatorPage.prototype.fetchMilesCalculator = function () {
        var _this = this;
        setTimeout(function () {
            _this.mcfLoadService.hide();
            _this.shouldShowResults = true;
        }, 2000);
    };
    return MilesCalculatorPage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["d" /* Content */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["d" /* Content */])
], MilesCalculatorPage.prototype, "content", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('navBar'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["p" /* Navbar */])
], MilesCalculatorPage.prototype, "navBar", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])('form1'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1__angular_forms__["e" /* NgForm */])
], MilesCalculatorPage.prototype, "form1", void 0);
MilesCalculatorPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'miles-calculator-page',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mcalculator\mcalculator.html"*/'<ion-header class="header-dark offer-popup-content">\n    <ion-navbar #navBar>\n\n        <ion-title>\n            <span>Miles Calculator</span>\n        </ion-title>\n\n    </ion-navbar>\n</ion-header>\n<ion-content padding>\n    <div *ngIf="shouldShowResults != true">\n\n        <!--<ion-slides class=" swiper-template-1 "  [slidesPerView]="3" [spaceBetween]="10">-->\n            <!--<div class="swiper-wrapper">-->\n                <!--<ion-slide class="swiper-slide" *ngFor="let i of industryTypes">-->\n\n                    <!--<div class="slider-holder "-->\n\n                         <!--[ngClass]="{\'industry-all\': i.code === INDUSTRY_TYPE_DEFAULT_CODE}"-->\n                         <!--[style.background-image]="\'url(\' + i.logoPath + \')\'"-->\n                         <!--(click)="selectIndustryType(i)">-->\n\n                        <!--<svg class="checkmark"-->\n                             <!--xmlns="http://www.w3.org/2000/svg"-->\n                             <!--*ngIf="i.code === selectIndustryTypeCode"-->\n                             <!--viewBox="0 0 52 52">-->\n                            <!--<circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>-->\n                            <!--<path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>-->\n                        <!--</svg>-->\n\n                        <!--<div class="slider-content">-->\n                            <!--<span>{{i.description}}</span>-->\n                        <!--</div>-->\n                    <!--</div>-->\n\n                <!--</ion-slide>-->\n            <!--</div>-->\n        <!--</ion-slides>-->\n\n        <div class="user-form">\n            <form #form1="ngForm" (ngSubmit)="bottomButtonTapped()">\n                <ion-list>\n                    <ion-segment name="tripType"\n                                 id="tripType"\n                                 [(ngModel)]="selectedTripType"\n                                 required>\n                        <ion-segment-button value="{{TRIP_TYPE_ONEWAY}}">\n                            One Way\n                        </ion-segment-button>\n                        <ion-segment-button value="{{TRIP_TYPE_RETURN}}">\n                            Return\n                        </ion-segment-button>\n                    </ion-segment>\n                    <div class="location-finder-input">\n                        <ng2-completer type="search"\n                                       placeholder="{{\'From\' | translate}}"\n                                       [textNoResults]="textNoResults"\n                                       [textSearching]="textSearching"\n                                       [(ngModel)]="fromText"\n                                       [datasource]="dataServiceFrom"\n                                       [minSearchLength]="3"\n                                       [pause]="1000"\n                                       [ngModelOptions]="{standalone: true}"\n                                       (selected)="itemSelected($event)">\n                        </ng2-completer>\n                    </div>\n                    <div class="location-finder-input">\n                        <ng2-completer type="search"\n                                       placeholder="{{\'To\' | translate}}"\n                                       [textNoResults]="textNoResults"\n                                       [textSearching]="textSearching"\n                                       [(ngModel)]="toText"\n                                       [datasource]="dataServiceTo"\n                                       [minSearchLength]="3"\n                                       [pause]="1000"\n                                       [ngModelOptions]="{standalone: true}"\n                                       (selected)="itemSelected($event)">\n                        </ng2-completer>\n                    </div>\n                    <ion-item>\n                        <ion-label class="required-field">Start Date</ion-label>\n                        <ion-datetime displayFormat="DD MMMM YYYY"\n                                      [min]="minDate"\n                                      [max]="maxDate"\n                                      [(ngModel)]="startDateText"\n                                      [cancelText]="cancelText"\n                                      [doneText]="selectText"\n                                      [monthNames]="months"\n                                      name="startDateText"\n                                      id="startDateText"\n                                      required>\n                        </ion-datetime>\n                    </ion-item>\n                    <ion-item *ngIf="selectedTripType == TRIP_TYPE_RETURN">\n                        <ion-label class="required-field">End Date</ion-label>\n                        <ion-datetime displayFormat="DD MMMM YYYY"\n                                      [min]="minDate"\n                                      [max]="maxDate"\n                                      [(ngModel)]="endDateText"\n                                      [cancelText]="cancelText"\n                                      [doneText]="selectText"\n                                      [monthNames]="months"\n                                      name="endDateText"\n                                      id="endDateText"\n                                      required>\n                        </ion-datetime>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label>Class</ion-label>\n                        <ion-select cancelText="{{\'CANCEL\' | translate}}"\n                                    okText="{{\'SELECT\' | translate}}"\n                                    [(ngModel)]="selectedClassObj"\n                                    name="classText"\n                                    id="classText"\n                                    required>\n                            <ion-option *ngFor="let item of classList"\n                                        [value]="item"\n                                        [selected]="selectedClassObj && (item == selectedClassObj)">\n                                {{item}}\n                            </ion-option>\n                        </ion-select>\n                    </ion-item>\n                </ion-list>\n                <div class="row">\n                    <div class="col-xs-12 button-container">\n                        <button ion-button full class="submit-btn" type="submit">\n                            <span>Calculate</span>\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div *ngIf="shouldShowResults == true">\n        <table>\n            <tr>\n                <td>YOU WOULD EARN</td>\n                <td>MILES</td>\n            </tr>\n            <tr>\n                <td>Economy Deal (T,E)</td>\n                <td>805</td>\n            </tr>\n            <tr>\n                <td>Economy Saver (G,U,V)</td>\n                <td>1609</td>\n            </tr>\n            <tr>\n                <td>Economy Classic (L,Q,M,K)</td>\n                <td>2414</td>\n            </tr>\n            <tr>\n                <td>Economy Flex (H,B,Y)</td>\n                <td>3218</td>\n            </tr>\n        </table>\n        <div class="row">\n            <div class="col-xs-12 button-container">\n                <button ion-button full class="submit-btn" (click)="modifyTapped()">\n                    <span>{{ "Want to re-calculate?" | translate }}</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <ion-fab right bottom mini #fab *ngIf="shouldShowResults != true">\n        <button ion-fab color="light" (click)="doFilter(fab)">\n            <ion-icon name="color-filter"></ion-icon>\n        </button>\n    </ion-fab>\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mcalculator\mcalculator.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_7__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_4_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_5_ng2_completer__["a" /* CompleterService */],
        __WEBPACK_IMPORTED_MODULE_8__services_commons_network_service__["a" /* NetworkService */]])
], MilesCalculatorPage);

//# sourceMappingURL=mcalculator.js.map

/***/ }),

/***/ 653:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FilterMilesCalculator; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_language_constants__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_account_dto__ = __webpack_require__(52);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var FilterMilesCalculator = (function () {
    function FilterMilesCalculator(navParams, navCtrl, viewController, languageConstants, render) {
        this.navParams = navParams;
        this.navCtrl = navCtrl;
        this.viewController = viewController;
        this.languageConstants = languageConstants;
        this.render = render;
        this.MILES_TYPE_EARN = 'earn';
        this.MILES_TYPE_BURN = 'burn';
        this.selectedMilesType = null;
        this.promoText = null;
        var filters = navParams.get('data');
        if (filters) {
            this.selectedMilesType = filters.milesType;
            this.promoText = filters.promotionCode;
        }
        if (!this.selectedMilesType) {
            this.selectedMilesType = this.MILES_TYPE_EARN;
        }
        if (!this.promoText) {
            this.promoText = '';
        }
        this.addClassToBody();
    }
    FilterMilesCalculator.prototype.addClassToBody = function () {
        this.body = document.getElementsByTagName('body')[0];
        this.render.setElementClass(this.body, 'modal-filter-miles-calculator', true);
    };
    FilterMilesCalculator.prototype.dismiss = function (obj) {
        var _this = this;
        this.viewController.dismiss(obj, null, { animate: true, keyboardClose: true });
        setTimeout(function () {
            _this.render.setElementClass(_this.body, 'modal-filter-miles-calculator', false);
        }, 500);
    };
    FilterMilesCalculator.prototype.saveFilters = function () {
        var filters = new __WEBPACK_IMPORTED_MODULE_3__dto_account_dto__["g" /* MilesCalculatorFilters */]();
        filters.milesType = this.selectedMilesType;
        filters.promotionCode = this.promoText;
        this.dismiss(filters);
    };
    return FilterMilesCalculator;
}());
FilterMilesCalculator = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\filters-mcalculator\filters-mcalculator.html"*/'<ion-content padding>\n    <h3>\n        More Options\n        <ion-icon name="close-circle" icon-right (click)="dismiss(null)"></ion-icon>\n    </h3>\n    <ion-list>\n        <ion-segment class="margin-top-2rem" name="milesType"\n                     id="milesType"\n                     [(ngModel)]="selectedMilesType"\n                     required>\n            <ion-segment-button value="{{MILES_TYPE_EARN}}">\n                Earn\n            </ion-segment-button>\n            <ion-segment-button value="{{MILES_TYPE_BURN}}">\n                Burn\n            </ion-segment-button>\n        </ion-segment>\n        <ion-item>\n            <ion-label>Promotion Code</ion-label>\n            <ion-input type="text"\n                       [(ngModel)]="promoText"\n                       name="promoText"\n                       id="promoText"\n                       spellcheck="false"\n                       autocapitalize="none"\n                       minlength="1"\n                       maxlength="20"\n                       placeholder="---------"\n                       pattern="">\n            </ion-input>\n        </ion-item>\n    </ion-list>\n    <div class="row">\n        <div class="col-xs-12 button-container">\n            <button #submitButton1 ion-button full class="submit-btn" (click)="saveFilters()">\n                <span>Done</span>\n            </button>\n        </div>\n    </div>\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\filters-mcalculator\filters-mcalculator.html"*/,
        selector: 'filters-mcalculator'
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_2__constants_language_constants__["a" /* LanguageConstants */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */]])
], FilterMilesCalculator);

//# sourceMappingURL=filters-mcalculator.js.map

/***/ }),

/***/ 654:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyWalletPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__qrcode_qrcode__ = __webpack_require__(655);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__fullscreen_fullscreen__ = __webpack_require__(656);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_wallet_utils__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__utils_commons_sync_data_utils__ = __webpack_require__(146);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var MyWalletPage = (function () {
    function MyWalletPage(clientUtils, configUtils, modalCtrl, sessionUtils, walletUtils, mcfLoadService, events, translate, googleAnalyticsUtils, appConstants, networkService, syncDataUtils) {
        this.clientUtils = clientUtils;
        this.configUtils = configUtils;
        this.modalCtrl = modalCtrl;
        this.sessionUtils = sessionUtils;
        this.walletUtils = walletUtils;
        this.mcfLoadService = mcfLoadService;
        this.events = events;
        this.translate = translate;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.networkService = networkService;
        this.syncDataUtils = syncDataUtils;
        this.isFrontVisible = false;
        this.hasVirtualCardData = false;
        this.isRefreshing = false;
        this.backgroundImageURL = '';
    }
    MyWalletPage.prototype.ngOnInit = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackPage(this.appConstants.VIRTUAL_CARD_SCREEN);
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
        });
        this.events.subscribe(this.appConstants.EVENT_WALLET_INFO_CHANGED, function () {
            _this.hasVirtualCardData = _this.walletUtils.hasVirtualCardData();
        });
        this.events.subscribe(this.appConstants.EVENT_LOGIN_STATUS_CHANGED, function () {
            if (_this.sessionUtils.isUserLoggedIn()) {
                _this.walletUtils.fetchWalletData(null, null);
                _this.walletUtils.fetchQRCodeData(null, null);
            }
            else {
                _this.hasVirtualCardData = false;
            }
        });
        this.hasVirtualCardData = this.walletUtils.hasVirtualCardData();
        if (this.sessionUtils.isUserLoggedIn()) {
            if ((this.hasVirtualCardData != true) && this.networkService.isOnline()) {
                this.mcfLoadService.show('');
                this.walletUtils.fetchWalletData(function (result) {
                    _this.mcfLoadService.hide();
                }, function (error) {
                    _this.mcfLoadService.hide();
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showToast(msg);
                });
                this.walletUtils.fetchQRCodeData(function (result) {
                    //
                }, function (error) {
                    var msg = '';
                    if (error && error.message && (error.message.trim().length > 0)) {
                        msg = error.message.trim();
                    }
                    else {
                        msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                    }
                    _this.clientUtils.showToast(msg);
                });
            }
        }
    };
    MyWalletPage.prototype.ngAfterViewInit = function () {
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
    };
    MyWalletPage.prototype.isFrontVisibleChanged = function (event) {
        this.isFrontVisible = event;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.VIRTUAL_CARD_SCREEN, this.appConstants.FLIP_EVENT);
    };
    MyWalletPage.prototype.openQR = function () {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.VIRTUAL_CARD_SCREEN, this.appConstants.QR_CODE_EVENT);
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__qrcode_qrcode__["a" /* QrCodePage */]);
        modal.present();
    };
    MyWalletPage.prototype.fullScreen = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.VIRTUAL_CARD_SCREEN, this.appConstants.FULL_SCREEN_EVENT);
        var data = {
            isFrontVisible: this.isFrontVisible
        };
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_4__fullscreen_fullscreen__["a" /* FullScreenPage */], { data: data });
        modal.onWillDismiss(function (value) {
            if (_this.isFrontVisible != value) {
                _this.isFrontVisibleChanged(value);
            }
        });
        modal.present({ animate: false });
    };
    MyWalletPage.prototype.refreshButtonTapped = function () {
        var _this = this;
        if (this.isRefreshing != true) {
            this.isRefreshing = true;
            this.syncDataUtils.processPageCode(this.appConstants.VIRTUAL_CARD_SCREEN)
                .then(function (result) {
                _this.isRefreshing = false;
            });
        }
    };
    return MyWalletPage;
}());
MyWalletPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-wallet',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mywallet\wallet.html"*/'<ion-header class="transparent-header " no-border>\n    <ion-navbar>\n        <button ion-button menuToggle>\n            <ion-icon name="menu"></ion-icon>\n        </button>\n        <ion-title>{{ \'MY_WALLET\' | translate }}</ion-title>\n        <ion-buttons end>\n            <button ion-button class="icon-white" (click)="refreshButtonTapped()">\n                <span class="spin-animation">\n                    <ion-icon name="md-sync" [ngClass]="{\'spin-elem\': isRefreshing}"></ion-icon>\n                </span>\n            </button>\n        </ion-buttons>\n    </ion-navbar>\n</ion-header>\n\n\n<ion-content #myWallet class="no-scroll app-background-image"\n             [style.background-image]="\'url(\' + backgroundImageURL +\')\'">\n\n\n    <div class="virtual-card-holder">\n        <virtual-card-component [isFrontVisible]="isFrontVisible"\n                                (changeIsFrontVisible)="isFrontVisibleChanged($event)">\n        </virtual-card-component>\n\n\n        <div class="card-button-holder" *ngIf="hasVirtualCardData == true">\n            <ul>\n                <li>\n                    <button ion-button clear class="  button-icon-transparent" icon-only\n                            (click)="isFrontVisibleChanged(!isFrontVisible)">\n                        <ion-icon name="icon-flip"></ion-icon>\n                    </button>\n                </li>\n\n                <li>\n                    <button ion-button clear class="  button-icon-transparent" icon-only (click)="openQR()">\n                        <ion-icon name="icon-barcode"></ion-icon>\n                    </button>\n                </li>\n                <li>\n                    <button ion-button clear class="  button-icon-transparent" icon-only (click)="fullScreen()">\n                        <ion-icon name="icon-arrow-4"></ion-icon>\n                    </button>\n                </li>\n            </ul>\n        </div>\n\n    </div>\n\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mywallet\wallet.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_wallet_utils__["a" /* WalletUtils */],
        __WEBPACK_IMPORTED_MODULE_9__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_11__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_12__services_commons_network_service__["a" /* NetworkService */],
        __WEBPACK_IMPORTED_MODULE_13__utils_commons_sync_data_utils__["a" /* SyncDataUtils */]])
], MyWalletPage);

//# sourceMappingURL=wallet.js.map

/***/ }),

/***/ 655:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return QrCodePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_commons_file_service__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_wallet_utils__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_client_utils__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var QrCodePage = (function () {
    function QrCodePage(navCtrl, navParams, viewController, clientUtils, ngZone, googleAnalyticsUtils, fileService, walletUtils, appConstants, translate, mcfLoadService) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewController = viewController;
        this.clientUtils = clientUtils;
        this.ngZone = ngZone;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.fileService = fileService;
        this.walletUtils = walletUtils;
        this.appConstants = appConstants;
        this.translate = translate;
        this.mcfLoadService = mcfLoadService;
        this.cardData = null;
    }
    QrCodePage.prototype.ngOnInit = function () {
        this.googleAnalyticsUtils.trackPage(this.appConstants.QR_CODE_SCREEN);
    };
    QrCodePage.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.fileService.isFileExists(this.appConstants.WALLET_QR_CODE_IMAGE, false, function () {
            _this.fileService.dataURL(_this.appConstants.WALLET_QR_CODE_IMAGE, false)
                .then(function (result) {
                if (result) {
                    _this.ngZone.run(function () {
                        _this.cardData = result;
                    });
                }
            });
        }, function (error) {
            var qrCodes = _this.walletUtils.getQRCodeContext();
            if (qrCodes && (qrCodes.length > 0)) {
                var qrcodeInfo = qrCodes[0];
                if (qrcodeInfo && qrcodeInfo.qrCodeAsByte) {
                    _this.cardData = 'data:image/jpg;base64,' + qrcodeInfo.qrCodeAsByte;
                }
            }
            if (_this.cardData == null) {
                setTimeout(function () {
                    _this.downloadQRCodeInfo();
                }, 1000);
            }
        });
    };
    QrCodePage.prototype.downloadQRCodeInfo = function () {
        var _this = this;
        this.mcfLoadService.show('');
        this.walletUtils.fetchQRCodeData(function (result) {
            _this.fileService.isFileExists(_this.appConstants.WALLET_QR_CODE_IMAGE, false, function () {
                _this.fileService.dataURL(_this.appConstants.WALLET_QR_CODE_IMAGE, false)
                    .then(function (result) {
                    if (result) {
                        _this.ngZone.run(function () {
                            _this.cardData = result;
                        });
                    }
                    _this.mcfLoadService.hide();
                });
            }, function (error) {
                var qrCodes = _this.walletUtils.getQRCodeContext();
                if (qrCodes && (qrCodes.length > 0)) {
                    var qrcodeInfo = qrCodes[0];
                    if (qrcodeInfo && qrcodeInfo.qrCodeAsByte) {
                        _this.cardData = 'data:image/jpg;base64,' + qrcodeInfo.qrCodeAsByte;
                    }
                }
                _this.mcfLoadService.hide();
            });
        }, function (error) {
            console.log('Fetch QR code data error:\n' + JSON.stringify(error));
            _this.mcfLoadService.hide();
            var msg = '';
            if (error && error.message && (error.message.trim().length > 0)) {
                msg = error.message.trim();
            }
            else {
                msg = _this.translate.instant('SOMETHING_WENT_WRONG');
            }
            _this.clientUtils.showToast(msg);
        });
    };
    QrCodePage.prototype.dismiss = function () {
        this.viewController.dismiss();
    };
    return QrCodePage;
}());
QrCodePage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mywallet\qrcode\qrcode.html"*/'<ion-header class="header-dark offer-popup-content " no-border>\n\n    <ion-navbar >\n\n        <ion-buttons start>\n            <button ion-button icon-only (click)="dismiss()">\n                <ion-icon name="close-circle"></ion-icon>\n            </button>\n        </ion-buttons>\n\n        <ion-title>{{ \'QR_CODE\' | translate }}</ion-title>\n\n    </ion-navbar>\n\n</ion-header>\n\n<ion-content class="no-scroll qr-code padding">\n\n    <img *ngIf="cardData"\n         src="{{cardData}}"\n         alt="">\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mywallet\qrcode\qrcode.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["T" /* NgZone */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_5__services_commons_file_service__["a" /* FileService */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_wallet_utils__["a" /* WalletUtils */],
        __WEBPACK_IMPORTED_MODULE_4__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_7__services_commons_service_loading__["a" /* McfLoaderService */]])
], QrCodePage);

//# sourceMappingURL=qrcode.js.map

/***/ }),

/***/ 656:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FullScreenPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants_app_constants__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FullScreenPage = (function () {
    function FullScreenPage(navCtrl, navParams, viewController, render, events, configUtils, googleAnalyticsUtils, appConstants) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewController = viewController;
        this.render = render;
        this.events = events;
        this.configUtils = configUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.backgroundImageURL = '';
        this.isFrontVisible = false;
        this.shouldDisplayCard = false;
    }
    FullScreenPage.prototype.ngOnInit = function () {
        var _this = this;
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
        });
        var dataObj = this.navParams.get('data');
        if (dataObj) {
            this.isFrontVisible = dataObj.isFrontVisible;
        }
        this.googleAnalyticsUtils.trackPage(this.appConstants.FULL_SCREEN_SCREEN);
        this.addClassToBody();
    };
    FullScreenPage.prototype.ngAfterViewInit = function () {
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
        this.shouldDisplayCard = true;
    };
    FullScreenPage.prototype.addClassToBody = function () {
        this.body = document.getElementsByTagName('body')[0];
        this.render.setElementClass(this.body, 'fullScreenVirtualCard', true);
    };
    FullScreenPage.prototype.isFrontVisibleChanged = function (event) {
        this.isFrontVisible = event;
    };
    FullScreenPage.prototype.dismiss = function () {
        var _this = this;
        this.viewController.dismiss(this.isFrontVisible, null, { animate: false });
        setTimeout(function () {
            _this.render.setElementClass(_this.body, 'fullScreenVirtualCard', false);
        }, 500);
    };
    return FullScreenPage;
}());
FullScreenPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'virtual-card-full-screen',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mywallet\fullscreen\fullscreen.html"*/'<ion-content class="no-scroll app-background-image"\n             [style.background-image]="\'url(\' + backgroundImageURL +\')\'">\n\n\n    <button  class="button-transparent button-full-screen" (click)="dismiss()" >\n        <ion-icon name="close"></ion-icon>\n    </button>\n\n    <virtual-card-component *ngIf="shouldDisplayCard"\n                            [isFrontVisible]="isFrontVisible"\n                            (changeIsFrontVisible)="isFrontVisibleChanged($event)">\n    </virtual-card-component>\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mywallet\fullscreen\fullscreen.html"*/,
        animations: [
            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_38" /* trigger */])('fadeInOut', [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('void => *', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0, transform: 'scale(.6)' }),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(300, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 1, transform: 'scale(1)' })) // the new state of the transition(after transiton it removes)
                ]),
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_37" /* transition */])('* => *', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* animate */])(300, Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_36" /* style */])({ opacity: 0, transform: 'scale(.2)' })) // the new state of the transition(after transiton it removes)
                ])
            ])
        ]
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_2__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_4__constants_app_constants__["a" /* AppConstants */]])
], FullScreenPage);

//# sourceMappingURL=fullscreen.js.map

/***/ }),

/***/ 657:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_native__ = __webpack_require__(98);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__dto_partners_dto__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dto_offers_dto__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__widgets_filters_popup_filter__ = __webpack_require__(659);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__utils_commons_client_utils__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

















var SearchPage = (function () {
    function SearchPage(navCtrl, modalCtrl, clientUtils, ngZone, events, offerUtils, render, partnerUtils, configUtils, googleAnalyticsUtils, appConstants, sessionUtils, translate, serviceConstants, alertCtrl) {
        this.navCtrl = navCtrl;
        this.modalCtrl = modalCtrl;
        this.clientUtils = clientUtils;
        this.ngZone = ngZone;
        this.events = events;
        this.offerUtils = offerUtils;
        this.render = render;
        this.partnerUtils = partnerUtils;
        this.configUtils = configUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.sessionUtils = sessionUtils;
        this.translate = translate;
        this.serviceConstants = serviceConstants;
        this.alertCtrl = alertCtrl;
        this.SEARCH_PARTNERS_TAB = 'tab01';
        this.SEARCH_OFFERS_TAB = 'tab02';
        this.SEARCH_LOCATIONS_TAB = 'tab03';
        this.SEARCH_VOUCHERS_TAB = "tab04";
        this.INDUSTRY_TYPE_DEFAULT_CODE = 'default_code';
        this.partnersIndex = 1;
        this.offersIndex = 1;
        this.locationsIndex = 1;
        this.vouchersIndex = 1;
        this.shouldLoadPartners = true;
        this.shouldLoadOffers = true;
        this.shouldLoadLocations = true;
        this.shouldLoadVouchers = true;
        this.searchedPartners = [];
        this.searchedOffers = [];
        this.searchedLocations = [];
        this.searchedVouchers = [];
        this.industryTypes = [];
        this.selectIndustryTypeCode = null;
        this.offerFilterInfo = null;
        this.activeTab = '';
        this.partnersSearchKey = '';
        this.offersSearchKey = '';
        this.locationsSearchKey = '';
        this.vouchersSearchKey = "";
        this.searchByPartnerPlaceholder = '';
        this.searchByOfferPlaceholder = '';
        this.searchByLocationPlaceholder = '';
        this.searchByVoucherPlaceholder = "";
        this.searchNoPartnerText = '';
        this.searchNoOfferText = '';
        this.searchNoLocationText = '';
        this.searchNoVoucherText = "";
        this.shouldShowCancel = false;
        this.shouldShowScrollTopButton = false;
        this.shouldShowOfferFilterButton = false;
        this.isLoadingPartners = false;
        this.isLoadingOffers = false;
        this.isLoadingLocations = false;
        this.isLoadingVouchers = false;
        this.isRefreshing = false;
    }
    SearchPage.prototype.ngOnInit = function () {
        var _this = this;
        this.events.subscribe(this.appConstants.EVENT_APP_LANGUAGE_CHANGED, function () {
            _this.searchByOfferPlaceholder = _this.translate.instant('SEARCH_BY_OFFER_NAME');
            _this.searchByLocationPlaceholder = _this.translate.instant('SEARCH_BY_PARTNER_LOCATION');
            _this.searchByVoucherPlaceholder = _this.translate.instant("SEARCH_BY_PARTNER_VOUCHER");
            if (_this.searchNoPartnerText && (_this.searchNoPartnerText.length > 0)) {
                _this.searchNoPartnerText = _this.translate.instant('SEARCH_NO_PARTNER');
            }
            if (_this.searchNoOfferText && (_this.searchNoOfferText.length > 0)) {
                _this.searchNoOfferText = _this.translate.instant('SEARCH_NO_OFFER');
            }
            if (_this.searchNoLocationText && (_this.searchNoLocationText.length > 0)) {
                _this.searchNoLocationText = _this.translate.instant('SEARCH_NO_PARTNER_LOCATION');
            }
            if (_this.searchNoVoucherText && _this.searchNoVoucherText.length > 0) {
                _this.searchNoVoucherText = _this.translate.instant("SEARCH_NO_PARTNER_VOUCHER");
            }
            _this.searchByPartnerPlaceholder = _this.translate.instant('SEARCH_BY_PARTNER_NAME');
            _this.updateAllIndustryTypeText();
        });
        this.searchByPartnerPlaceholder = this.translate.instant('SEARCH_BY_PARTNER_NAME');
        this.searchByOfferPlaceholder = this.translate.instant('SEARCH_BY_OFFER_NAME');
        this.searchByLocationPlaceholder = this.translate.instant('SEARCH_BY_PARTNER_LOCATION');
        this.searchByVoucherPlaceholder = this.translate.instant("SEARCH_BY_PARTNER_VOUCHER");
        this.content.ionScroll.subscribe(function () {
            _this.contentScrolling();
        });
        this.activeTab = this.SEARCH_PARTNERS_TAB;
        this.offerFilterInfo = new __WEBPACK_IMPORTED_MODULE_5__dto_offers_dto__["a" /* OfferInfo */]();
        this.offerFilterInfo.earnBurnFlag = 'E';
        this.offerFilterInfo.featured = 'N';
        this.offerFilterInfo.special = 'N';
        this.getAllIndustryTypes();
        this.loadData();
    };
    SearchPage.prototype.searchWithKeyword = function (tab) {
        __WEBPACK_IMPORTED_MODULE_2_ionic_native__["b" /* Keyboard */].close();
        if (tab == this.SEARCH_PARTNERS_TAB) {
            this.partnersIndex = 1;
            this.shouldLoadPartners = true;
            this.searchedPartners = [];
            this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_PARTNER_SCREEN, this.appConstants.SEARCH_PARTNER_KEY_EVENT);
        }
        else if (tab == this.SEARCH_OFFERS_TAB) {
            this.offersIndex = 1;
            this.shouldLoadOffers = true;
            this.searchedOffers = [];
            this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_OFFER_SCREEN, this.appConstants.SEARCH_OFFER_KEY_EVENT);
        }
        else if (tab == this.SEARCH_LOCATIONS_TAB) {
            this.locationsIndex = 1;
            this.shouldLoadLocations = true;
            this.searchedLocations = [];
            this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_LOCATION_SCREEN, this.appConstants.SEARCH_LOCATION_KEY_EVENT);
        }
        else if (tab == this.SEARCH_VOUCHERS_TAB) {
            this.vouchersIndex = 1;
            this.shouldLoadVouchers = true;
            this.searchedVouchers = [];
            this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_VOUCHER_SCREEN, this.appConstants.SEARCH_VOUCHER_KEY_EVENT);
        }
        this.content.scrollToTop(0);
        this.loadData();
    };
    SearchPage.prototype.onCancel = function () {
    };
    SearchPage.prototype.activeTabEvent = function (tab) {
        __WEBPACK_IMPORTED_MODULE_2_ionic_native__["b" /* Keyboard */].close();
        var shouldLoadData = false;
        if (tab == this.SEARCH_PARTNERS_TAB) {
            shouldLoadData = (this.searchedPartners.length == 0);
            this.googleAnalyticsUtils.trackPage(this.appConstants.SEARCH_PARTNER_SCREEN);
        }
        else if (tab == this.SEARCH_OFFERS_TAB) {
            shouldLoadData = (this.searchedOffers.length == 0);
            this.googleAnalyticsUtils.trackPage(this.appConstants.SEARCH_OFFER_SCREEN);
        }
        else if (tab == this.SEARCH_LOCATIONS_TAB) {
            shouldLoadData = (this.searchedLocations.length == 0);
            this.googleAnalyticsUtils.trackPage(this.appConstants.SEARCH_LOCATION_SCREEN);
        }
        else if (tab == this.SEARCH_VOUCHERS_TAB) {
            shouldLoadData = this.searchedVouchers.length == 0;
            this.googleAnalyticsUtils.trackPage(this.appConstants.SEARCH_VOUCHER_SCREEN);
        }
        this.shouldShowOfferFilterButton = (tab == this.SEARCH_OFFERS_TAB);
        this.content.scrollToTop(0);
        if (shouldLoadData) {
            this.loadData();
        }
    };
    SearchPage.prototype.getAllIndustryTypes = function () {
        var _this = this;
        this.partnerUtils.fetchAllIndustryTypes(function (result) {
            var industryTypes = result.data;
            if (industryTypes) {
                var anArray = [];
                var anObject = new __WEBPACK_IMPORTED_MODULE_4__dto_partners_dto__["c" /* IndustryTypeInfo */]();
                anObject.active = 'Y';
                anObject.description = '';
                anObject.code = _this.INDUSTRY_TYPE_DEFAULT_CODE;
                anObject.logoPath = '';
                anArray.push(anObject);
                if (!_this.selectIndustryTypeCode) {
                    _this.selectIndustryTypeCode = anObject.code;
                }
                for (var index = 0; index < industryTypes.length; index++) {
                    var anObject_1 = industryTypes[index];
                    anArray.push(anObject_1);
                }
                _this.industryTypes = anArray;
                _this.updateAllIndustryTypeText();
            }
        }, function (error) {
            console.log('Industry Types Error:\n' + JSON.stringify(error));
            if (_this.industryTypes.length == 0) {
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showToast(msg);
            }
        });
    };
    SearchPage.prototype.updateAllIndustryTypeText = function () {
        if (this.industryTypes && (this.industryTypes.length > 0)) {
            var anObject = this.industryTypes[0];
            if (anObject.code === this.INDUSTRY_TYPE_DEFAULT_CODE) {
                anObject.description = this.translate.instant('ALL');
            }
        }
    };
    SearchPage.prototype.industryTypesTapped = function (industryType) {
        __WEBPACK_IMPORTED_MODULE_2_ionic_native__["b" /* Keyboard */].close();
        this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_PARTNER_SCREEN, this.appConstants.INDUSTRY_TYPE_FILTER_EVENT);
        if (industryType && (industryType.code !== this.selectIndustryTypeCode)) {
            this.selectIndustryTypeCode = industryType.code;
            this.partnersIndex = 1;
            this.shouldLoadPartners = true;
            this.searchedPartners = [];
            this.content.scrollToTop(0);
            this.loadData();
        }
    };
    SearchPage.prototype.loadData = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.activeTab == _this.SEARCH_PARTNERS_TAB) {
                if (_this.shouldLoadPartners) {
                    var numOfRecords_1 = _this.configUtils.getNumOfRecordsForKey(_this.serviceConstants.PAGINATION_NO_OF_RECORDS);
                    var startIndex = _this.partnersIndex;
                    var endIndex_1 = _this.partnersIndex + numOfRecords_1 - 1;
                    var searchKey = _this.partnersSearchKey.trim();
                    if (searchKey.length == 0) {
                        searchKey = null;
                    }
                    var industryTypeCode = null;
                    if (_this.selectIndustryTypeCode &&
                        (_this.selectIndustryTypeCode !== _this.INDUSTRY_TYPE_DEFAULT_CODE)) {
                        industryTypeCode = _this.selectIndustryTypeCode;
                    }
                    _this.searchNoPartnerText = '';
                    if (_this.searchedPartners.length == 0) {
                        _this.isLoadingPartners = true;
                    }
                    _this.partnerUtils.fetchAllPartners(startIndex, endIndex_1, searchKey, industryTypeCode, function (result) {
                        _this.isLoadingPartners = false;
                        if (result.data.length < numOfRecords_1) {
                            _this.shouldLoadPartners = false;
                        }
                        else {
                            _this.partnersIndex = endIndex_1 + 1;
                        }
                        var tempArray = _this.searchedPartners;
                        for (var _i = 0, _a = result.data; _i < _a.length; _i++) {
                            var item = _a[_i];
                            tempArray.push(item);
                        }
                        _this.searchedPartners = tempArray;
                        var maxLimit = _this.configUtils.getPaginationLimit();
                        if (_this.searchedPartners.length >= maxLimit) {
                            _this.shouldLoadPartners = false;
                        }
                        if (_this.searchedPartners.length == 0) {
                            _this.searchNoPartnerText = _this.translate.instant('SEARCH_NO_PARTNER');
                        }
                        resolve(true);
                    }, function (error) {
                        console.log('Search Partners Error:\n' + JSON.stringify(error));
                        _this.isLoadingPartners = false;
                        if (_this.searchedPartners.length == 0) {
                            var msg = '';
                            if (error && error.message && (error.message.trim().length > 0)) {
                                msg = error.message.trim();
                            }
                            else {
                                msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                            }
                            _this.clientUtils.showToast(msg);
                        }
                        resolve(true);
                    });
                }
                else {
                    resolve(true);
                }
            }
            else if (_this.activeTab == _this.SEARCH_OFFERS_TAB) {
                if (_this.shouldLoadOffers) {
                    var numOfRecords_2 = _this.configUtils.getNumOfRecordsForKey(_this.serviceConstants.PAGINATION_NO_OF_RECORDS);
                    var startIndex = _this.offersIndex;
                    var endIndex_2 = _this.offersIndex + numOfRecords_2 - 1;
                    var searchKey = _this.offersSearchKey.trim();
                    if (searchKey.length == 0) {
                        searchKey = null;
                    }
                    var offerInfo = new __WEBPACK_IMPORTED_MODULE_5__dto_offers_dto__["a" /* OfferInfo */]();
                    offerInfo.active = 'Y';
                    offerInfo.searchKey = searchKey;
                    offerInfo.earnBurnFlag = _this.offerFilterInfo.earnBurnFlag;
                    if (_this.offerFilterInfo.special == 'Y') {
                        offerInfo.special = 'Y';
                    }
                    if (_this.offerFilterInfo.featured == 'Y') {
                        offerInfo.featured = 'Y';
                    }
                    if (_this.sessionUtils.isUserLoggedIn()) {
                        var memberInfo = _this.sessionUtils.getMemberInfo();
                        offerInfo.memberUid = memberInfo.memUID;
                    }
                    _this.searchNoOfferText = '';
                    if (_this.searchedOffers.length == 0) {
                        _this.isLoadingOffers = true;
                    }
                    _this.offerUtils.fetchAllOffers(startIndex, endIndex_2, offerInfo, function (result) {
                        _this.isLoadingOffers = false;
                        if (result.data.length < numOfRecords_2) {
                            _this.shouldLoadOffers = false;
                        }
                        else {
                            _this.offersIndex = endIndex_2 + 1;
                        }
                        var tempArray = _this.searchedOffers;
                        for (var _i = 0, _a = result.data; _i < _a.length; _i++) {
                            var item = _a[_i];
                            tempArray.push(item);
                        }
                        _this.searchedOffers = tempArray;
                        var maxLimit = _this.configUtils.getPaginationLimit();
                        if (_this.searchedOffers.length >= maxLimit) {
                            _this.shouldLoadOffers = false;
                        }
                        if (_this.searchedOffers.length == 0) {
                            _this.searchNoOfferText = _this.translate.instant('SEARCH_NO_OFFER');
                        }
                        resolve(true);
                    }, function (error) {
                        console.log('Search Offers Error:\n' + JSON.stringify(error));
                        _this.isLoadingOffers = false;
                        if (_this.searchedOffers.length == 0) {
                            var msg = '';
                            if (error && error.message && (error.message.trim().length > 0)) {
                                msg = error.message.trim();
                            }
                            else {
                                msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                            }
                            _this.clientUtils.showToast(msg);
                        }
                        resolve(true);
                    });
                }
                else {
                    resolve(true);
                }
            }
            else if (_this.activeTab == _this.SEARCH_LOCATIONS_TAB) {
                if (_this.shouldLoadLocations) {
                    var numOfRecords_3 = _this.configUtils.getNumOfRecordsForKey(_this.serviceConstants.PAGINATION_NO_OF_RECORDS);
                    var startIndex = _this.locationsIndex;
                    var endIndex_3 = _this.locationsIndex + numOfRecords_3 - 1;
                    var searchKey = _this.locationsSearchKey.trim();
                    if (searchKey.length == 0) {
                        searchKey = null;
                    }
                    _this.searchNoLocationText = '';
                    if (_this.searchedLocations.length == 0) {
                        _this.isLoadingLocations = true;
                    }
                    _this.partnerUtils.fetchAllPartnerLocations(startIndex, endIndex_3, searchKey, function (result) {
                        _this.isLoadingLocations = false;
                        if (result.data.length < numOfRecords_3) {
                            _this.shouldLoadLocations = false;
                        }
                        else {
                            _this.locationsIndex = endIndex_3 + 1;
                        }
                        var tempArray = _this.searchedLocations;
                        for (var _i = 0, _a = result.data; _i < _a.length; _i++) {
                            var item = _a[_i];
                            tempArray.push(item);
                        }
                        _this.searchedLocations = tempArray;
                        var maxLimit = _this.configUtils.getPaginationLimit();
                        if (_this.searchedLocations.length >= maxLimit) {
                            _this.shouldLoadLocations = false;
                        }
                        if (_this.searchedLocations.length == 0) {
                            _this.searchNoLocationText = _this.translate.instant('SEARCH_NO_PARTNER_LOCATION');
                        }
                        resolve(true);
                    }, function (error) {
                        console.log('Search Locations Error:\n' + JSON.stringify(error));
                        _this.isLoadingLocations = false;
                        if (_this.industryTypes.length == 0) {
                            var msg = '';
                            if (error && error.message && (error.message.trim().length > 0)) {
                                msg = error.message.trim();
                            }
                            else {
                                msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                            }
                            _this.clientUtils.showToast(msg);
                        }
                        resolve(true);
                    });
                }
            }
            else if (_this.activeTab == _this.SEARCH_VOUCHERS_TAB) {
                if (_this.shouldLoadVouchers) {
                    var numOfRecords = _this.configUtils.getNumOfRecordsForKey(_this.serviceConstants.PAGINATION_NO_OF_RECORDS);
                    var startIndex = _this.vouchersIndex;
                    var endIndex = _this.vouchersIndex + numOfRecords - 1;
                    var searchKey = _this.vouchersSearchKey.trim();
                    if (!searchKey) {
                        searchKey = null;
                    }
                    _this.searchNoVoucherText = "";
                    if (_this.searchedVouchers.length == 0) {
                        _this.isLoadingVouchers = true;
                    }
                    _this.partnerUtils.fetchAllVouchers(startIndex, endIndex, searchKey, function (result) {
                        console.log(result);
                        _this.searchedVouchers = result.data;
                        _this.isLoadingVouchers = false;
                        var maxLimit = _this.configUtils.getPaginationLimit();
                        if (_this.searchedVouchers.length >= maxLimit) {
                            _this.shouldLoadVouchers = false;
                        }
                        if (_this.searchedVouchers.length == 0) {
                            _this.searchNoVoucherText = _this.translate.instant("SEARCH_NO_PARTNER_VOUCHER");
                        }
                        resolve(true);
                    }, function (error) {
                        console.log("Search Locations Error:\n" + JSON.stringify(error));
                        _this.isLoadingLocations = false;
                        if (_this.industryTypes.length == 0) {
                            var msg = "";
                            if (error && error.message && error.message.trim().length > 0) {
                                msg = error.message.trim();
                            }
                            else {
                                msg = _this.translate.instant("SOMETHING_WENT_WRONG");
                            }
                            _this.clientUtils.showToast(msg);
                        }
                        resolve(true);
                    });
                    setTimeout(function () {
                        // this.searchedVouchers = [
                        //   { partnerName: "Starbucks", value: 50, miles: "1,000" },
                        //   { partnerName: "Starbucks", value: 100, miles: "2,000" },
                        //   { partnerName: "Starbucks", value: 200, miles: "4,000" }
                        // ];
                        _this.isLoadingVouchers = false;
                    }, 300);
                }
                else {
                    resolve(true);
                }
            }
        });
    };
    SearchPage.prototype.doInfinite = function (infiniteScroll) {
        this.loadData().then(function () {
            infiniteScroll.complete();
        });
    };
    SearchPage.prototype.scrollToTop = function (fab) {
        if (fab) {
            fab.close();
        }
        this.content.scrollToTop();
        // console.log(this.content.getContentDimensions());
    };
    SearchPage.prototype.contentScrolling = function () {
        var _this = this;
        if (this.fabContainer) {
            this.fabContainer.close();
        }
        var shouldShowScrollTopButton = (this.content.scrollTop > (this.content.contentHeight / 2));
        if (shouldShowScrollTopButton != this.shouldShowScrollTopButton) {
            this.ngZone.run(function () {
                _this.shouldShowScrollTopButton = shouldShowScrollTopButton;
            });
        }
    };
    /**
     * filter items
     */
    SearchPage.prototype.doFilter = function (fab) {
        var _this = this;
        if (fab) {
            fab.close();
        }
        var body = document.getElementsByTagName('body')[0];
        var opts = {
            showBackdrop: true,
            enableBackdropDismiss: true
        };
        var profileModal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_13__widgets_filters_popup_filter__["a" /* FilterPopupPage */], { data: this.offerFilterInfo }, opts);
        profileModal.onDidDismiss(function (data) {
            _this.render.setElementClass(body, 'smallModal', false);
            if (data) {
                _this.offerFilterInfo = data;
                _this.offersIndex = 1;
                _this.shouldLoadOffers = true;
                _this.searchedOffers = [];
                _this.content.scrollToTop(0);
                _this.loadData();
            }
        });
        this.render.setElementClass(body, 'smallModal', true);
        profileModal.present();
    };
    SearchPage.prototype.refreshButtonTapped = function () {
        var _this = this;
        if (this.isRefreshing != true) {
            this.isRefreshing = true;
            __WEBPACK_IMPORTED_MODULE_2_ionic_native__["b" /* Keyboard */].close();
            if (this.activeTab == this.SEARCH_PARTNERS_TAB) {
                this.partnersIndex = 1;
                this.shouldLoadPartners = true;
                this.searchedPartners = [];
                this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_PARTNER_SCREEN, this.appConstants.SEARCH_PARTNER_KEY_EVENT);
                this.getAllIndustryTypes();
            }
            else if (this.activeTab == this.SEARCH_OFFERS_TAB) {
                this.offersIndex = 1;
                this.shouldLoadOffers = true;
                this.searchedOffers = [];
                this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_OFFER_SCREEN, this.appConstants.SEARCH_OFFER_KEY_EVENT);
            }
            else if (this.activeTab == this.SEARCH_LOCATIONS_TAB) {
                this.locationsIndex = 1;
                this.shouldLoadLocations = true;
                this.searchedLocations = [];
                this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_LOCATION_SCREEN, this.appConstants.SEARCH_LOCATION_KEY_EVENT);
            }
            this.content.scrollToTop(0);
            this.loadData().then(function () {
                _this.isRefreshing = false;
            });
        }
    };
    SearchPage.prototype.openModal = function () {
        if (!this.sessionUtils.isUserLoggedIn()) {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_0__login_login__["a" /* LoginPage */]);
            modal.onDidDismiss(function (isSuccess) {
                if (isSuccess) {
                }
                else {
                }
            });
            modal.present();
        }
        else {
        }
    };
    SearchPage.prototype.redeemVoucher = function (voucher) {
        var _this = this;
        if (!this.sessionUtils.isUserLoggedIn()) {
            var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_0__login_login__["a" /* LoginPage */]);
            modal.onDidDismiss(function (isSuccess) {
                if (isSuccess) {
                }
                else {
                }
            });
            modal.present();
        }
        else {
            var alert_1 = this.alertCtrl.create({
                title: 'Confirm Voucher Redeem',
                message: 'Do you really want to redeem voucher?',
                buttons: [
                    {
                        text: 'No',
                        role: 'cancel',
                        handler: function () {
                            console.log('Cancel clicked');
                        }
                    },
                    {
                        text: 'Yes',
                        handler: function () {
                            _this.isLoadingVouchers = true;
                            _this.partnerUtils.redeemVouchers(voucher, function (result) {
                                console.log(result);
                                _this.isLoadingVouchers = false;
                                _this.clientUtils.showToast(JSON.stringify(result.data[0].message));
                            }, function (error) {
                                console.log("Search Locations Error:\n" + JSON.stringify(error));
                                _this.isLoadingVouchers = false;
                                _this.clientUtils.showToast(JSON.stringify(error));
                            });
                        }
                    }
                ]
            });
            alert_1.present();
        }
    };
    return SearchPage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["d" /* Content */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3_ionic_angular__["d" /* Content */])
], SearchPage.prototype, "content", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["_17" /* ViewChild */])('fab'),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_3_ionic_angular__["f" /* FabContainer */])
], SearchPage.prototype, "fabContainer", void 0);
SearchPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["u" /* Component */])({
        selector: 'page-search',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\search\search.html"*/'<ion-header class="header-dark" no-border>\n\n    <ion-navbar>\n        <button ion-button menuToggle>\n            <ion-icon name="menu"></ion-icon>\n        </button>\n        <ion-title>{{ \'DISCOVER\' | translate }}</ion-title>\n        <ion-buttons end>\n            <button ion-button class="icon-white" (click)="refreshButtonTapped()">\n                <span class="spin-animation">\n                    <ion-icon name="md-sync" [ngClass]="{\'spin-elem\': isRefreshing}"></ion-icon>\n                </span>\n            </button>\n        </ion-buttons>\n    </ion-navbar>\n\n    <div class="inline-tabs">\n        <ion-segment [(ngModel)]="activeTab">\n            <ion-segment-button value="tab01" (click)="activeTabEvent(SEARCH_PARTNERS_TAB)">\n                {{ \'PARTNERS\' | translate }}\n            </ion-segment-button>\n            <ion-segment-button value="tab03" (click)="activeTabEvent(SEARCH_LOCATIONS_TAB)">\n                {{ \'LOCATIONS\' | translate }}\n            </ion-segment-button>\n            <ion-segment-button value="tab02" (click)="activeTabEvent(SEARCH_OFFERS_TAB)">\n                {{ \'OFFERS\' | translate }}\n            </ion-segment-button>\n            <ion-segment-button value="tab04" (click)="activeTabEvent(SEARCH_VOUCHERS_TAB)">\n                {{ "VOUCHERS" | translate }}\n            </ion-segment-button>\n        </ion-segment>\n    </div>\n\n</ion-header>\n\n\n<ion-content class="contain-area-full app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'">\n\n    <div [ngSwitch]="activeTab" padding>\n        <!--Tabs 01 start-->\n        <div class="tab01-holder " *ngSwitchCase="SEARCH_PARTNERS_TAB">\n\n            <ion-slides class=" swiper-template-1 " [slidesPerView]="3" [spaceBetween]="10">\n                <div class="swiper-wrapper">\n                    <ion-slide class="swiper-slide" *ngFor="let i of industryTypes">\n\n                        <div class="slider-holder " [ngClass]="{\'industry-all\': i.code === INDUSTRY_TYPE_DEFAULT_CODE}" [style.background-image]="\'url(\' + i.logoPath + \')\'"\n                            (click)="industryTypesTapped(i)">\n\n                            <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" *ngIf="i.code === selectIndustryTypeCode" viewBox="0 0 52 52">\n                                <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none" />\n                                <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />\n                            </svg>\n\n                            <div class="slider-content">\n                                <span>{{i.description}}</span>\n                            </div>\n                        </div>\n\n                    </ion-slide>\n                </div>\n            </ion-slides>\n\n            <!--search -->\n            <form action=".">\n                <ion-searchbar [(ngModel)]="partnersSearchKey" [ngModelOptions]="{standalone: true}" (search)="searchWithKeyword(activeTab)"\n                    (ionCancel)="onCancel($event)" [showCancelButton]="shouldShowCancel" [placeholder]="searchByPartnerPlaceholder"\n                    [animated]="false" [value]="" name="search">\n                </ion-searchbar>\n            </form>\n\n            <div class="margin-bottom"></div>\n            <div class="search-result-status" *ngIf="!searchedPartners || (searchedPartners.length == 0)">\n                <ion-spinner name="ios-small" *ngIf="isLoadingPartners == true"></ion-spinner>\n                <span>{{searchNoPartnerText}}</span>\n            </div>\n            <div *ngIf="searchedPartners && (searchedPartners.length > 0)">\n                <span *ngFor="let i of searchedPartners">\n                    <partners-card-component [data]="i"></partners-card-component>\n                </span>\n                <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n                    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n                </ion-infinite-scroll>\n            </div>\n\n        </div>\n        <!--Tabs 01 End-->\n\n\n        <!--Tabs 02 start-->\n        <div class="tab02-holder" *ngSwitchCase="SEARCH_OFFERS_TAB">\n\n            <form action=".">\n                <ion-searchbar [(ngModel)]="offersSearchKey" [showCancelButton]="shouldShowCancel" [ngModelOptions]="{standalone: true}"\n                    (search)="searchWithKeyword(activeTab)" (ionCancel)="onCancel($event)" [placeholder]="searchByOfferPlaceholder"\n                    [animated]="false" [value]="" name="search">\n                </ion-searchbar>\n            </form>\n\n            <div class="margin-bottom"></div>\n            <div class="search-result-status" *ngIf="!searchedOffers || (searchedOffers.length == 0)">\n                <ion-spinner name="ios-small" *ngIf="isLoadingOffers == true"></ion-spinner>\n                <span>{{searchNoOfferText}}</span>\n            </div>\n            <div *ngIf="searchedOffers && (searchedOffers.length > 0)">\n                <span *ngFor="let data of searchedOffers">\n                    <expandable-component [data]="data"></expandable-component>\n                </span>\n                <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n                    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n                </ion-infinite-scroll>\n            </div>\n\n        </div>\n        <!--Tabs 02 End-->\n\n\n        <!--Tabs 03 start-->\n        <div class="tab03-holder" *ngSwitchCase="SEARCH_LOCATIONS_TAB">\n            <!--tab 03-->\n\n            <form action=".">\n                <ion-searchbar [(ngModel)]="locationsSearchKey" [showCancelButton]="shouldShowCancel" [ngModelOptions]="{standalone: true}"\n                    (search)="searchWithKeyword(activeTab)" (ionCancel)="onCancel($event)" [placeholder]="searchByLocationPlaceholder"\n                    [animated]="false" [value]="" name="search">\n                </ion-searchbar>\n            </form>\n\n            <div class="margin-bottom"></div>\n            <div class="search-result-status" *ngIf="!searchedLocations || (searchedLocations.length == 0)">\n                <ion-spinner name="ios-small" *ngIf="isLoadingLocations == true"></ion-spinner>\n                <span>{{searchNoLocationText}}</span>\n            </div>\n            <div *ngIf="searchedLocations && (searchedLocations.length > 0)">\n                <div *ngFor="let data of searchedLocations">\n                    <expandable-location-component [data]="data"></expandable-location-component>\n                </div>\n                <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n                    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n                </ion-infinite-scroll>\n            </div>\n        </div>\n        <!--Tabs 03 End-->\n\n        <!--Tabs 04 start-->\n        <div class="tab03-holder" *ngSwitchCase="SEARCH_VOUCHERS_TAB">\n            <!--tab 04-->\n\n            <form action=".">\n                <ion-searchbar [(ngModel)]="vouchersSearchKey" [showCancelButton]="shouldShowCancel" [ngModelOptions]="{ standalone: true }"\n                    (search)="searchWithKeyword(activeTab)" (ionCancel)="onCancel($event)" [placeholder]="searchByVoucherPlaceholder"\n                    [animated]="false" [value]="" name="search">\n                </ion-searchbar>\n            </form>\n\n            <div class="margin-bottom"></div>\n            <div class="search-result-status" *ngIf="!searchedVouchers || searchedVouchers.length == 0">\n                <ion-spinner name="ios-small" *ngIf="isLoadingVouchers == true"></ion-spinner>\n                <span>{{ searchNoVoucherText }}</span>\n            </div>\n            <div *ngIf="searchedVouchers && searchedVouchers.length > 0" class="voucher-search-result">\n                <div *ngFor="let voucher of searchedVouchers">\n                    <div class="voucher" (click)="redeemVoucher(voucher)">\n                        <div class="heading">\n                            <span class="desc">{{voucher.description}}</span>\n                            <span class="free-space"></span>\n                            <span class="miles">-for {{ voucher.points }} miles</span>\n                        </div>\n                        <div class="margin-bottom"></div>\n                        <div style="font-size:11px;" *ngIf="voucher.expiryPeriod">\n                            Valid for {{voucher.expiryPeriod}} months.\n                        </div>\n                        <div>\n                             <span style="font-size:11px;">Can be used at any location</span>\n                        </div>\n                        \n                    </div>\n                    <div class="voucher-strip" >\n                        <div class="partner">\n                            <img [src]="voucher.partnerLogoPath" alt="" />\n                            <span>{{voucher.partnerDescription}}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n                    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n                </ion-infinite-scroll>\n            </div>\n        </div>\n        <!--Tabs 04 End-->\n    </div>\n    <ion-fab *ngIf="shouldShowScrollTopButton || shouldShowOfferFilterButton" right bottom mini #fab>\n        <button ion-fab color="light">\n            <ion-icon name="more"></ion-icon>\n        </button>\n        <ion-fab-list side="left">\n            <button *ngIf="shouldShowScrollTopButton" ion-fab (click)="scrollToTop(fab)">\n                <ion-icon name="arrow-up"></ion-icon>\n            </button>\n            <button *ngIf="shouldShowOfferFilterButton" ion-fab (click)="doFilter(fab)">\n                <ion-icon name="color-filter"></ion-icon>\n            </button>\n        </ion-fab-list>\n    </ion-fab>\n\n</ion-content>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\search\search.html"*/,
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_3_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_15__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_1__angular_core__["T" /* NgZone */],
        __WEBPACK_IMPORTED_MODULE_3_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_offer_utils__["a" /* OfferUtils */],
        __WEBPACK_IMPORTED_MODULE_1__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_11__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_14_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_12__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_3_ionic_angular__["a" /* AlertController */]])
], SearchPage);

//# sourceMappingURL=search.js.map

/***/ }),

/***/ 658:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TncPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_user_utils__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_ionic_native__ = __webpack_require__(98);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__constants_service_constants__ = __webpack_require__(8);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var TncPage = (function () {
    function TncPage(viewController, events, userUtils, configUtils, appConstants, translate, networkService, render, googleAnalyticsUtils, clientUtils, sessionUtils, modalCtrl, globalizationUtils, serviceConstants) {
        this.viewController = viewController;
        this.events = events;
        this.userUtils = userUtils;
        this.configUtils = configUtils;
        this.appConstants = appConstants;
        this.translate = translate;
        this.networkService = networkService;
        this.render = render;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.clientUtils = clientUtils;
        this.sessionUtils = sessionUtils;
        this.modalCtrl = modalCtrl;
        this.globalizationUtils = globalizationUtils;
        this.serviceConstants = serviceConstants;
        this.memberInfo = null;
        this.consentResponse = { "activeCardNumber": "", "consentStatus": "", "consentCode": "" };
    }
    TncPage.prototype.ngOnInit = function () {
        this.addClassToBody();
        this.memberInfo = this.sessionUtils.getMemberInfo();
        this.getTncConsentDate(this.memberInfo.activeCardNo);
    };
    TncPage.prototype.getTncConsentDate = function (activeCardNo) {
        var _this = this;
        var consentConfig = this.configUtils.getTncConsentObj();
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_EN_US) {
            this.tncMessage = consentConfig.tncMsgEN;
        }
        else if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            this.tncMessage = consentConfig.tncMsgES;
        }
        var reqObj = {
            "activeCardNumber": activeCardNo,
            "consentCode": consentConfig.tncCode
        };
        this.userUtils.getConsentDate(reqObj, function (result) {
            _this.consentResponse = result;
        }, function (error) {
        });
    };
    TncPage.prototype.addClassToBody = function () {
        this.body = document.getElementsByTagName('body')[0];
        this.render.setElementClass(this.body, this.getModalClassName(), true);
    };
    TncPage.prototype.getModalClassName = function () {
        var value = 'loginSmallModal-280';
        var rows = 0;
        if (rows == 1) {
            value = 'loginSmallModal-320';
        }
        else if (rows == 2) {
            value = 'loginSmallModal-360';
        }
        else if (rows == 3) {
            value = 'loginSmallModal-400';
        }
        return value;
    };
    TncPage.prototype.dismiss = function (value) {
        this.viewController.dismiss(value, null, { animate: value, keyboardClose: true });
        // setTimeout(() => {
        //     this.render.setElementClass(this.body, this.getModalClassName(), false);
        // }, 500);
    };
    TncPage.prototype.analyticsPageTag = function () {
        return (((this.sessionUtils.isUserLoggedIn()) == true) ?
            this.appConstants.EDIT_PROFILE_SCREEN :
            this.appConstants.ENROLLMENT_SCREEN);
    };
    TncPage.prototype.termsConditionsTapped = function () {
        __WEBPACK_IMPORTED_MODULE_8_ionic_native__["b" /* Keyboard */].close();
        this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), this.appConstants.TERMS_CONDITIONS_TAPPED_EVENT);
        if (this.networkService.isOnline()) {
            var termsURL = this.configUtils.getTermsConditionsURL();
            this.clientUtils.openWebURL(termsURL);
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    TncPage.prototype.privacyPolicyTapped = function () {
        __WEBPACK_IMPORTED_MODULE_8_ionic_native__["b" /* Keyboard */].close();
        this.googleAnalyticsUtils.trackEvent(this.analyticsPageTag(), this.appConstants.PRIVACY_POLICY_TAPPED_EVENT);
        if (this.networkService.isOnline()) {
            var privacyPolicyURL = this.configUtils.getPrivacyPolicyURL();
            this.clientUtils.openWebURL(privacyPolicyURL);
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    TncPage.prototype.submitButtonTapped = function () {
        var consentConfig = this.configUtils.getTncConsentObj();
        if (this.acceptTerms) {
            this.dismiss(false);
            this.consentResponse.consentStatus = 'Y';
            this.consentResponse.activeCardNumber = this.memberInfo.activeCardNo;
            this.consentResponse.consentCode = consentConfig.tncCode;
            this.userUtils.postConsentDate(this.consentResponse, function (result) {
            }, function (error) {
                console.log('getConsentDate Error:' + JSON.stringify(error));
            });
        }
    };
    return TncPage;
}());
TncPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\tnc\tnc.html"*/'<ion-content class=" login-modal-small no-scroll">\n    <div class="login-box">\n        <div class="container">\n            <div style="margin-bottom:2rem;">\n                {{tncMessage}}\n            </div>\n            <div class="row">\n                <div class="col-xs-12">\n                    <div class="privacy-terms-checkbox" style="display: flex;justify-content: center;align-items: flex-start;">\n                        <ion-checkbox [(ngModel)]="acceptTerms" style="padding: 0.2rem 1.5rem 0rem 0rem;"></ion-checkbox>\n                        <span>{{\'I have read and agree with the\' | translate}}\n                            <a (click)="termsConditionsTapped()">\n                                {{\'Terms n Conditions\' | translate}}\n                            </a> and\n                            <a (click)="privacyPolicyTapped()">\n                                {{\'Privacy Policy\' | translate}}\n                            </a>.\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-xs-12 button-container" style="margin-top: 2rem;">\n                    <button [disabled]="!acceptTerms" ion-button class="submit-btn nochnageonhover" full (click)="submitButtonTapped()">\n                        {{\'Agree\' | translate}}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</ion-content>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\tnc\tnc.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_user_utils__["a" /* UserUtils */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_7__services_commons_network_service__["a" /* NetworkService */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_11__utils_commons_globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_12__constants_service_constants__["a" /* ServiceConstants */]])
], TncPage);

//# sourceMappingURL=tnc.js.map

/***/ }),

/***/ 659:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FilterPopupPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_offers_dto__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_language_constants__ = __webpack_require__(65);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var FilterPopupPage = (function () {
    function FilterPopupPage(navCtrl, navParams, languageConstants, googleAnalyticsUtils, appConstants, viewController) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.languageConstants = languageConstants;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.viewController = viewController;
        this.isEarn = true;
        this.isBurn = false;
        this.isPromotion = false;
        this.isRecommended = false;
        var offerFilterInfo = navParams.get('data');
        if (offerFilterInfo && offerFilterInfo.earnBurnFlag) {
            this.isEarn = (offerFilterInfo.earnBurnFlag == 'E');
            this.isBurn = (offerFilterInfo.earnBurnFlag == 'B');
        }
        if (offerFilterInfo && offerFilterInfo.special) {
            this.isPromotion = (offerFilterInfo.special == 'Y');
        }
        if (offerFilterInfo && offerFilterInfo.featured) {
            this.isRecommended = (offerFilterInfo.featured == 'Y');
        }
    }
    FilterPopupPage.prototype.dismiss = function () {
        this.viewController.dismiss();
    };
    FilterPopupPage.prototype.earnValueChanged = function () {
        this.isBurn = !this.isEarn;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_OFFER_SCREEN, this.appConstants.SEARCH_EARN_OFFER_FILTER_EVENT);
    };
    FilterPopupPage.prototype.burnValueChanged = function () {
        this.isEarn = !this.isBurn;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.SEARCH_OFFER_SCREEN, this.appConstants.SEARCH_BURN_OFFER_FILTER_EVENT);
    };
    FilterPopupPage.prototype.saveFilters = function () {
        var offerFilterInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_offers_dto__["a" /* OfferInfo */]();
        offerFilterInfo.earnBurnFlag = this.isEarn ? 'E' : 'B';
        offerFilterInfo.special = this.isPromotion ? 'Y' : 'N';
        offerFilterInfo.featured = this.isRecommended ? 'Y' : 'N';
        this.viewController.dismiss(offerFilterInfo);
    };
    return FilterPopupPage;
}());
FilterPopupPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\filters-popup\filter.html"*/'<ion-content padding class="target-popup">\n    <h3>{{ \'FILTERS\' | translate }} <ion-icon name="close-circle" icon-right (click)="dismiss()"></ion-icon></h3>\n    <ion-list>\n\n        <h4>{{ \'OFFER_TYPE\' | translate }}</h4>\n        <ion-item no-lines>\n            <ion-label> {{ \'EARN\' | translate }}</ion-label>\n            <ion-toggle [(ngModel)]="isEarn" (ionChange)="earnValueChanged()"></ion-toggle>\n        </ion-item>\n\n        <ion-item no-lines>\n            <ion-label> {{ languageConstants.BURN | translate }}</ion-label>\n            <ion-toggle [(ngModel)]="isBurn" (ionChange)="burnValueChanged()"></ion-toggle>\n        </ion-item>\n\n\n        <h4>{{ \'PROMOTION\' | translate }}</h4>\n        <ion-item no-lines>\n            <ion-label> {{ \'PROMOTIONS\' | translate }}</ion-label>\n            <ion-toggle [(ngModel)]="isPromotion"></ion-toggle>\n        </ion-item>\n\n        <ion-item no-lines>\n            <ion-label> {{ \'RECOMMENDATIONS\' | translate }}</ion-label>\n            <ion-toggle [(ngModel)]="isRecommended"></ion-toggle>\n        </ion-item>\n\n    </ion-list>\n\n\n    <button ion-button full class="submit-btn" (click)="saveFilters()">{{ \'GO\' | translate }}</button>\n\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\filters-popup\filter.html"*/,
        selector: 'filter-popup-component'
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_5__constants_language_constants__["a" /* LanguageConstants */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_4__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */]])
], FilterPopupPage);

//# sourceMappingURL=filter.js.map

/***/ }),

/***/ 66:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_user_utils__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_commons_facebook_connect_service__ = __webpack_require__(528);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__tnc_tnc__ = __webpack_require__(658);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var LoginPage = (function () {
    function LoginPage(viewController, events, userUtils, mcfLoadService, clientUtils, configUtils, render, googleAnalyticsUtils, appConstants, translate, networkService, facebookConnectService, modalCtrl) {
        this.viewController = viewController;
        this.events = events;
        this.userUtils = userUtils;
        this.mcfLoadService = mcfLoadService;
        this.clientUtils = clientUtils;
        this.configUtils = configUtils;
        this.render = render;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.translate = translate;
        this.networkService = networkService;
        this.facebookConnectService = facebookConnectService;
        this.modalCtrl = modalCtrl;
        this.username = '';
        this.password = '';
        this.forgotPasswordURL = null;
        this.registrationURL = null;
        this.shouldShowEnrollment = false;
        this.shouldShowFBLogin = false;
        this.type = 'password';
        this.showPass = false;
    }
    LoginPage.prototype.ngOnInit = function () {
        this.googleAnalyticsUtils.trackPage(this.appConstants.LOGIN_SCREEN);
        if (this.clientUtils.getTenantCode() == this.appConstants.APP_TENANT_CODE_XX) {
            if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_DEV) {
                this.username = '00250521471';
                this.password = 'Tst@12';
            }
            else if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_TEST) {
                this.username = '00005318832';
                this.password = 'aaaaaA1@';
            }
        }
        else if (this.clientUtils.isDebugMode()) {
            if (this.clientUtils.getTenantCode() == this.appConstants.APP_TENANT_CODE_AM) {
                if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_DEV) {
                    this.username = '00050003326';
                    this.password = 'Tst1_';
                }
                else if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_TEST) {
                    this.username = '00814028304';
                    this.password = 'Mememe03';
                }
                else if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_MAINTENANCE) {
                    this.username = '00814028304';
                    this.password = 'Mememe03';
                }
            }
            else if (this.clientUtils.getTenantCode() == this.appConstants.APP_TENANT_CODE_PR) {
                if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_DEV) {
                    this.username = '00250521471';
                    this.password = 'Tst1_';
                }
                else if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_TEST) {
                    this.username = '00005753646';
                    this.password = 'Test@1';
                }
                else if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_MAINTENANCE) {
                    this.username = '00005753646';
                    this.password = 'Test123';
                }
            }
            else if (this.clientUtils.getTenantCode() == this.appConstants.APP_TENANT_CODE_PX) {
                if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_DEV) {
                    this.username = '00250521471';
                    this.password = 'Tst1_';
                }
                else if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_TEST) {
                    this.username = '00500000001';
                    this.password = 'Rpylc44';
                }
                else if (this.clientUtils.getEnvironmentType() == this.appConstants.APP_ENVIRONMENT_TYPE_MAINTENANCE) {
                    this.username = '00500000001';
                    this.password = 'Rpylc44';
                }
            }
        }
        this.shouldShowFBLogin = this.clientUtils.shouldShowFacebookLogin();
        this.forgotPasswordURL = this.configUtils.getForgotPasswordURL();
        this.registrationURL = this.configUtils.getRegistrationURL();
        this.shouldShowEnrollment = this.clientUtils.shouldShowEnrollment();
        this.addClassToBody();
    };
    LoginPage.prototype.showPassword = function () {
        this.showPass = !this.showPass;
        if (this.showPass) {
            this.type = 'text';
        }
        else {
            this.type = 'password';
        }
    };
    LoginPage.prototype.addClassToBody = function () {
        this.body = document.getElementsByTagName('body')[0];
        this.render.setElementClass(this.body, this.getModalClassName(), true);
    };
    LoginPage.prototype.dismiss = function (value) {
        var _this = this;
        this.viewController.dismiss(value, null, { animate: value, keyboardClose: true });
        setTimeout(function () {
            _this.render.setElementClass(_this.body, _this.getModalClassName(), false);
        }, 500);
    };
    LoginPage.prototype.getModalClassName = function () {
        var value = 'loginSmallModal-280';
        var rows = 0;
        if (this.shouldShowFBLogin == true) {
            rows++;
        }
        if (this.forgotPasswordURL && (this.forgotPasswordURL.trim().length > 0)) {
            rows++;
        }
        if (this.registrationURL && (this.registrationURL.trim().length > 0)) {
            rows++;
        }
        if (rows == 1) {
            value = 'loginSmallModal-320';
        }
        else if (rows == 2) {
            value = 'loginSmallModal-360';
        }
        else if (rows == 3) {
            value = 'loginSmallModal-400';
        }
        return value;
    };
    LoginPage.prototype.getTncConsentDate = function (activeCardNo) {
        var _this = this;
        var consentConfig = this.configUtils.getTncConsentObj();
        var reqObj = {
            "activeCardNumber": activeCardNo,
            "consentCode": consentConfig.tncCode
        };
        this.userUtils.getConsentDate(reqObj, function (result) {
            if (consentConfig.tncFlag) {
                if (result.consentDate) {
                    if ((new Date(consentConfig.lastTncChanged)) >= (new Date(result.consentDate))) {
                        var modal = _this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_11__tnc_tnc__["a" /* TncPage */], {}, { enableBackdropDismiss: false });
                        modal.present();
                    }
                }
                else {
                    var modal = _this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_11__tnc_tnc__["a" /* TncPage */], {}, { enableBackdropDismiss: false });
                    modal.present();
                }
            }
        }, function (error) {
            var modal = _this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_11__tnc_tnc__["a" /* TncPage */], {}, { enableBackdropDismiss: false });
            modal.present();
        });
    };
    LoginPage.prototype.doLogin = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.LOGIN_SCREEN, this.appConstants.LOGIN_EVENT);
        if (this.networkService.isOnline()) {
            var uname = String(this.username);
            if (uname && (uname.trim().length > 0)) {
                uname = this.userUtils.validateUsername(uname.trim());
                if (this.password && (this.password.trim().length > 0)) {
                    this.mcfLoadService.show('');
                    if (this.clientUtils.getTenantCode() == this.appConstants.APP_TENANT_CODE_PR) {
                        this.password = this.password.length > 8 ? this.password.substring(0, 8) : this.password; //For Pal only
                    }
                    this.userUtils.doLogin(uname, this.password, function (result) {
                        console.log('LOgin Response' + JSON.stringify(result));
                        _this.getTncConsentDate(result.data[0].member.activeCardNo);
                        _this.googleAnalyticsUtils.trackEvent(_this.appConstants.LOGIN_SCREEN, _this.appConstants.LOGIN_SUCCESSFUL);
                        _this.mcfLoadService.hide();
                        _this.dismiss(true);
                    }, function (error) {
                        _this.mcfLoadService.hide();
                        var msg = '';
                        if (error && error.message && (error.message.trim().length > 0)) {
                            msg = error.message.trim();
                        }
                        else {
                            msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                        }
                        _this.clientUtils.showAlert(msg);
                        _this.googleAnalyticsUtils.trackEvent(_this.appConstants.LOGIN_SCREEN, _this.appConstants.LOGIN_UNSUCCESSFUL, msg);
                    });
                }
                else {
                    this.clientUtils.showAlert(this.translate.instant('Invalid Password'));
                }
            }
            else {
                this.clientUtils.showAlert(this.translate.instant('INVALID_ACCOUNT_NUMBER'));
            }
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    LoginPage.prototype.loginUsingFBToken = function (fbToken) {
        var _this = this;
        if (fbToken && (fbToken.trim().length > 0)) {
            this.mcfLoadService.show('');
            this.userUtils.loginUsingFacebook(fbToken, function (result) {
                _this.googleAnalyticsUtils.trackEvent(_this.appConstants.LOGIN_SCREEN, _this.appConstants.LOGIN_SUCCESSFUL);
                _this.mcfLoadService.hide();
                _this.dismiss(true);
            }, function (error) {
                _this.mcfLoadService.hide();
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showAlert(msg);
                _this.googleAnalyticsUtils.trackEvent(_this.appConstants.LOGIN_SCREEN, _this.appConstants.LOGIN_UNSUCCESSFUL, msg);
            });
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('FAILED_LOGIN_FACEBOOK'));
        }
    };
    LoginPage.prototype.doLoginWithFacebook = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.LOGIN_SCREEN, this.appConstants.FACEBOOK_LOGIN_EVENT);
        if (this.networkService.isOnline()) {
            this.facebookConnectService.login().then(function (authResponse) {
                console.log('Login with Facebook:\n' + JSON.stringify(authResponse));
                if (_this.clientUtils.isNullOrEmpty(authResponse)) {
                    _this.clientUtils.showAlert(_this.translate.instant('FAILED_LOGIN_FACEBOOK'));
                }
                else {
                    _this.loginUsingFBToken(authResponse.accessToken);
                }
            }).catch(function (error) {
                console.log('Login with Facebook Error:\n' + JSON.stringify(error));
                var msg = '';
                if (error && error.message && (error.message.trim().length > 0)) {
                    msg = error.message.trim();
                }
                else {
                    msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                }
                _this.clientUtils.showAlert(msg);
                _this.googleAnalyticsUtils.trackEvent(_this.appConstants.LOGIN_SCREEN, _this.appConstants.LOGIN_UNSUCCESSFUL, msg);
            });
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    LoginPage.prototype.forgotPassword = function () {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.LOGIN_SCREEN, this.appConstants.FORGOT_PASSWORD_EVENT);
        if (this.networkService.isOnline()) {
            this.clientUtils.openExternalWebURL(this.forgotPasswordURL);
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    LoginPage.prototype.registerNow = function () {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.LOGIN_SCREEN, this.appConstants.REGISTER_NOW_EVENT);
        if (this.networkService.isOnline()) {
            this.clientUtils.openWebURL(this.registrationURL);
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    LoginPage.prototype.enrollUser = function () {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.LOGIN_SCREEN, this.appConstants.USER_ENROLLMENT_EVENT);
        if (this.networkService.isOnline()) {
            if (this.shouldShowEnrollment == true) {
                this.dismiss(false);
                this.events.publish(this.appConstants.EVENT_OPEN_ENROLLMENT_PAGE);
            }
            else {
                this.clientUtils.openExternalWebURL(this.configUtils.getEnrollmentLink());
            }
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    return LoginPage;
}());
LoginPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\login\login.html"*/'<ion-content class=" login-modal-small no-scroll">\n\n    <div class="header-clear">\n        <h1>{{ \'LOGIN\' | translate }} </h1>\n        <button class="button-right-close" icon-only (click)="dismiss(false)">\n            <ion-icon name="close-circle" icon-right></ion-icon>\n        </button>\n\n\n    </div>\n\n\n\n    <div class="login-box">\n        <form #registerForm="ngForm" novalidate>\n\n            <div class="container">\n\n                <div class="row">\n\n                    <div class="col-xs-12">\n\n                        <input type="number" pattern="[0-9]*" inputmode="numeric" placeholder="{{ \'ACCOUNT_NUMBER\' | translate }}" name="username"\n                            [(ngModel)]="username" />\n                    </div>\n                    <div class="col-xs-12" style="position:relative;">\n                        <input type="{{type}}" placeholder="{{ \'Password\' | translate }}" name="password" [(ngModel)]="password" id="password" />\n                        <ion-icon *ngIf="showPass" name="ios-eye-outline" (click)="showPassword()" style="position: absolute;\n                               top: 12px;\n                               right: 10px;font-size:20px;"></ion-icon>\n                        <ion-icon *ngIf="!showPass" name="ios-eye-off-outline" (click)="showPassword()" style="position: absolute;\n                               top: 10px;\n                               right: 10px;font-size:20px;"></ion-icon>\n                    </div>\n                </div>\n\n                <div class="row">\n                    <div class="col-xs-12">\n                        <button ion-button class="submit-btn" full type="submit" (click)="doLogin()">\n                            {{ \'LOGIN\' | translate }}\n                        </button>\n                    </div>\n                </div>\n\n                <div class="row" *ngIf="shouldShowFBLogin == true">\n                    <div class="col-xs-12">\n                        <button ion-button class="submit-btn" full (click)="doLoginWithFacebook()">\n                            {{ \'Login with Facebook\' | translate }}\n                        </button>\n                    </div>\n                </div>\n\n                <div class="row">\n                    <div class="col-xs-12 signup-col">\n                        <button ion-button block clear class="register-btn" (click)="forgotPassword()" *ngIf="forgotPasswordURL && forgotPasswordURL.trim().length > 0">\n                            {{ "Forgot Your Password?" | translate }}\n                        </button>\n                        <button ion-button block clear class="register-btn" (click)="registerNow()" *ngIf="registrationURL && registrationURL.trim().length > 0">\n                            {{ "No Password Yet? Register Now!" | translate }}\n                        </button>\n                        <button ion-button block clear class="register-btn" (click)="enrollUser()">\n                            {{ \'NOT_MEMBER_ENROLL_HERE\' | translate }}\n                        </button>\n                    </div>\n                </div>\n\n            </div>\n\n        </form>\n    </div>\n</ion-content>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\login\login.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_user_utils__["a" /* UserUtils */],
        __WEBPACK_IMPORTED_MODULE_5__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_9__services_commons_network_service__["a" /* NetworkService */],
        __WEBPACK_IMPORTED_MODULE_10__services_commons_facebook_connect_service__["a" /* FacebookConnectService */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */]])
], LoginPage);

//# sourceMappingURL=login.js.map

/***/ }),

/***/ 660:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfilePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_slider_dto__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_account_dto__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_transaction_utils__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__mytargetsall_my_targets_all__ = __webpack_require__(661);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__constants_language_constants__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pages_enrollment_enrollment__ = __webpack_require__(313);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__utils_commons_sync_data_utils__ = __webpack_require__(146);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__myvouchers_my_vouchers__ = __webpack_require__(662);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




















var ProfilePage = (function () {
    function ProfilePage(navCtrl, languageConstants, clientUtils, sessionUtils, offerUtils, partnerUtils, transactionUtils, targetUtils, configUtils, events, translate, networkService, googleAnalyticsUtils, appConstants, syncDataUtils) {
        this.navCtrl = navCtrl;
        this.languageConstants = languageConstants;
        this.clientUtils = clientUtils;
        this.sessionUtils = sessionUtils;
        this.offerUtils = offerUtils;
        this.partnerUtils = partnerUtils;
        this.transactionUtils = transactionUtils;
        this.targetUtils = targetUtils;
        this.configUtils = configUtils;
        this.events = events;
        this.translate = translate;
        this.networkService = networkService;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.syncDataUtils = syncDataUtils;
        this.memberInfo = new __WEBPACK_IMPORTED_MODULE_3__dto_account_dto__["f" /* MemberInfo */]();
        this.targets = [];
        this.targetSliderItems = [];
        this.favOffers = [];
        this.favParnerLocations = [];
        // vouchers: Array<VouchersInfo> = [];
        this.favOffersData = [];
        this.favParnerLocationsData = [];
        this.vouchersData = [];
        this.transactionsByDate = {};
        this.transactionDates = [];
        this.shouldDisplayTargets = false;
        this.shouldHideAvatar = false;
        this.shouldShowEnrollment = false;
        this.shouldDisplayLoading = true;
        this.isRefreshing = false;
        this.backgroundImageURL = '';
    }
    ProfilePage.prototype.ngOnInit = function () {
        var _this = this;
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
        });
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
        this.events.subscribe(this.appConstants.EVENT_APP_LANGUAGE_CHANGED, function () {
            _this.updateActiveTargetData();
            _this.updateTargetForFavOffers();
            _this.updateTargetForFavLocations();
            // this.updateMyVouchers();
        });
        this.googleAnalyticsUtils.trackPage(this.appConstants.MY_PROFILE_SCREEN);
        this.memberInfo = this.sessionUtils.getMemberInfo();
        this.events.subscribe(this.appConstants.EVENT_USER_PROFILE_CHANGED, function () {
            _this.memberInfo = _this.sessionUtils.getMemberInfo();
            _this.updateActiveTargetData();
            _this.updateTargetForFavOffers();
        });
        this.events.subscribe(this.appConstants.EVENT_TARGET_CHANGED, function () {
            _this.shouldDisplayLoading = false;
            _this.shouldDisplayTargets = true;
            _this.targets = _this.targetUtils.getTargetContext();
            _this.updateActiveTargetData();
        });
        this.events.subscribe(this.appConstants.EVENT_FAVORITE_OFFERS_CHANGED, function () {
            _this.shouldDisplayLoading = false;
            _this.favOffers = _this.offerUtils.getFavoriteOfferContext();
            _this.updateTargetForFavOffers();
        });
        this.events.subscribe(this.appConstants.EVENT_FAVORITE_PARTNER_LOCATIONS_CHANGED, function () {
            _this.shouldDisplayLoading = false;
            _this.favParnerLocations = _this.partnerUtils.getFavoritePartnerLocationContext();
            _this.updateTargetForFavLocations();
        });
        this.shouldDisplayLoading = false;
        // this.favParnerLocations = this.partnerUtils.getFavoritePartnerLocationContext();
        //     this.vouchers = [];
        //     this.updateMyVouchers();
        // });
        this.events.subscribe(this.appConstants.EVENT_RECENT_TRANSACTIONS_CHANGED, function () {
            _this.shouldDisplayLoading = false;
            var transactions = _this.transactionUtils.getTransactionContext();
            _this.sortTransactionByDate(transactions);
        });
        this.targets = this.targetUtils.getTargetContext();
        this.updateActiveTargetData();
        if (!this.targets || (this.targets.length == 0)) {
            this.shouldDisplayTargets = false;
            this.targetUtils.fetchMyTargets(null, null);
        }
        else {
            this.shouldDisplayLoading = false;
            this.shouldDisplayTargets = true;
        }
        this.favOffers = this.offerUtils.getFavoriteOfferContext();
        this.updateTargetForFavOffers();
        if (!this.favOffers || (this.favOffers.length == 0)) {
            this.offerUtils.fetchFavoriteOffers(null, null);
        }
        else {
            this.shouldDisplayLoading = false;
        }
        this.favParnerLocations = this.partnerUtils.getFavoritePartnerLocationContext();
        this.updateTargetForFavLocations();
        if (!this.favParnerLocations || (this.favParnerLocations.length == 0)) {
            this.partnerUtils.fetchFavoritePartnerLocations(null, null);
        }
        else {
            this.shouldDisplayLoading = false;
        }
        var vouchers = this.partnerUtils.getMyVouchersContext();
        if (!vouchers || (vouchers.length == 0)) {
            this.partnerUtils.fetchMyVouchers('all', function (result) {
                debugger;
                _this.vouchersData = result.data;
                if (_this.vouchersData && _this.vouchersData.length == 1) {
                    _this.vouchersData.push(_this.vouchersData[0]);
                }
            }, function (error) {
            });
        }
        else {
            this.shouldDisplayLoading = false;
        }
        var transactions = this.transactionUtils.getTransactionContext();
        this.sortTransactionByDate(transactions);
        if (!transactions || (transactions.length == 0)) {
            this.transactionUtils.fetchRecentTransactions(null, null);
        }
        else {
            this.shouldDisplayLoading = false;
        }
        this.shouldHideAvatar = this.clientUtils.shouldHideAvatar();
        this.shouldShowEnrollment = this.clientUtils.shouldShowEnrollment();
        setTimeout(function () {
            _this.shouldDisplayLoading = false;
        }, 60000);
    };
    ProfilePage.prototype.updateActiveTargetData = function () {
        var tempArray = [];
        for (var count = 0; count < this.targets.length; count++) {
            if (((this.targets[count].targetStatus != '') ||
                (this.targets[count].targetStatus != 'I') ||
                (this.targets[count].targetStatus != 'A') ||
                (this.targets[count].targetStatus != 'E')) &&
                (this.targets[count].earnBurnFlag != 'E')) {
                var sliderObj = new __WEBPACK_IMPORTED_MODULE_2__dto_slider_dto__["a" /* SliderData */]();
                sliderObj.name = this.targets[count].partnerName;
                sliderObj.title = this.targets[count].targetName;
                sliderObj.points = this.targets[count].targetPoints;
                sliderObj.img = this.targets[count].offerBannerPath;
                sliderObj.logo = this.targets[count].partnerLogoPath;
                sliderObj.partnerCode = this.targets[count].partnerCode;
                sliderObj.offerId = this.targets[count].offerId;
                sliderObj.targetId = this.targets[count].targetId;
                sliderObj.targetStatus = this.targets[count].targetStatus;
                sliderObj.targetEndDate = this.targets[count].targetEndDate;
                sliderObj.targetEndDateString = this.clientUtils.getFormattedDate('yMMMd', sliderObj.targetEndDate);
                sliderObj.targetStatusDescription = this.targets[count].targetStatusDescription;
                sliderObj.earnBurn = this.targets[count].earnBurnFlag;
                sliderObj.isFavourite = (this.targets[count].isFavorite == 'Y');
                sliderObj.special = this.targets[count].special;
                sliderObj.pageTitle = this.appConstants.HEADING_MY_TARGETS;
                sliderObj.isTarget = true;
                sliderObj.showHide = true;
                sliderObj.description = null;
                var loationCount = this.targets[count].partnerLocationCount;
                if (loationCount && (loationCount != '0')) {
                    sliderObj.location = (loationCount == 'ALL') ? this.translate.instant('ALL_LOCATIONS')
                        : loationCount + " " + this.translate.instant('LOCATIONS');
                }
                else {
                    sliderObj.location = '';
                }
                if (this.targets[count].offerBannerPath.length != 0)
                    sliderObj.img = this.targets[count].offerBannerPath;
                //else
                //  sliderObj.img = "assets/img/img02.png";
                if (this.targets[count].targetPoints > this.memberInfo.availableBalanceMiles) {
                    var percentValue = Math.round((this.memberInfo.availableBalanceMiles /
                        this.targets[count].targetPoints) * 100);
                    if (percentValue > 100) {
                        percentValue = 100;
                    }
                    sliderObj.myTarget = percentValue;
                }
                else {
                    sliderObj.myTarget = 100;
                }
                tempArray.push(sliderObj);
            }
        }
        this.targetSliderItems = tempArray;
    };
    ProfilePage.prototype.updateTargetForFavOffers = function () {
        var favOffers = [];
        for (var count = 0; count < this.favOffers.length; count++) {
            var sliderObj = new __WEBPACK_IMPORTED_MODULE_2__dto_slider_dto__["a" /* SliderData */]();
            sliderObj.name = this.favOffers[count].partnerName;
            sliderObj.title = this.favOffers[count].offerName;
            sliderObj.offerPoints = this.favOffers[count].offerPoints;
            sliderObj.img = this.favOffers[count].offerBannerPath;
            sliderObj.logo = this.favOffers[count].partnerLogoPath;
            sliderObj.partnerCode = this.favOffers[count].partnerCode;
            sliderObj.offerId = this.favOffers[count].offerId;
            sliderObj.description = this.favOffers[count].description;
            sliderObj.earnBurn = this.favOffers[count].earnBurnFlag;
            sliderObj.isFavourite = (this.favOffers[count].isFavorite == 'Y');
            sliderObj.isTarget = (this.favOffers[count].isTarget == 'Y');
            sliderObj.special = this.favOffers[count].special;
            sliderObj.terms = this.favOffers[count].terms;
            sliderObj.termsType = this.favOffers[count].termsType;
            sliderObj.pageTitle = this.appConstants.HEADING_MY_FAVOURITE_OFFERS;
            sliderObj.targetId = null;
            var loationCount = this.favOffers[count].partnerLoationCount;
            if (loationCount && (loationCount != '0')) {
                sliderObj.location = (loationCount == 'ALL') ? this.translate.instant('ALL_LOCATIONS')
                    : loationCount + " " + this.translate.instant('LOCATIONS');
            }
            else {
                sliderObj.location = '';
            }
            if (sliderObj.isTarget && this.favOffers[count].offerPoints > 0) {
                if (this.favOffers[count].offerPoints > this.memberInfo.availableBalanceMiles) {
                    var percentValue = Math.round((this.memberInfo.availableBalanceMiles /
                        this.favOffers[count].offerPoints) * 100);
                    if (percentValue > 100) {
                        percentValue = 100;
                    }
                    sliderObj.myTarget = percentValue;
                }
                else {
                    sliderObj.myTarget = 100;
                }
            }
            else {
                sliderObj.myTarget = null;
            }
            favOffers.push(sliderObj);
        }
        this.favOffersData = favOffers;
    };
    ProfilePage.prototype.updateTargetForFavLocations = function () {
        var favPartnerLocations = [];
        for (var count = 0; count < this.favParnerLocations.length; count++) {
            var sliderObj = new __WEBPACK_IMPORTED_MODULE_2__dto_slider_dto__["a" /* SliderData */]();
            sliderObj.name = this.favParnerLocations[count].partnerName;
            sliderObj.title = this.favParnerLocations[count].partnerName;
            sliderObj.img = this.favParnerLocations[count].imagePath;
            sliderObj.logo = this.favParnerLocations[count].partnerLogoPath;
            sliderObj.addressId = this.favParnerLocations[count].addressId;
            sliderObj.storeName = this.favParnerLocations[count].storeName;
            sliderObj.partnerCode = this.favParnerLocations[count].partnerCode;
            sliderObj.description = this.favParnerLocations[count].addressDescription;
            sliderObj.distance = Number(this.favParnerLocations[count].distance.toFixed(2));
            sliderObj.latitude = this.favParnerLocations[count].latitude;
            sliderObj.longitude = this.favParnerLocations[count].longitude;
            sliderObj.terms = this.favParnerLocations[count].terms;
            sliderObj.termsType = this.favParnerLocations[count].termsType;
            sliderObj.isFavourite = (this.favParnerLocations[count].isFavorite == 'Y');
            sliderObj.lastCheckinTime = this.favParnerLocations[count].lastCheckinTime;
            sliderObj.pageTitle = this.appConstants.HEADING_MY_FAVOURITE_LOCATIONS;
            sliderObj.targetId = null;
            sliderObj.offerId = null;
            sliderObj.offers = this.translate.instant('OFFERS');
            sliderObj.distanceDenom = ' ' + this.translate.instant('KM') + ' ' + this.translate.instant('APPROX');
            if (this.favParnerLocations[count].numberOfOffers != null)
                sliderObj.offersCount = this.favParnerLocations[count].numberOfOffers;
            else
                sliderObj.offersCount = 0;
            favPartnerLocations.push(sliderObj);
        }
        this.favParnerLocationsData = favPartnerLocations;
    };
    // updateMyVouchers() {
    //     let vouchers = [];
    //     for (let count = 0; count < this.vouchers.length; count++) {
    //         let sliderObj = new SliderData();
    //         sliderObj.name = "Starbucks" + count;
    //         sliderObj.title = "Starbucks" + count;
    //         sliderObj.img = null;
    //         sliderObj.logo = null;
    //         sliderObj.addressId = null;
    //         sliderObj.storeName = null;
    //         sliderObj.partnerCode = "Starbucks" + count;
    //         sliderObj.description = "Starbucks" + count;
    //         sliderObj.distance = 10;
    //         sliderObj.latitude = 0;
    //         sliderObj.longitude = 0;
    //         sliderObj.terms = "";
    //         sliderObj.termsType = "";
    //         sliderObj.isFavourite = true;
    //         sliderObj.lastCheckinTime = null;
    //         sliderObj.pageTitle = this.appConstants.HEADING_MY_FAVOURITE_LOCATIONS;
    //         sliderObj.targetId = null;
    //         sliderObj.offerId = null;
    //         sliderObj.offers = this.translate.instant("OFFERS");
    //         sliderObj.distanceDenom =
    //             " " +
    //             this.translate.instant("KM") +
    //             " " +
    //             this.translate.instant("APPROX");
    //         sliderObj.offersCount = 0;
    //         vouchers.push(sliderObj);
    //     }
    //     this.vouchersData = vouchers;
    // }
    ProfilePage.prototype.sortTransactionByDate = function (transactions) {
        if (transactions && (transactions.length > 0)) {
            this.transactionsByDate = {};
            transactions.sort(function (val1, val2) {
                var diffValue = 0;
                if (val1 && val2 && val1.transactionDate && val2.transactionDate) {
                    var date1 = new Date(val1.transactionDate);
                    var date2 = new Date(val2.transactionDate);
                    diffValue = (date1 < date2) ? 1 : -1;
                }
                else if (val1 && val1.transactionDate) {
                    diffValue = -1;
                }
                else if (val2 && val2.transactionDate) {
                    diffValue = 1;
                }
                return diffValue;
            });
            for (var count = 0; count < transactions.length; count++) {
                var transInfo = transactions[count];
                var tDate = ' ';
                if (transInfo.transactionDate) {
                    tDate = this.clientUtils.getFormattedDate('yMMMd', transInfo.transactionDate);
                }
                this.transactionsByDate[tDate] = this.transactionsByDate[tDate] || [];
                this.transactionsByDate[tDate].push(transInfo);
            }
            this.transactionDates = Object.keys(this.transactionsByDate);
        }
        else {
            this.transactionDates = [];
            this.transactionsByDate = {};
        }
    };
    ProfilePage.prototype.viewAll = function (view) {
        if (view === "ALL_MY_TARGETS") {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.MY_PROFILE_SCREEN, this.appConstants.VIEW_ALL_TARGETS_EVENT);
            if (this.networkService.isOnline()) {
                var data = {
                    pageUrl: "my-all-targets",
                    pageTitle: view,
                    bodyClass: "my-all-targets"
                };
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__mytargetsall_my_targets_all__["a" /* MyTargetsAllPage */], data);
            }
            else {
                this.clientUtils.showAlert(this.translate.instant("PLEASE_CHECK_NETWORK_CONNECTION"));
            }
        }
        else if (view === "MY_VOUCHERS") {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.MY_PROFILE_SCREEN, this.appConstants.VIEW_ALL_VOUCHERS_EVENT);
            if (this.networkService.isOnline()) {
                var data = {
                    pageUrl: "my-vouchers",
                    pageTitle: view,
                    bodyClass: "my-vouchers"
                };
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_19__myvouchers_my_vouchers__["a" /* MyVouchers */], data);
            }
            else {
                this.clientUtils.showAlert(this.translate.instant("PLEASE_CHECK_NETWORK_CONNECTION"));
            }
        }
    };
    ProfilePage.prototype.editProfileTapped = function () {
        if (this.networkService.isOnline()) {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_17__pages_enrollment_enrollment__["a" /* EnrollmentPage */]);
        }
        else {
            this.clientUtils.showAlert(this.translate.instant('PLEASE_CHECK_NETWORK_CONNECTION'));
        }
    };
    ProfilePage.prototype.refreshButtonTapped = function () {
        var _this = this;
        if (this.isRefreshing != true) {
            this.isRefreshing = true;
            this.content.scrollToTop(0);
            this.syncDataUtils.processPageCode(this.appConstants.MY_PROFILE_SCREEN)
                .then(function (result) {
                _this.isRefreshing = false;
            });
        }
    };
    return ProfilePage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */])
], ProfilePage.prototype, "content", void 0);
ProfilePage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-profile',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\profile\profile.html"*/'<ion-header class="header-dark" no-border>\n    <ion-navbar>\n        <ion-buttons end>\n            <button ion-button class="icon-white" (click)="editProfileTapped()" *ngIf="shouldShowEnrollment == true">\n                <ion-icon name="create"></ion-icon>\n            </button>\n            <button ion-button class="icon-white" (click)="refreshButtonTapped()">\n                <span class="spin-animation">\n                    <ion-icon name="md-sync" [ngClass]="{\'spin-elem\': isRefreshing}"></ion-icon>\n                </span>\n            </button>\n        </ion-buttons>\n    </ion-navbar>\n</ion-header>\n\n\n<ion-content>\n\n\n    <div class="user-profile-side-menu app-background-image" [style.background-image]="\'url(\' + backgroundImageURL +\')\'">\n\n        <h1 class="icon-user-header">\n            <ion-icon *ngIf="(shouldHideAvatar === false) && (!memberInfo.memberPicture || memberInfo.memberPicture.length == 0)" name="icon-user"></ion-icon>\n            <img *ngIf="memberInfo.memberPicture && memberInfo.memberPicture.length > 0" [src]="memberInfo.memberPicture" alt="" />\n        </h1>\n        <h2>{{memberInfo.preferredCardName}}</h2>\n        <span *ngIf="memberInfo.tierDescr">\n            <div class="row user-points">\n                <div class="col-xs-4">\n                    <h4>{{memberInfo.availableBalanceMiles | number}}</h4>\n                </div>\n                <div class="col-xs-4">\n                    <h4>{{memberInfo.tierPointsBalance | number}}</h4>\n                </div>\n                <div class="col-xs-4">\n                    <h4>{{memberInfo.tierDescr | translate }}</h4>\n                </div>\n            </div>\n            <div class="row user-points">\n                <div class="col-xs-4">\n                    <span>{{ languageConstants.POINTS | translate }}</span>\n                </div>\n                <div class="col-xs-4">\n                    <span>{{ languageConstants.TIER_POINTS | translate }}</span>\n                </div>\n                <div class="col-xs-4">\n                    <span>{{ languageConstants.TIER | translate }}</span>\n                </div>\n            </div>\n        </span>\n        <span *ngIf="!memberInfo.tierDescr">\n            <div class="row user-points">\n                <div class="col-xs-6">\n                    <h4>{{memberInfo.availableBalanceMiles | number}}</h4>\n                </div>\n                <div class="col-xs-6">\n                    <h4>{{memberInfo.tierPointsBalance | number}}</h4>\n                </div>\n            </div>\n            <div class="row user-points">\n                <div class="col-xs-6">\n                    <span>{{ languageConstants.POINTS | translate }}</span>\n                </div>\n                <div class="col-xs-6">\n                    <span>{{ languageConstants.TIER_POINTS | translate }}</span>\n                </div>\n            </div>\n        </span>\n    </div>\n\n\n    <div class="contain-area">\n\n        <h2 class="title" *ngIf="shouldDisplayTargets === true">\n            {{ \'MY_GOALS\' | translate }}\n            <button right ion-button round color="transparent" *ngIf="targetSliderItems && targetSliderItems.length > 0" (click)="viewAll(\'ALL_MY_TARGETS\')">\n            {{ \'VIEW_ALL\' | translate }}\n            </button>\n        </h2>\n        <component-swiper *ngIf="shouldDisplayTargets === true" [data]="targetSliderItems" [showTemplate]="5" [isMyTarget]="true">\n        </component-swiper>\n\n\n        <div class="row" *ngIf="favOffersData && favOffersData.length > 0">\n            <div class="col-xs-12">\n                <h2 class="title"> {{ \'MY_FAVOURITE_OFFERS\' | translate }} </h2>\n            </div>\n        </div>\n        <component-swiper *ngIf="favOffersData && favOffersData.length > 0" [data]="favOffersData" [showTemplate]="1">\n        </component-swiper>\n\n\n        <div class="row" *ngIf="favParnerLocationsData && favParnerLocationsData.length > 0">\n            <div class="col-xs-12">\n                <h2 class="title"> {{ \'MY_FAVOURITE_LOCATIONS\' | translate }} </h2>\n            </div>\n        </div>\n        <component-swiper *ngIf="favParnerLocationsData && favParnerLocationsData.length > 0" [data]="favParnerLocationsData" [showTemplate]="3">\n        </component-swiper>\n\n        <div class="row" *ngIf="vouchersData && vouchersData.length > 0">\n            <div class="col-xs-12">\n                <h2 class="title">\n                    {{ "MY_VOUCHERS" | translate }}\n                    <button right ion-button round color="transparent" (click)="viewAll(\'MY_VOUCHERS\')">\n                        {{ "VIEW_ALL" | translate }}\n                    </button>\n                </h2>\n            </div>\n        </div>\n        <component-swiper *ngIf="vouchersData && vouchersData.length > 0" [data]="vouchersData" [showTemplate]="6">\n        </component-swiper>\n\n        <div class="row" *ngIf="transactionDates && transactionDates.length > 0">\n            <div class="col-xs-12">\n                <h2 class="title"> {{ \'RECENT_TRANSACTIONS\' | translate }} </h2>\n            </div>\n        </div>\n        <div class="card-holder" *ngIf="transactionDates && transactionDates.length > 0">\n            <div>\n                <span *ngFor="let i of transactionDates">\n                    <div class="date-row">\n                        {{i}}\n                    </div>\n                    <div class="data-row-recent" *ngFor="let profile of transactionsByDate[i]">\n                        <div class="row">\n                            <div class="col-xs-8">\n                                <h5>{{profile.transactionDescr}}</h5>\n                            </div>\n                            <div class="col-xs-4">\n                                <div class="points points-green" *ngIf="profile.redemptionMiles >= 0">\n                                    {{profile.redemptionMiles | number}} {{ languageConstants.POINTS | translate }}\n                                </div>\n                                <div class="points points-red" *ngIf="profile.redemptionMiles < 0">\n                                    {{profile.redemptionMiles | number}} {{ languageConstants.POINTS | translate }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </span>\n            </div>\n        </div>\n\n        <div class="result-status" *ngIf="shouldDisplayLoading == true">\n            <ion-spinner name="ios-small"></ion-spinner>\n        </div>\n\n    </div>\n\n\n</ion-content>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\profile\profile.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_12__constants_language_constants__["a" /* LanguageConstants */],
        __WEBPACK_IMPORTED_MODULE_15__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_offer_utils__["a" /* OfferUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_transaction_utils__["a" /* TransactionUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_target_utils__["a" /* TargetUtils */],
        __WEBPACK_IMPORTED_MODULE_16__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_13_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_14__services_commons_network_service__["a" /* NetworkService */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_11__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_18__utils_commons_sync_data_utils__["a" /* SyncDataUtils */]])
], ProfilePage);

//# sourceMappingURL=profile.js.map

/***/ }),

/***/ 661:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyTargetsAllPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__dto_account_dto__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_commons_client_utils__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var MyTargetsAllPage = (function () {
    function MyTargetsAllPage(navCtrl, navParams, clientUtils, configUtils, targetUtils, sessionUtils, mcfLoadService, serviceConstants, googleAnalyticsUtils, translate, appConstants) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.clientUtils = clientUtils;
        this.configUtils = configUtils;
        this.targetUtils = targetUtils;
        this.sessionUtils = sessionUtils;
        this.mcfLoadService = mcfLoadService;
        this.serviceConstants = serviceConstants;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.translate = translate;
        this.appConstants = appConstants;
        this.allMyTargets = [];
        this.shouldLoadMyTargetsAll = true;
        this.myTargetsAllIndex = 1;
        this.memberInfo = new __WEBPACK_IMPORTED_MODULE_6__dto_account_dto__["f" /* MemberInfo */]();
        //this.allMyTargets =  AllMyTargets
        //
    }
    MyTargetsAllPage.prototype.ngOnInit = function () {
        this.googleAnalyticsUtils.trackPage(this.appConstants.VIEW_ALL_TARGETS_SCREEN);
        this.navParamsData = this.navParams.data;
        this.pageTitle = this.navParamsData.pageTitle;
        this.allMyTargets = [];
        this.memberInfo = this.sessionUtils.getMemberInfo();
        this.loadData();
    };
    MyTargetsAllPage.prototype.loadData = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.shouldLoadMyTargetsAll) {
                var numOfRecords_1 = _this.configUtils.getNumOfRecordsForKey(_this.serviceConstants.PAGINATION_NO_OF_RECORDS);
                var startIndex = _this.myTargetsAllIndex;
                var endIndex_1 = _this.myTargetsAllIndex + numOfRecords_1 - 1;
                if (_this.allMyTargets.length <= 0)
                    _this.mcfLoadService.show('');
                _this.targetUtils.fetchAllTargets(startIndex, endIndex_1, function (result) {
                    _this.mcfLoadService.hide();
                    if (result.data && (result.data.length < numOfRecords_1)) {
                        _this.shouldLoadMyTargetsAll = false;
                    }
                    else {
                        _this.myTargetsAllIndex = endIndex_1 + 1;
                    }
                    var tempArray = _this.allMyTargets;
                    for (var _i = 0, _a = result.data; _i < _a.length; _i++) {
                        var item = _a[_i];
                        if ((item.targetStatus == '') ||
                            (item.targetStatus == 'I') ||
                            (item.targetStatus == 'A') ||
                            (item.targetStatus == 'E')) {
                            if (item.targetPoints > _this.memberInfo.availableBalanceMiles) {
                                var percentValue = Math.round((_this.memberInfo.availableBalanceMiles /
                                    item.targetPoints) * 100);
                                if (percentValue > 100) {
                                    percentValue = 100;
                                }
                                item.myTarget = percentValue;
                            }
                            else {
                                item.myTarget = 100;
                            }
                            tempArray.push(item);
                        }
                    }
                    _this.allMyTargets = tempArray;
                    var maxLimit = _this.configUtils.getPaginationLimit();
                    if (_this.allMyTargets.length >= maxLimit) {
                        _this.shouldLoadMyTargetsAll = false;
                    }
                    resolve(true);
                }, function (error) {
                    console.log('All Targets Error:\n' + JSON.stringify(error));
                    if (_this.allMyTargets.length <= 0) {
                        _this.mcfLoadService.hide();
                        var msg = '';
                        if (error && error.message && (error.message.trim().length > 0)) {
                            msg = error.message.trim();
                        }
                        else {
                            msg = _this.translate.instant('SOMETHING_WENT_WRONG');
                        }
                        _this.clientUtils.showToast(msg);
                    }
                    resolve(true);
                });
            }
            else {
                resolve(true);
            }
        });
    };
    MyTargetsAllPage.prototype.doInfinite = function (infiniteScroll) {
        this.loadData().then(function () {
            infiniteScroll.complete();
        });
    };
    return MyTargetsAllPage;
}());
MyTargetsAllPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-my-targets-all',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mytargetsall\my-targets-all.html"*/'<ion-header class="header-dark  " no-border>\n    <ion-navbar>\n        <ion-title>{{ pageTitle | translate }}</ion-title>\n    </ion-navbar>\n</ion-header>\n\n\n<ion-content padding no-bounce>\n    <span *ngFor="let data of allMyTargets">\n          <component-personal-target-list [data]="data"></component-personal-target-list>\n    </span>\n\n    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n        <ion-infinite-scroll-content></ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mytargetsall\my-targets-all.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_11__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_target_utils__["a" /* TargetUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_10__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_4__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_9__constants_app_constants__["a" /* AppConstants */]])
], MyTargetsAllPage);

//# sourceMappingURL=my-targets-all.js.map

/***/ }),

/***/ 662:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyVouchers; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__src_utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__src_constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dto_account_dto__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_ionic_native__ = __webpack_require__(98);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var MyVouchers = (function () {
    function MyVouchers(navCtrl, navParams, clientUtils, sessionUtils, googleAnalyticsUtils, appConstants, serviceConstants, configUtils, partnerUtils, translate) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.clientUtils = clientUtils;
        this.sessionUtils = sessionUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.serviceConstants = serviceConstants;
        this.configUtils = configUtils;
        this.partnerUtils = partnerUtils;
        this.translate = translate;
        this.memberInfo = new __WEBPACK_IMPORTED_MODULE_5__dto_account_dto__["f" /* MemberInfo */]();
        this.isLoadingPartners = false;
        this.isLoadingOffers = false;
        this.isLoadingLocations = false;
        this.isLoadingVouchers = false;
        this.isRefreshing = false;
        this.vouchersIndex = 1;
        this.vouchersSearchKey = "";
        this.myVouchers = [];
        this.utilizedVouchers = [];
        this.searchNoVoucherText = "";
        this.ALL_VOUCHERS_TAB = 'tab01';
        this.UTILIZED_VOUCHERS_TAB = 'tab02';
        this.activeTab = this.ALL_VOUCHERS_TAB;
        this.getMyVouchers('all');
    }
    MyVouchers.prototype.ngOnInit = function () {
        this.googleAnalyticsUtils.trackPage(this.appConstants.VIEW_ALL_VOUCHERS);
        this.navParamsData = this.navParams.data;
        this.pageTitle = this.navParamsData.pageTitle;
        console.log(JSON.stringify(this.navParamsData));
        this.myVouchers = [];
        this.memberInfo = this.sessionUtils.getMemberInfo();
    };
    MyVouchers.prototype.getMyVouchers = function (flag) {
        var _this = this;
        var numOfRecords = this.configUtils.getNumOfRecordsForKey(this.serviceConstants.PAGINATION_NO_OF_RECORDS);
        if (this.myVouchers.length == 0) {
            this.isLoadingVouchers = true;
        }
        this.partnerUtils.fetchMyVouchers(flag, function (result) {
            console.log(result);
            if (flag == 'N') {
                _this.utilizedVouchers = result.data; //this.myVouchers.filter(x => x.voucherUtilized == 'Y');
            }
            else {
                _this.myVouchers = result.data;
            }
            _this.isLoadingVouchers = false;
            var maxLimit = _this.configUtils.getPaginationLimit();
            if (_this.myVouchers.length == 0) {
                _this.searchNoVoucherText = _this.translate.instant("SEARCH_NO_PARTNER_VOUCHER");
            }
        }, function (error) {
            console.log("Search Locations Error:\n" + JSON.stringify(error));
            _this.isLoadingVouchers = false;
            _this.clientUtils.showToast(JSON.stringify(error));
        });
    };
    MyVouchers.prototype.activeTabEvent = function (tab) {
        __WEBPACK_IMPORTED_MODULE_11_ionic_native__["b" /* Keyboard */].close();
        var shouldLoadData = false;
        this.googleAnalyticsUtils.trackPage(this.appConstants.MY_VOUCHERS_SCREEN);
        if (tab == this.UTILIZED_VOUCHERS_TAB) {
            this.activeTab = this.UTILIZED_VOUCHERS_TAB;
            this.getMyVouchers('N');
            console.log('utilized : ' + JSON.stringify(this.utilizedVouchers));
        }
        else if (tab == this.ALL_VOUCHERS_TAB) {
            this.activeTab = this.ALL_VOUCHERS_TAB;
        }
        this.content.scrollToTop(0);
    };
    MyVouchers.prototype.doInfinite = function (infiniteScroll) {
        // this.loadData().then(() => {
        //     infiniteScroll.complete();
        // });
    };
    return MyVouchers;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_4_ionic_angular__["d" /* Content */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_4_ionic_angular__["d" /* Content */])
], MyVouchers.prototype, "content", void 0);
MyVouchers = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_3__angular_core__["u" /* Component */])({
        selector: 'page-my-vouchers',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\myvouchers\my-vouchers.html"*/'<ion-header class="header-dark  " no-border>\n\n    <ion-navbar>\n\n        <ion-title>{{ pageTitle | translate }}</ion-title>\n\n    </ion-navbar>\n\n    <div class="inline-tabs">\n\n        <ion-segment [(ngModel)]="activeTab">\n\n            <ion-segment-button value="tab01" (click)="activeTabEvent(ALL_VOUCHERS_TAB)">\n\n                {{ \'ALL\' | translate }}\n\n            </ion-segment-button>\n\n            <ion-segment-button value="tab02" (click)="activeTabEvent(UTILIZED_VOUCHERS_TAB)">\n\n                {{ \'UTILIZED\' | translate }}\n\n            </ion-segment-button>\n\n        </ion-segment>\n\n    </div>\n\n</ion-header>\n\n\n\n\n\n<ion-content class="contain-area-full" padding no-bounce>\n\n    <!-- <form action=".">\n\n            <ion-searchbar [(ngModel)]="vouchersSearchKey" [showCancelButton]="shouldShowCancel" [ngModelOptions]="{ standalone: true }"\n\n                (search)="searchWithKeyword(activeTab)" (ionCancel)="onCancel($event)" [placeholder]="searchByVoucherPlaceholder"\n\n                [animated]="false" [value]="" name="search">\n\n            </ion-searchbar>\n\n        </form>\n\n\n\n        <div class="margin-bottom"></div> -->\n\n    <div [ngSwitch]="activeTab" style="padding:0px">\n\n        <!--Tabs 01 start-->\n\n        <div class="tab01-holder " *ngSwitchCase="ALL_VOUCHERS_TAB">\n\n            <div class="search-result-status" *ngIf="!myVouchers || myVouchers.length == 0">\n\n                <ion-spinner name="ios-small" *ngIf="isLoadingVouchers == true"></ion-spinner>\n\n                <span>{{ searchNoVoucherText }}</span>\n\n            </div>\n\n            <div *ngIf="myVouchers && myVouchers.length > 0" class="voucher-search-result">\n\n                <div *ngFor="let voucher of myVouchers">\n\n                    <div class="voucher" > \n\n                        <div class="heading">\n\n                            <span class="desc">{{voucher.voucherDescription}}</span>\n\n                            <span class="free-space"></span>\n\n                            <span class="miles">-for {{ voucher.points }} miles</span>\n\n                        </div>\n\n                        <div class="margin-bottom"></div>\n\n                        <div style="font-size:11px;" *ngIf="voucher.issueDate">\n\n                            Issued on {{voucher.issueDate|date}}.\n\n                        </div>\n\n                        <div style="font-size:11px;" *ngIf="voucher.voucherUtilizedDate&&voucher.voucherUtilized==\'Y\'">\n\n                            Voucher utilized on {{voucher.voucherUtilizedDate|date}}.\n\n                        </div>\n\n                        <div style="font-size:11px;" *ngIf="voucher.expiryDate">\n\n                            Valid until {{voucher.expiryDate|date}}.\n\n                        </div>\n\n                        <div>\n\n                            <span style="font-size:11px;">Can be used at any location</span>\n\n                        </div>\n\n\n\n                    </div>\n\n                    <div class="voucher-strip">\n\n                        <div class="partner">\n\n                            <img [src]="voucher.partnerLogoPath" alt="" />\n\n                            <span>{{voucher.partnerDescription}}\n\n                            </span>\n\n                        </div>\n\n                    </div>\n\n                </div>\n\n                <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n\n                    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n\n                </ion-infinite-scroll>\n\n            </div>\n\n        </div>\n\n        <div class="tab02-holder " *ngSwitchCase="UTILIZED_VOUCHERS_TAB">\n\n            <div class="search-result-status" *ngIf="!myVouchers || myVouchers.length == 0">\n\n                <ion-spinner name="ios-small" *ngIf="isLoadingVouchers == true"></ion-spinner>\n\n                <span>{{ searchNoVoucherText }}</span>\n\n            </div>\n\n            <div *ngIf="myVouchers && myVouchers.length > 0" class="voucher-search-result">\n\n                <div *ngFor="let voucher of myVouchers">\n\n                    <div class="voucher">\n\n                        <div class="heading">\n\n                            <span class="desc">{{voucher.voucherDescription}}</span>\n\n                            <span class="free-space"></span>\n\n                            <span class="miles">-for {{ voucher.points }} miles</span>\n\n                        </div>\n\n                        <div class="margin-bottom"></div>\n\n                        <div style="font-size:11px;" *ngIf="voucher.issueDate">\n\n                            Issued on {{voucher.issueDate|date}}.\n\n                        </div>\n\n                        <div style="font-size:11px;" *ngIf="voucher.voucherUtilizedDate">\n\n                            Voucher utilized on {{voucher.voucherUtilizedDate|date}}.\n\n                        </div>\n\n                        <div style="font-size:11px;" *ngIf="voucher.expiryDate">\n\n                            Valid until {{voucher.expiryDate|date}}.\n\n                        </div>\n\n                        <div>\n\n                            <span style="font-size:11px;">Can be used at any location</span>\n\n                        </div>\n\n\n\n                    </div>\n\n                    <div class="voucher-strip">\n\n                        <div class="partner">\n\n                            <img [src]="voucher.partnerLogoPath" alt="" />\n\n                            <span>{{voucher.partnerDescription}}\n\n                            </span>\n\n                        </div>\n\n                    </div>\n\n                </div>\n\n                <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n\n                    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n\n                </ion-infinite-scroll>\n\n            </div>\n\n        </div>\n\n\n\n    </div>\n\n\n\n</ion-content>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\myvouchers\my-vouchers.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_4_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2__src_constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_1__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_0__src_utils_commons_partner_utils__["a" /* PartnerUtils */],
        __WEBPACK_IMPORTED_MODULE_10_ng2_translate__["c" /* TranslateService */]])
], MyVouchers);

//# sourceMappingURL=my-vouchers.js.map

/***/ }),

/***/ 663:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_device_utils__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_config_utils__ = __webpack_require__(19);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SettingsPage = (function () {
    function SettingsPage(navCtrl, navParams, events, googleAnalyticsUtils, appConstants, deviceUtils, globalizationUtils, configUtils, mcfLoadService) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.events = events;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.deviceUtils = deviceUtils;
        this.globalizationUtils = globalizationUtils;
        this.configUtils = configUtils;
        this.mcfLoadService = mcfLoadService;
        this.appNotification = false;
        this.partnerNotification = false;
        this.shouldFireRequest = false;
        this.languageList = [];
        this.selectedLanguageCode = '';
        this.backgroundImageURL = '';
    }
    SettingsPage.prototype.ngOnInit = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackPage(this.appConstants.APP_SETTINGS_SCREEN);
        this.events.subscribe(this.appConstants.EVENT_CONFIG_DATA_CHANGED, function () {
            _this.backgroundImageURL = _this.configUtils.getAppBackgroundImageURL();
        });
        this.deviceUtils.checkNotificationPermission(function (isEnabled) {
            _this.partnerNotification = (_this.deviceUtils.getPartnerNotificationFlag() == 'Y');
            _this.appNotification = (_this.deviceUtils.getAppNotificationFlag() == 'Y');
        });
        this.selectedLanguageCode = this.globalizationUtils.getAppLanguage();
        var languageCodes = this.configUtils.getLanguageCodes();
        var availableLanguages = this.globalizationUtils.getAvailableLanguages();
        this.languageList = [];
        for (var i = 0; i < languageCodes.length; i++) {
            for (var j = 0; j < availableLanguages.length; j++) {
                var language = availableLanguages[j];
                if (language.code == languageCodes[i]) {
                    this.languageList.push(language);
                    break;
                }
            }
        }
        //Fix: ion-toggle related issue
        setTimeout(function () {
            _this.shouldFireRequest = true;
        }, 1000);
    };
    SettingsPage.prototype.ngAfterViewInit = function () {
        this.backgroundImageURL = this.configUtils.getAppBackgroundImageURL();
    };
    SettingsPage.prototype.updateLang = function (languageCode) {
        this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_SETTINGS_SCREEN, this.appConstants.APP_SETTINGS_LANGUAGE_EVENT);
        if (this.selectedLanguageCode != languageCode) {
            this.selectedLanguageCode = languageCode;
            this.globalizationUtils.updateAppLanguage(languageCode);
            this.globalizationUtils.saveUserChangedAppLanguageSettings('Y');
        }
    };
    SettingsPage.prototype.appNotificationToggle = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.APP_SETTINGS_SCREEN, this.appConstants.APP_SETTINGS_NOTIFICATION_EVENT);
        if (this.shouldFireRequest) {
            this.deviceUtils.checkNotificationPermission(function (isEnabled) {
                if (isEnabled) {
                    _this.updateAppNotificationToggle();
                }
                else {
                    if (_this.appNotification) {
                        _this.deviceUtils.openSettings();
                        _this.navCtrl.pop();
                    }
                    else {
                        _this.updateAppNotificationToggle();
                    }
                }
            });
        }
    };
    SettingsPage.prototype.updateAppNotificationToggle = function () {
        var _this = this;
        if (this.appNotification === false) {
            this.deviceUtils.saveUserChangedNotificationSettings('Y');
        }
        this.partnerNotification = this.appNotification;
        this.mcfLoadService.show('');
        this.deviceUtils.updateAppNotificationFlag(this.appNotification, function () {
            _this.mcfLoadService.hide();
        });
    };
    SettingsPage.prototype.partnerNotificationToggle = function () {
        var _this = this;
        if (this.shouldFireRequest) {
            this.deviceUtils.savePartnerNotificationFlag((this.partnerNotification === true) ? 'Y' : 'N');
            this.mcfLoadService.show('');
            this.deviceUtils.registerDeviceToken(function (result) {
                _this.mcfLoadService.hide();
            }, function (error) {
                _this.mcfLoadService.hide();
            });
        }
    };
    return SettingsPage;
}());
SettingsPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-settings',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\settings\settings.html"*/'<ion-header class="header-dark no-back-button-text" no-border>\n    <ion-navbar>\n        <ion-title>{{ \'App Settings\' | translate }}</ion-title>\n    </ion-navbar>\n\n</ion-header>\n\n<ion-content class="app-background-image"\n             [style.background-image]="\'url(\' + backgroundImageURL +\')\'"\n             padding>\n\n    <ion-list>\n        <ion-list-header class="list-item-header item-transparent item-left-zero item-border-none">\n            <ion-icon name="notifications"></ion-icon>\n            {{\'NOTIFICATIONS\' | translate}}\n        </ion-list-header>\n\n        <ion-item class="item-transparent item-left-zero item-border-none">\n            <ion-label>{{\'APP_NOTIFICATIONS\' | translate}}</ion-label>\n            <ion-toggle color="primary"\n                        [(ngModel)]="appNotification"\n                        (ionChange)="appNotificationToggle()">\n            </ion-toggle>\n        </ion-item>\n        <!--<ion-item class="item-transparent item-left-zero item-border-none">-->\n        <!--<ion-label>{{\'PARTNERS_NOTIFICATIONS\' | translate}}</ion-label>-->\n        <!--<ion-toggle color="primary"-->\n        <!--[(ngModel)]="partnerNotification"-->\n        <!--(ionChange)="partnerNotificationToggle()">-->\n        <!--</ion-toggle>-->\n        <!--</ion-item>-->\n    </ion-list>\n\n    <ion-list *ngIf="languageList && (languageList.length > 1)">\n        <ion-list-header class="list-item-header item-transparent item-left-zero item-border-none">\n            <ion-icon name="icon-location"></ion-icon>\n            {{\'LANGUAGE\' | translate}}\n        </ion-list-header>\n\n        <ion-item class="item-transparent item-left-zero item-border-none">\n            <ion-label> {{\'LANGUAGE\' | translate}}</ion-label>\n            <ion-select cancelText="{{\'CANCEL\' | translate}}"\n                        okText="{{\'SELECT\' | translate}}"\n                        (ionChange)="updateLang($event)">\n\n                <ion-option *ngFor="let lang of languageList"\n                            [value]="lang.code"\n                            [selected]="lang.code === selectedLanguageCode">\n                    {{lang.description }}\n                </ion-option>\n\n            </ion-select>\n        </ion-item>\n    </ion-list>\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\settings\settings.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_2__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_device_utils__["a" /* DeviceUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_5__services_commons_service_loading__["a" /* McfLoaderService */]])
], SettingsPage);

//# sourceMappingURL=settings.js.map

/***/ }),

/***/ 664:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfflinePopupPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var OfflinePopupPage = (function () {
    function OfflinePopupPage(navCtrl, navParams, viewController) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewController = viewController;
    }
    OfflinePopupPage.prototype.ngOnInit = function () {
        this.dataObj = this.navParams.get('data');
        this.offlineMsg = this.dataObj.offlineMsg;
        // console.log(JSON.stringify(this.offlineMsg));
    };
    OfflinePopupPage.prototype.dismiss = function () {
        this.viewController.dismiss();
    };
    return OfflinePopupPage;
}());
OfflinePopupPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\offline-popup\offline-popup.html"*/'<ion-header class="header-dark offer-popup-content ">\n    <ion-navbar>\n\n        <ion-buttons start>\n            <button ion-button icon-only (click)="dismiss()">\n                <ion-icon name="close-circle"></ion-icon>\n            </button>\n        </ion-buttons>\n\n        <ion-title>{{ \'WHAT_IS_OFFLINE_MODE\' | translate }}</ion-title>\n\n    </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n    <div class="in-app-browser-anchor" onclick="onInnerHTMLTap(event)" [innerHTML]="offlineMsg"></div>\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\offline-popup\offline-popup.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */]])
], OfflinePopupPage);

//# sourceMappingURL=offline-popup.js.map

/***/ }),

/***/ 665:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TutorialPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_user_utils__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_user_address_utils__ = __webpack_require__(97);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_lov_item_utils__ = __webpack_require__(311);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pages_tabs_tabs__ = __webpack_require__(312);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

















var TutorialPage = (function () {
    function TutorialPage(navCtrl, clientUtils, userUtils, sessionUtils, configUtils, userAddressUtils, googleAnalyticsUtils, appConstants, lovItemUtils, mcfLoadService, translate, networkService, appCtrl) {
        this.navCtrl = navCtrl;
        this.clientUtils = clientUtils;
        this.userUtils = userUtils;
        this.sessionUtils = sessionUtils;
        this.configUtils = configUtils;
        this.userAddressUtils = userAddressUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.lovItemUtils = lovItemUtils;
        this.mcfLoadService = mcfLoadService;
        this.translate = translate;
        this.networkService = networkService;
        this.appCtrl = appCtrl;
    }
    TutorialPage.prototype.ngOnInit = function () {
    };
    TutorialPage.prototype.ngAfterViewInit = function () {
    };
    TutorialPage.prototype.goToSlide = function (n) {
        this.slides.slideNext();
    };
    TutorialPage.prototype.goToHome = function () {
        this.appCtrl.getRootNav().push(__WEBPACK_IMPORTED_MODULE_13__pages_tabs_tabs__["a" /* TabsPage */]);
    };
    return TutorialPage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["r" /* Slides */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["r" /* Slides */])
], TutorialPage.prototype, "slides", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["m" /* Nav */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */])
], TutorialPage.prototype, "nav", void 0);
TutorialPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'tutorial',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\tutorial\tutorial.html"*/'<ion-content>\n    <ion-slides pager="true" loop="false" speed="500" dir="ltr">\n        <ion-slide>\n            <img src="assets/img/In-App Tutorial-4-1.jpg" />\n        </ion-slide>\n\n        <ion-slide>\n            <img src="assets/img/In-App Tutorial-4-2.jpg" />\n        </ion-slide>\n\n        <ion-slide>\n            <img src="assets/img/In-App Tutorial-4-3.jpg" />\n\n        </ion-slide>\n        <ion-slide>\n            <img src="assets/img/In-App Tutorial-4-4.jpg" />\n            <div class="turorial-continue">\n                <img (click)="goToHome()" src="assets/img/continue.jpg" />\n            </div>\n        </ion-slide>\n        <!-- <ion-slide>\n            <img src="assets/img/In-App Tutorial-4-4.jpg" usemap="#image-map">\n            <div (click)="goToHome()" class="nextBtn">Finish</div>\n            <map name="image-map">\n                <area target="" alt="" title="" href="" coords="598,3464,1644,3690" shape="rect" (click)="goToHome()">\n            </map>\n        </ion-slide> -->\n\n    </ion-slides>\n</ion-content>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\tutorial\tutorial.html"*/,
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_user_utils__["a" /* UserUtils */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_user_address_utils__["a" /* UserAddressUtils */],
        __WEBPACK_IMPORTED_MODULE_11__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_12__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_lov_item_utils__["a" /* LovItemUtils */],
        __WEBPACK_IMPORTED_MODULE_9__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_10__services_commons_network_service__["a" /* NetworkService */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* App */]])
], TutorialPage);

//# sourceMappingURL=tutorial.js.map

/***/ }),

/***/ 666:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ForceUpdatePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_user_utils__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils_commons_device_utils__ = __webpack_require__(144);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ForceUpdatePage = (function () {
    function ForceUpdatePage(viewController, events, userUtils, configUtils, appConstants, translate, networkService, render, googleAnalyticsUtils, clientUtils, sessionUtils, modalCtrl, globalizationUtils, serviceConstants, deviceUtils) {
        this.viewController = viewController;
        this.events = events;
        this.userUtils = userUtils;
        this.configUtils = configUtils;
        this.appConstants = appConstants;
        this.translate = translate;
        this.networkService = networkService;
        this.render = render;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.clientUtils = clientUtils;
        this.sessionUtils = sessionUtils;
        this.modalCtrl = modalCtrl;
        this.globalizationUtils = globalizationUtils;
        this.serviceConstants = serviceConstants;
        this.deviceUtils = deviceUtils;
        this.memberInfo = null;
    }
    ForceUpdatePage.prototype.ngOnInit = function () {
        this.addClassToBody();
        this.memberInfo = this.sessionUtils.getMemberInfo();
        this.checkForceUpdateRequired();
    };
    ForceUpdatePage.prototype.addClassToBody = function () {
        this.body = document.getElementsByTagName('body')[0];
        this.render.setElementClass(this.body, this.getModalClassName(), true);
    };
    ForceUpdatePage.prototype.getModalClassName = function () {
        var value = 'loginSmallModal-280';
        var rows = 0;
        if (rows == 1) {
            value = 'loginSmallModal-320';
        }
        else if (rows == 2) {
            value = 'loginSmallModal-360';
        }
        else if (rows == 3) {
            value = 'loginSmallModal-400';
        }
        return value;
    };
    ForceUpdatePage.prototype.checkForceUpdateRequired = function () {
        var forceUpdateObj = this.configUtils.getForceUpdateObj();
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode == 'en-US') {
            this.UpdateMessage = forceUpdateObj.updateMsgEN;
        }
        else if (langCode == 'es-ES') {
            this.UpdateMessage = forceUpdateObj.updateMsgES;
        }
    };
    ForceUpdatePage.prototype.submitButtonTapped = function () {
        var url = this.configUtils.getStoreUrl(this.deviceUtils.getPlatformName());
        this.clientUtils.openWebURL(url);
    };
    return ForceUpdatePage;
}());
ForceUpdatePage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\forceUpdate\forceUpdate.html"*/'<ion-content class=" login-modal-small no-scroll">\n    <div class="login-box">\n        <div class="container">\n            <div style="margin-bottom:2rem;">\n                {{UpdateMessage}}\n            </div>\n            <!-- <div class="row">\n                <div class="col-xs-12">\n                    <div class="privacy-terms-checkbox">\n                        <ion-checkbox [(ngModel)]="acceptTerms"></ion-checkbox>\n                        <span>{{\'I have read and agree with the\' | translate}}\n                            <a (click)="termsConditionsTapped()">\n                                {{\'Terms n Conditions\' | translate}}\n                            </a> and\n                            <a (click)="privacyPolicyTapped()">\n                                {{\'Privacy Policy\' | translate}}\n                            </a>.\n                        </span>\n                    </div>\n                </div>\n            </div> -->\n            <div class="row">\n                <div class="col-xs-12 button-container" style="margin-top: 2rem;">\n                    <button ion-button class="submit-btn nochnageonhover" full (click)="submitButtonTapped()">\n                        {{\'OK\' | translate}}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</ion-content>'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\forceUpdate\forceUpdate.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_user_utils__["a" /* UserUtils */],
        __WEBPACK_IMPORTED_MODULE_5__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_7__services_commons_network_service__["a" /* NetworkService */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_8__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_9__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_10__utils_commons_globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_11__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_12__utils_commons_device_utils__["a" /* DeviceUtils */]])
], ForceUpdatePage);

//# sourceMappingURL=forceUpdate.js.map

/***/ }),

/***/ 667:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OffersPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_session_utils__ = __webpack_require__(10);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var OffersPage = (function () {
    function OffersPage(navCtrl, navParams, modalCtrl, sessionUtils, googleAnalyticsUtils, appConstants) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.sessionUtils = sessionUtils;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
    }
    OffersPage.prototype.ngOnInit = function () {
        this.sendGATrackPage();
        this.offersData = this.navParams.data.data;
        this.currentIndex = this.navParams.data.currentIndex;
        this.pageTitle = this.offersData[0].pageTitle;
        // console.log(JSON.stringify(this.offersData));
    };
    OffersPage.prototype.sendGATrackPage = function () {
        if (this.pageTitle == this.appConstants.HEADING_NEAR_ME_OFFERS) {
            if (this.sessionUtils.isUserLoggedIn()) {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.NEAR_ME_OFFER_SCREEN);
            }
            else {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.NEAR_ME_OFFER_SCREEN);
            }
        }
        else if (this.pageTitle == this.appConstants.HEADING_NEAR_ME_STORES) {
            if (this.sessionUtils.isUserLoggedIn()) {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.NEAR_ME_STORE_SCREEN);
            }
            else {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.NEAR_ME_STORE_SCREEN);
            }
        }
        else if (this.pageTitle == this.appConstants.HEADING_RECOMMENDED_OFFERS) {
            if (this.sessionUtils.isUserLoggedIn()) {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.USER_HOME_SCREEN, this.appConstants.RECOMMENDED_OFFER_SCREEN);
            }
            else {
                this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.RECOMMENDED_OFFER_SCREEN);
            }
        }
        else if (this.pageTitle == this.appConstants.HEADING_MY_FAVOURITE_OFFERS) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.MY_FAVORITES_OFFER_SCREEN);
        }
        else if (this.pageTitle == this.appConstants.HEADING_MY_FAVOURITE_LOCATIONS) {
            this.googleAnalyticsUtils.trackEvent(this.appConstants.GUEST_HOME_SCREEN, this.appConstants.MY_FAVORITES_LOCATION_SCREEN);
        }
    };
    return OffersPage;
}());
OffersPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-offers',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\offers\offers.html"*/'<ion-header class="header-dark no-back-button-text" no-border>\n    <ion-navbar>\n        <ion-title>{{pageTitle | translate}}</ion-title>\n    </ion-navbar>\n</ion-header>\n\n<ion-content class="dark-body-color no-scroll" no-bounce>\n    <component-swiper [data]="offersData" [activeSlide]="currentIndex" [showTemplate]="2"></component-swiper>\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\offers\offers.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_2__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_3__constants_app_constants__["a" /* AppConstants */]])
], OffersPage);

//# sourceMappingURL=offers.js.map

/***/ }),

/***/ 668:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OffersPopupPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_client_utils__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var OffersPopupPage = (function () {
    function OffersPopupPage(navCtrl, navParams, viewController, serviceConstants, clientUtils) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewController = viewController;
        this.serviceConstants = serviceConstants;
        this.clientUtils = clientUtils;
        this.dataObj = navParams.get('data');
    }
    OffersPopupPage.prototype.ngOnInit = function () {
        // console.log('OffersPopupPage : ' + JSON.stringify(this.dataObj));
    };
    OffersPopupPage.prototype.dismiss = function () {
        this.viewController.dismiss();
        //this.navCtrl.setRoot(mEngageApp)
    };
    OffersPopupPage.prototype.openWebSite = function () {
        this.clientUtils.openWebURL(this.dataObj.terms);
    };
    return OffersPopupPage;
}());
OffersPopupPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\offers-popup\offers-popup.html"*/'\n\n<ion-header class="header-dark offer-popup-content ">\n    <ion-navbar>\n\n        <ion-buttons start>\n            <button ion-button icon-only (click)="dismiss()">\n                <ion-icon name="close-circle"></ion-icon>\n            </button>\n        </ion-buttons>\n\n        <ion-title>{{dataObj.title}}</ion-title>\n\n    </ion-navbar>\n\n</ion-header>\n\n\n\n\n<ion-content padding>\n\n    <img *ngIf="dataObj.img" [src]="dataObj.img" alt="">\n    <!--<h3>{{ \'ABOUT\' | translate }} : </h3>-->\n\n    <div class="in-app-browser-anchor" onclick="onInnerHTMLTap(event)" [innerHTML]="dataObj.description"></div>\n\n    <div *ngIf="dataObj.terms && dataObj.termsType === serviceConstants.TERMS_CONTENT_TYPE_H">\n        <br/>\n        <h5>{{ \'Terms n Conditions\' | translate }} : </h5>\n        <div class="in-app-browser-anchor" onclick="onInnerHTMLTap(event)" [innerHTML]="dataObj.terms"></div>\n    </div>\n    <div *ngIf="dataObj.terms && dataObj.termsType === serviceConstants.TERMS_CONTENT_TYPE_U">\n        <a (click)="openWebSite()">\n            {{ \'Terms n Conditions\' | translate }}\n        </a>\n    </div>\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\widgets\offers-popup\offers-popup.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* ViewController */],
        __WEBPACK_IMPORTED_MODULE_2__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_client_utils__["a" /* ClientUtils */]])
], OffersPopupPage);

//# sourceMappingURL=offers-popup.js.map

/***/ }),

/***/ 669:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyTargetsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__widgets_target_popup_target__ = __webpack_require__(315);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils_commons_target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_client_utils__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var MyTargetsPage = (function () {
    function MyTargetsPage(navCtrl, navParams, modalCtrl, render, translate, googleAnalyticsUtils, targetUtils, clientUtils, appConstants) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.render = render;
        this.translate = translate;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.targetUtils = targetUtils;
        this.clientUtils = clientUtils;
        this.appConstants = appConstants;
        this.personalTargetList = null;
        this.offerTargetList = null;
        this.currentIndex = 0;
    }
    MyTargetsPage.prototype.ngOnInit = function () {
        this.currentIndex = this.navParams.data.currentIndex;
        this.pageTitle = this.navParams.data.pageTitle;
        this.personalTargetList = this.navParams.data.personalTargets;
        this.offerTargetList = this.navParams.data.offerTargets;
        this.googleAnalyticsUtils.trackPage(this.appConstants.MY_TARGETS_SCREEN);
    };
    MyTargetsPage.prototype.setTarget = function () {
        var _this = this;
        this.googleAnalyticsUtils.trackEvent(this.appConstants.MY_TARGETS_SCREEN, this.appConstants.CREATE_PERSONAL_TARGET_EVENT);
        if (!this.targetUtils.isTargetLimitReached()) {
            var body_1 = document.getElementsByTagName('body')[0];
            var opts = {
                showBackdrop: true,
                enableBackdropDismiss: true
            };
            var data = "";
            var profileModal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__widgets_target_popup_target__["a" /* TargetPopupPage */], { data: data }, opts);
            profileModal.onDidDismiss(function (value) {
                _this.render.setElementClass(body_1, 'smallModal', false);
                if ((value == true) && _this.navCtrl) {
                    _this.navCtrl.pop();
                }
            });
            this.render.setElementClass(body_1, 'smallModal', true);
            profileModal.present();
        }
        else {
            this.clientUtils.showToast(this.translate.instant('SET_TARGET_LIMIT_REACHED'));
        }
    };
    return MyTargetsPage;
}());
MyTargetsPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-my-targets',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mytargets\my-targets.html"*/'<ion-header class="header-dark no-back-button-text" no-border>\n\n    <ion-navbar>\n        <ion-title>{{pageTitle | translate}}</ion-title>\n    </ion-navbar>\n\n</ion-header>\n\n\n<ion-content class="dark-body-color my-targets-page" no-bounce>\n\n\n    <component-swiper *ngIf="offerTargetList && personalTargetList"\n            [data]="offerTargetList"\n            [activeSlide]="currentIndex"\n            [personalTargetData]="personalTargetList"\n            [showTemplate]="4"\n            [isMyTarget]="true"\n    >\n    </component-swiper>\n\n    <div class="add-new-target">\n        <ion-icon name="ios-add-circle-outline" (click)="setTarget()"></ion-icon>\n    </div>\n\n</ion-content>\n\n\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\mytargets\my-targets.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["l" /* ModalController */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["_4" /* Renderer */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_6__utils_commons_target_utils__["a" /* TargetUtils */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_5__constants_app_constants__["a" /* AppConstants */]])
], MyTargetsPage);

//# sourceMappingURL=my-targets.js.map

/***/ }),

/***/ 670:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PartnersPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var PartnersPage = (function () {
    function PartnersPage(navCtrl, navParams, translate, configUtils, offerUtils, mcfLoadService, googleAnalyticsUtils, appConstants, serviceConstants) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.translate = translate;
        this.configUtils = configUtils;
        this.offerUtils = offerUtils;
        this.mcfLoadService = mcfLoadService;
        this.googleAnalyticsUtils = googleAnalyticsUtils;
        this.appConstants = appConstants;
        this.serviceConstants = serviceConstants;
        this.pageTitle = '';
        this.partnerLocationInfo = null;
        this.offers = [];
        this.isRefreshing = false;
        this.shouldLoadOffers = true;
        this.offersIndex = 1;
        this.noOfferText = '';
    }
    PartnersPage.prototype.ngOnInit = function () {
        this.googleAnalyticsUtils.trackPage(this.appConstants.PARTNER_LOCATION_DETAIL_SCREEN);
        if (this.navParams && this.navParams.data) {
            this.pageTitle = this.navParams.data.pageUrl;
            this.partnerLocationInfo = this.navParams.data.partnerDetail;
        }
        this.fetchOffersByLocation();
    };
    PartnersPage.prototype.doInfinite = function (infiniteScroll) {
        this.fetchOffersByLocation().then(function () {
            infiniteScroll.complete();
        });
    };
    PartnersPage.prototype.fetchOffersByLocation = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.shouldLoadOffers && _this.partnerLocationInfo.addressId) {
                var numOfRecords_1 = _this.configUtils.getNumOfRecordsForKey(_this.serviceConstants.PAGINATION_NO_OF_RECORDS);
                var startIndex = _this.offersIndex;
                var endIndex_1 = _this.offersIndex + numOfRecords_1 - 1;
                if (_this.offers.length <= 0)
                    _this.mcfLoadService.show('');
                _this.offerUtils.fetchOffersPartnerLocation(_this.partnerLocationInfo.addressId, startIndex, endIndex_1, function (result) {
                    _this.mcfLoadService.hide();
                    if (result.data && (result.data.length < numOfRecords_1)) {
                        _this.shouldLoadOffers = false;
                    }
                    else {
                        _this.offersIndex = endIndex_1 + 1;
                    }
                    var tempArray = _this.offers;
                    for (var _i = 0, _a = result.data; _i < _a.length; _i++) {
                        var item = _a[_i];
                        tempArray.push(item);
                    }
                    _this.offers = tempArray;
                    var maxLimit = _this.configUtils.getPaginationLimit();
                    if (_this.offers.length >= maxLimit) {
                        _this.shouldLoadOffers = false;
                    }
                    _this.noOfferText = _this.translate.instant('SEARCH_NO_OFFER');
                    resolve(true);
                }, function (error) {
                    console.log('Fetch Offers By Location Error :\n' + JSON.stringify(error));
                    _this.mcfLoadService.hide();
                    resolve(true);
                });
            }
            else {
                resolve(true);
            }
        });
    };
    PartnersPage.prototype.refreshButtonTapped = function () {
        var _this = this;
        if (this.isRefreshing != true) {
            this.isRefreshing = true;
            this.content.scrollToTop(0);
            this.noOfferText = '';
            this.offers = [];
            this.offersIndex = 1;
            this.shouldLoadOffers = true;
            this.fetchOffersByLocation().then(function () {
                _this.isRefreshing = false;
            });
        }
    };
    return PartnersPage;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_17" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */]),
    __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* Content */])
], PartnersPage.prototype, "content", void 0);
PartnersPage = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'page-partners',template:/*ion-inline-start:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\partners\partners.html"*/'<ion-header class=" header-dark no-back-button-text" no-border>\n    <ion-navbar color="transparent">\n        <ion-title>{{pageTitle}}</ion-title>\n        <ion-buttons end>\n            <button ion-button class="icon-white" (click)="refreshButtonTapped()">\n                    <span class="spin-animation">\n                        <ion-icon name="md-sync" [ngClass]="{\'spin-elem\': isRefreshing}"></ion-icon>\n                    </span>\n            </button>\n        </ion-buttons>\n    </ion-navbar>\n\n</ion-header>\n\n\n<ion-content  class="contain-area" parallax-header>\n\n\n    <partners-detail-header-component></partners-detail-header-component>\n\n    <div class="contain-area" padding>\n\n        <div class="search-result-status" *ngIf="!offers || (offers.length == 0)">\n            <span>{{noOfferText}}</span>\n        </div>\n        <div *ngFor="let data of offers">\n            <expandable-component [data]="data"></expandable-component>\n        </div>\n\n        <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n            <ion-infinite-scroll-content></ion-infinite-scroll-content>\n        </ion-infinite-scroll>\n    </div>\n\n\n\n</ion-content>\n'/*ion-inline-end:"C:\Users\204866\Documents\Mobile\Code_to_sunil\app_PAL\src\pages\partners\partners.html"*/
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["n" /* NavController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["o" /* NavParams */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_3__utils_commons_config_utils__["a" /* ConfigUtils */],
        __WEBPACK_IMPORTED_MODULE_4__utils_commons_offer_utils__["a" /* OfferUtils */],
        __WEBPACK_IMPORTED_MODULE_6__services_commons_service_loading__["a" /* McfLoaderService */],
        __WEBPACK_IMPORTED_MODULE_7__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
        __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__["a" /* ServiceConstants */]])
], PartnersPage);

//# sourceMappingURL=partners.js.map

/***/ }),

/***/ 671:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__ = __webpack_require__(672);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_module__ = __webpack_require__(768);


Object(__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_1__app_module__["a" /* AppModule */]);
//# sourceMappingURL=main.js.map

/***/ }),

/***/ 7:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppConstants; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by C00121 on 18/01/2017.
 */

var AppConstants = (function () {
    function AppConstants() {
        this.APP_TENANT_CODE_XX = 'XX';
        this.APP_TENANT_CODE_AM = 'AM';
        this.APP_TENANT_CODE_PR = 'PR';
        this.APP_TENANT_CODE_PX = 'PX';
        this.APP_ENVIRONMENT_TYPE_DEV = 'DEV';
        this.APP_ENVIRONMENT_TYPE_TEST = 'TEST';
        this.APP_ENVIRONMENT_TYPE_MAINTENANCE = 'MAINT';
        this.APP_ENVIRONMENT_TYPE_PROD = 'PROD';
        //Default Service Config
        this.DEFAULT_NUM_OF_RECORDS = 5; //Number of Records
        this.DEFAULT_PAGINATION_LIMIT = 200; //Number of Records
        this.DEFAULT_RANGE_FOR_REGION_TRACK = 1000.0; //Meters
        this.DEFAULT_BULK_DATA_SYNC_INTERVAL = 24; //Hours
        //Universal Analytics Tags
        this.GUEST_HOME_SCREEN = 'GUEST HOME SCREEN';
        this.LOGIN_EVENT = 'LOGIN EVENT';
        this.GEO_LOCATION_SEARCH_EVENT = 'GEO LOCATION SEARCH EVENT';
        this.FETCH_CURRENT_GEO_LOCATION_EVENT = 'FETCH CURRENT GEO LOCATION EVENT';
        this.GEO_LOCATION_SEARCH_SCREEN = 'GEO LOCATION SEARCH SCREEN';
        this.NEAR_ME_OFFER_EVENT = 'NEAR ME OFFER EVENT';
        this.NEAR_ME_STORE_EVENT = 'NEAR ME STORE EVENT';
        this.RECOMMENDED_OFFER_EVENT = 'RECOMMENDED OFFER EVENT';
        this.FEATURED_PARTNER_EVENT = 'FEATURED PARTNER EVENT';
        this.USER_HOME_SCREEN = 'USER HOME SCREEN';
        this.LOGIN_SCREEN = 'LOGIN SCREEN';
        this.LOGIN_SUCCESSFUL = 'LOGIN SUCCESSFUL';
        this.LOGIN_UNSUCCESSFUL = 'LOGIN UNSUCCESSFUL';
        this.MENU_EVENT = 'MENU EVENT';
        this.CHAT_EVENT = 'CHAT EVENT';
        this.CONTACTS_EVENT = 'CONTACTS EVENT';
        this.RATE_THE_APP_EVENT = 'RATE THE APP EVENT';
        this.APP_SETTINGS_EVENT = 'APP SETTINGS EVENT';
        this.APP_SETTINGS_SCREEN = 'APP SETTINGS SCREEN';
        this.APP_TERMS_AND_CONDITIONS_EVENT = 'APP TERMS AND CONDITIONS EVENT';
        this.APP_TERMS_AND_CONDITIONS_SCREEN = 'APP TERMS AND CONDITIONS SCREEN';
        this.MOBILE_APP_STORE_LINK_EVENT = 'MOBILE APP STORE LINK EVENT';
        this.LOGOUT_EVENT = 'LOGOUT EVENT';
        this.MY_PROFILE_EVENT = 'MY PROFILE EVENT';
        this.MY_PROFILE_SCREEN = 'MY PROFILE SCREEN';
        this.MY_TARGETS_SCREEN = 'MY TARGETS SCREEN';
        this.MY_TARGETS_EVENT = 'MY TARGETS EVENT';
        this.MY_FAVORITES_OFFER_SCREEN = 'MY FAVORITES OFFER SCREEN';
        this.MY_FAVORITES_OFFER_EVENT = 'MY FAVORITES OFFER EVENT';
        this.MY_FAVORITES_LOCATION_SCREEN = 'MY FAVORITES LOCATION SCREEN';
        this.MY_FAVORITES_LOCATION_EVENT = 'MY FAVORITES LOCATION EVENT';
        this.MY_VOUCHERS_SCREEN = 'MY_VOUCHERS_SCREEN';
        this.NEAR_ME_OFFER_SCREEN = 'NEAR ME OFFER SCREEN';
        this.NEAR_ME_STORE_SCREEN = 'NEAR ME STORE SCREEN';
        this.RECOMMENDED_OFFER_SCREEN = 'RECOMMENDED OFFER SCREEN';
        this.PARTNER_LOCATION_DETAIL_SCREEN = 'PARTNER LOCATION DETAIL SCREEN';
        this.PARTNER_LOCATION_CARD = 'PARTNER LOCATION CARD';
        this.OFFER_CARD = 'OFFER CARD';
        this.TERGET_CARD = 'TARGET CARD';
        this.PARTNER_DETAIL_SCREEN = 'PARTNER DETAIL SCREEN';
        this.LIKE_OFFER_EVENT = 'LIKE OFFER EVENT';
        this.UNLIKE_OFFER_EVENT = 'UNLIKE OFFER EVENT';
        this.TARGET_OFFER_EVENT = 'TARGET OFFER EVENT';
        this.LOCATION_OFFER_EVENT = 'LOCATION OFFER EVENT';
        this.LIKE_LOCATION_EVENT = 'LIKE LOCATION EVENT';
        this.UNLIKE_LOCATION_EVENT = 'UNLIKE LOCATION EVENT';
        this.LIKE_PARTNER_EVENT = 'LIKE PARTNER EVENT';
        this.UNLIKE_PARTNER_EVENT = 'UNLIKE PARTNER EVENT';
        this.CHECKIN_LOCATION_EVENT = 'CHECKIN LOCATION EVENT';
        this.VIRTUAL_CARD_SCREEN = 'VIRTUAL CARD SCREEN';
        this.QR_CODE_EVENT = 'QR CODE EVENT';
        this.QR_CODE_SCREEN = 'QR CODE SCREEN';
        this.FULL_SCREEN_EVENT = 'FULL SCREEN EVENT';
        this.FULL_SCREEN_SCREEN = 'FULL SCREEN SCREEN';
        this.FLIP_EVENT = 'FLIP EVENT';
        this.SEARCH_PARTNER_SCREEN = 'SEARCH PARTNER SCREEN';
        this.INDUSTRY_TYPE_FILTER_EVENT = 'INDUSTRY TYPE FILTER EVENT';
        this.SEARCH_PARTNER_KEY_EVENT = 'SEARCH PARTNER KEY EVENT';
        this.SEARCH_OFFER_SCREEN = 'SEARCH OFFER SCREEN';
        this.SEARCH_EARN_OFFER_FILTER_EVENT = 'SEARCH EARN OFFER FILTER EVENT';
        this.SEARCH_BURN_OFFER_FILTER_EVENT = 'SEARCH BURN OFFER FILTER EVENT';
        this.SEARCH_OFFER_KEY_EVENT = 'SEARCH OFFER KEY EVENT';
        this.SEARCH_LOCATION_SCREEN = 'SEARCH LOCATION SCREEN';
        this.SEARCH_LOCATION_KEY_EVENT = 'SEARCH LOCATION KEY EVENT';
        this.SEARCH_VOUCHER_SCREEN = 'SEARCH VOUCHER SCREEN';
        this.SEARCH_VOUCHER_KEY_EVENT = 'SEARCH VOUCHER KEY EVENT';
        this.FACEBOOK_LOGIN_EVENT = 'FACEBOOK LOGIN EVENT';
        this.APP_SETTINGS_NOTIFICATION_EVENT = 'APP SETTINGS NOTIFICATION EVENT';
        this.APP_SETTINGS_LANGUAGE_EVENT = 'APP SETTINGS LANGUAGE EVENT';
        this.CREATE_PERSONAL_TARGET_EVENT = 'CREATE PERSONAL TARGET EVENT';
        this.VIEW_ALL_TARGETS_EVENT = 'VIEW ALL TARGETS EVENT';
        this.VIEW_ALL_VOUCHERS_EVENT = 'VIEW ALL VOUCHERS EVENT';
        this.DROP_TARGETS_EVENT = 'DROP TARGETS EVENT';
        this.SHARE_TARGET_EVENT = 'SHARE TARGET EVENT';
        this.VIEW_ALL_TARGETS_SCREEN = 'VIEW ALL TARGETS SCREEN';
        this.VIEW_ALL_VOUCHERS = 'VIEW ALL VOUCHERS SCREEN';
        this.CREATE_PERSONAL_TARGET_SCREEN = 'CREATE PERSONAL TARGET SCREEN';
        this.APP_MENU_SCREEN = 'APP MENU SCREEN';
        this.USER_ENROLLMENT_EVENT = 'USER ENROLLMENT EVENT';
        this.OFFER_LOCATION_EVENT = 'OFFER LOCATION EVENT';
        this.PARTNER_LOCATION_EVENT = 'PARTNER LOCATION EVENT';
        this.MORE_INFO_EVENT = 'MORE INFO EVENT';
        this.FORGOT_PASSWORD_EVENT = 'FORGOT PASSWORD EVENT';
        this.REGISTER_NOW_EVENT = 'REGISTER NOW EVENT';
        this.PARTNER_TERMS_EVENT = 'PARTNER TERMS EVENT';
        this.ENROLLMENT_SCREEN = 'USER ENROLLMENT SCREEN';
        this.EDIT_PROFILE_SCREEN = 'EDIT PROFILE SCREEN';
        this.ENROLLMENT_EXIT_EVENT = 'USER ENROLLMENT EXIT EVENT';
        this.EDIT_PROFILE_EXIT_EVENT = 'EDIT PROFILE EXIT EVENT';
        this.ENROLLMENT_EDIT_AGAIN_EVENT = 'USER ENROLLMENT EDIT AGAIN EVENT';
        this.EDIT_PROFILE_EDIT_AGAIN_EVENT = 'EDIT PROFILE EDIT AGAIN EVENT';
        this.TERMS_CONDITIONS_TAPPED_EVENT = 'TERMS AND CONDITIONS TAPPED EVENT';
        this.PRIVACY_POLICY_TAPPED_EVENT = 'PRIVACY POLICY TAPPED EVENT';
        this.SHOW_HIDE_PASSWORD_TEXT_TAPPED_EVENT = 'SHOW HIDE PASSWORD TEXT TAPPED EVENT';
        this.SHOW_HIDE_ANSWER_TEXT_TAPPED_EVENT = 'SHOW HIDE ANSWER TEXT TAPPED EVENT';
        this.INVALID_PASSWORD_EVENT = 'INVALID PASSWORD EVENT';
        this.SUBMIT_SAVE_EVENT = 'SUBMIT SAVE EVENT';
        this.ENROLLMENT_SUCCESSFUL_EVENT = 'USER ENROLLMENT SUCCESSFUL EVENT';
        this.ENROLLMENT_UNSUCCESSFUL_EVENT = 'USER ENROLLMENT UNSUCCESSFUL EVENT';
        this.EDIT_PROFILE_SUCCESSFUL_EVENT = 'EDIT PROFILE SUCCESSFUL EVENT';
        this.EDIT_PROFILE_UNSUCCESSFUL_EVENT = 'EDIT PROFILE UNSUCCESSFUL EVENT';
        this.ENROLLMENT_SUCCESSFUL_WELCOME_SCREEN = 'USER ENROLLMENT SUCCESSFUL WELCOME SCREEN';
        this.EDIT_PASSWORD_SUCCESSFUL_EVENT = 'EDIT PASSWORD SUCCESSFUL EVENT';
        this.EDIT_PASSWORD_UNSUCCESSFUL_EVENT = 'EDIT PASSWORD UNSUCCESSFUL EVENT';
        this.SECURITY_QUESTION_UPDATE_SUCCESSFUL_EVENT = 'SECURITY QUESTION UPDATE SUCCESSFUL EVENT';
        this.SECURITY_QUESTION_UPDATE_UNSUCCESSFUL_EVENT = 'SECURITY QUESTION UPDATE UNSUCCESSFUL EVENT';
        //Headings and Page Titles
        this.HEADING_NEAR_ME_OFFERS = 'NEAR_ME_OFFERS';
        this.HEADING_NEAR_ME_STORES = 'NEAR_ME_STORES';
        this.HEADING_RECOMMENDED_OFFERS = 'RECOMMENDED_OFFERS';
        this.HEADING_MY_TARGETS = 'MY_GOALS';
        this.HEADING_MY_FAVOURITE_OFFERS = 'MY_FAVOURITE_OFFERS';
        this.HEADING_MY_FAVOURITE_LOCATIONS = 'MY_FAVOURITE_LOCATIONS';
        //Event Constants
        this.EVENT_CONFIG_DATA_CHANGED = 'CONFIG_DATA_CHANGED';
        this.EVENT_LOGIN_STATUS_CHANGED = 'LOGIN_STATUS_CHANGED';
        this.EVENT_USER_PROFILE_CHANGED = 'USER_PROFILE_CHANGED';
        this.EVENT_MENU_INFO_CHANGED = 'MENU_INFO_CHANGED';
        this.EVENT_APP_TERMS_CHANGED = 'APP_TERMS_CHANGED';
        this.EVENT_WALLET_INFO_CHANGED = 'WALLET_INFO_CHANGED';
        this.EVENT_RECOMMENDED_OFFERS_CHANGED = 'RECOMMENDED_OFFERS_CHANGED';
        this.EVENT_FAVORITE_OFFERS_CHANGED = 'FAVORITE_OFFERS_CHANGED';
        this.EVENT_NEARBY_OFFERS_CHANGED = 'NEARBY_OFFERS_CHANGED';
        this.EVENT_FEATURED_PARTNERS_CHANGED = 'FEATURED_PARTNERS_CHANGED';
        this.EVENT_FAVORITE_PARTNER_LOCATIONS_CHANGED = 'FAVORITE_PARTNER_LOCATIONS_CHANGED';
        this.EVENT_NEARBY_PARTNER_LOCATIONS_CHANGED = 'NEARBY_PARTNER_LOCATIONS_CHANGED';
        this.EVENT_VOUCHER_CHANGED = 'VOUCHER_CHANGED';
        this.EVENT_TARGET_CHANGED = 'TARGET_CHANGED';
        this.EVENT_RECENT_TRANSACTIONS_CHANGED = 'RECENT_TRANSACTIONS_CHANGED';
        this.EVENT_LOCATION_NOTIFICATION_CHANGED = 'LOCATION_NOTIFICATION_CHANGED';
        this.EVENT_USER_LOCATION_CHANGED = 'USER_LOCATION_CHANGED';
        this.EVENT_NETWORK_STATUS_CONNECTED = 'NETWORK_STATUS_CONNECTED';
        this.EVENT_NETWORK_STATUS_DISCONNECTED = 'NETWORK_STATUS_DISCONNECTED';
        this.EVENT_APP_LANGUAGE_CHANGED = 'APP_LANGUAGE_CHANGED';
        this.EVENT_APP_DATA_SYNC_REQUEST = 'APP_DATA_SYNC_REQUEST';
        this.EVENT_USER_SESSION_EXPIRED = 'USER_SESSION_EXPIRED';
        this.EVENT_OPEN_ENROLLMENT_PAGE = 'OPEN_ENROLLMENT_PAGE';
        this.EVENT_APP_RESUMES = 'APP_RESUMES';
        //Wallet Image File
        this.WALLET_CARD_FRONT_IMAGE = 'virtual_card_front.jpg';
        this.WALLET_CARD_BACK_IMAGE = 'virtual_card_back.jpg';
        this.WALLET_CARD_FRONT_MASTER_IMAGE_NAME = '-MASTER';
        this.WALLET_QR_CODE_IMAGE = 'wallet_qr_code.jpg';
        //Chat File Name
        this.CHAT_FILE_NAME = 'Chat.html';
    }
    return AppConstants;
}());
AppConstants = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], AppConstants);

//# sourceMappingURL=app.constants.js.map

/***/ }),

/***/ 71:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__ = __webpack_require__(52);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/16/17.
 */










var UserUtils = (function () {
    function UserUtils(dataAccessService, serviceConstants, appConstants, sessionUtils, clientUtils, events) {
        this.dataAccessService = dataAccessService;
        this.serviceConstants = serviceConstants;
        this.appConstants = appConstants;
        this.sessionUtils = sessionUtils;
        this.clientUtils = clientUtils;
        this.events = events;
        this.MIN_NUM_OF_CHAR_USERNAME = 11;
    }
    UserUtils.prototype.saveUserInfo = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.memberInfo = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    UserUtils.prototype.clearUserInfo = function () {
        var contextObj = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["f" /* MemberInfo */]();
        this.saveUserInfo(contextObj);
    };
    UserUtils.prototype.isUserLoggedIn = function () {
        return (this.sessionUtils.getAccessToken() != null);
    };
    UserUtils.prototype.isFacebookUser = function () {
        var userProfile = this.sessionUtils.getMemberInfo();
        return (userProfile && !this.clientUtils.isNullOrEmpty(userProfile.fbMemberId));
    };
    UserUtils.prototype.userProfilePic = function () {
        var profilePic = null;
        var userProfile = this.sessionUtils.getMemberInfo();
        if (userProfile && !this.clientUtils.isNullOrEmpty(userProfile.memberPicture)) {
            profilePic = userProfile.memberPicture;
        }
        return profilePic;
    };
    UserUtils.prototype.doLogin = function (username, password, successCallback, errorCallback) {
        var _this = this;
        var loginDataRequest = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["f" /* MemberInfo */]();
        loginDataRequest.membershipCardNumber = username;
        loginDataRequest.password = password;
        var loginRequest = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["b" /* LoginRequest */]();
        loginRequest.data = loginDataRequest;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_LOGIN, loginRequest);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["c" /* LoginResponse */]();
                response.data = [];
            }
            var loginDataResponse = response.data[0];
            var memberInfo = loginDataResponse.member;
            memberInfo.milesExpiryDiff = _this.calculateMilesExpiryDateInDays(memberInfo.milesExpiryDate);
            _this.saveUserInfo(memberInfo);
            _this.events.publish(_this.appConstants.EVENT_LOGIN_STATUS_CHANGED);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    UserUtils.prototype.loginUsingFacebook = function (fbToken, successCallback, errorCallback) {
        var _this = this;
        var loginDataRequest = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["f" /* MemberInfo */]();
        loginDataRequest.facebookAccessToken = fbToken;
        var loginRequest = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["b" /* LoginRequest */]();
        loginRequest.data = loginDataRequest;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_LOGIN, loginRequest);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["c" /* LoginResponse */]();
                response.data = [];
            }
            var loginDataResponse = response.data[0];
            var memberInfo = loginDataResponse.member;
            memberInfo.milesExpiryDiff = _this.calculateMilesExpiryDateInDays(memberInfo.milesExpiryDate);
            _this.saveUserInfo(memberInfo);
            _this.events.publish(_this.appConstants.EVENT_LOGIN_STATUS_CHANGED);
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            if (errorCallback) {
                var errorInfo = error.json();
                errorCallback(errorInfo);
            }
        });
    };
    UserUtils.prototype.fetchProfile = function (successCallback, errorCallback) {
        var _this = this;
        if (this.sessionUtils.isUserLoggedIn()) {
            var memberInfo = this.sessionUtils.getMemberInfo();
            var requestData = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["f" /* MemberInfo */]();
            requestData.membershipCardNumber = memberInfo.username;
            var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_GET_PROFILE, requestData);
            this.dataAccessService.call(serviceContext)
                .subscribe(function (result) {
                var response = result.json();
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["c" /* LoginResponse */]();
                    response.data = [];
                }
                var loginDataResponse = response.data[0];
                var memberInfo = loginDataResponse.member;
                var memInfo = _this.sessionUtils.getMemberInfo();
                memberInfo.accessToken = memInfo.accessToken;
                memberInfo.milesExpiryDiff = _this.calculateMilesExpiryDateInDays(memberInfo.milesExpiryDate);
                _this.saveUserInfo(memberInfo);
                _this.events.publish(_this.appConstants.EVENT_USER_PROFILE_CHANGED);
                if (successCallback) {
                    successCallback(response);
                }
            }, function (error) {
                var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
                if (error) {
                    errorInfo = error.json();
                    errorInfo.code = error.status;
                }
                if (errorCallback) {
                    errorCallback(errorInfo);
                }
                if (errorInfo.code == 401) {
                    _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
                }
            });
        }
    };
    UserUtils.prototype.saveProfile = function (profileInfo, shouldEdit, successCallback, errorCallback) {
        var _this = this;
        var serviceName = (shouldEdit == true) ?
            this.serviceConstants.ACCOUNT_SERVICE_NAME_EDIT_PROFILE :
            this.serviceConstants.ACCOUNT_SERVICE_NAME_CREATE_PROFILE;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, serviceName, profileInfo);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["a" /* EnrollResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    UserUtils.prototype.changePassword = function (profileInfo, successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_CHANGE_PASSWORD, profileInfo);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["a" /* EnrollResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    UserUtils.prototype.getMemberAddress = function (profileInfo, successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_GET_MEMBER_ADDRESS, profileInfo);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    UserUtils.prototype.getMemberSecurityQuestion = function (profileInfo, successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_GET_MEMBER_SECURITY_QUESTION, profileInfo);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["a" /* EnrollResponse */]();
                response.data = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    UserUtils.prototype.saveMemberSecurityQuestion = function (profileInfo, shouldEdit, successCallback, errorCallback) {
        var _this = this;
        var serviceName = (shouldEdit == true) ?
            this.serviceConstants.ACCOUNT_SERVICE_NAME_EDIT_MEMBER_SECURITY_QUESTION :
            this.serviceConstants.ACCOUNT_SERVICE_NAME_CREATE_MEMBER_SECURITY_QUESTION;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, serviceName, profileInfo);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = { message: '' };
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    UserUtils.prototype.verifyMemberSecurityQuestion = function (profileInfo, successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_VERIFY_MEMBER_SECURITY_QUESTION, profileInfo);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = { message: '' };
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    UserUtils.prototype.getPasswordHints = function (successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_PASSWORD_HINTS, null);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = new __WEBPACK_IMPORTED_MODULE_9__dto_account_dto__["i" /* PasswordHintResponse */]();
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    UserUtils.prototype.validateUsername = function (username) {
        var textValue = username;
        if (textValue && (textValue.length < this.MIN_NUM_OF_CHAR_USERNAME)) {
            var diffValue = this.MIN_NUM_OF_CHAR_USERNAME - textValue.length;
            for (var i = 0; i < diffValue; i++) {
                textValue = '0' + textValue;
            }
        }
        return textValue;
    };
    UserUtils.prototype.calculateMilesExpiryDateInDays = function (expDateString) {
        var diffHours = this.clientUtils.getDateTimeDiff(expDateString) / 3600;
        var diffDays = 0;
        if (diffHours >= 24) {
            diffDays = Math.floor(diffHours / 24);
        }
        return diffDays;
    };
    UserUtils.prototype.getConsentDate = function (reqObj, successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_GET_TNC_CONSENT, reqObj);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    UserUtils.prototype.postConsentDate = function (reqObj, successCallback, errorCallback) {
        var _this = this;
        var serviceContext = new __WEBPACK_IMPORTED_MODULE_4__services_commons_context_service__["a" /* ServiceContext */](this.serviceConstants.SERVICE_CONTEXT_NAME_ACCOUNT, this.serviceConstants.ACCOUNT_SERVICE_NAME_POST_TNC_CONSENT, reqObj);
        this.dataAccessService.call(serviceContext)
            .subscribe(function (result) {
            var response = result.json();
            if (!response) {
                response = [];
            }
            if (successCallback) {
                successCallback(response);
            }
        }, function (error) {
            var errorInfo = new __WEBPACK_IMPORTED_MODULE_2__dto_common_dto__["j" /* ServiceErrorInfo */]();
            if (error) {
                errorInfo = error.json();
                errorInfo.code = error.status;
            }
            if (errorCallback) {
                errorCallback(errorInfo);
            }
            if (errorInfo.code == 401) {
                _this.events.publish(_this.appConstants.EVENT_USER_SESSION_EXPIRED);
            }
        });
    };
    return UserUtils;
}());
UserUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__services_commons_data_access_service__["a" /* DataAccessService */],
        __WEBPACK_IMPORTED_MODULE_5__constants_service_constants__["a" /* ServiceConstants */],
        __WEBPACK_IMPORTED_MODULE_6__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_7__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_8__client_utils__["a" /* ClientUtils */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* Events */]])
], UserUtils);

//# sourceMappingURL=user.utils.js.map

/***/ }),

/***/ 768:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__libs_angular_svg_round_progressbar_round_progress__ = __webpack_require__(806);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__translate_translate_service__ = __webpack_require__(808);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ng2_completer__ = __webpack_require__(291);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_commons_data_access_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_commons_http_service__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_commons_storage_service__ = __webpack_require__(505);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__services_offer_offer_service__ = __webpack_require__(511);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__services_menu_menu_services__ = __webpack_require__(512);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__services_account_profile_service__ = __webpack_require__(514);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__services_wallet_wallet_service__ = __webpack_require__(515);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__services_target_mytargets_service__ = __webpack_require__(516);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__services_partners_partner_service__ = __webpack_require__(517);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__services_configuration_config_service__ = __webpack_require__(513);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__services_favourites_favourites_services__ = __webpack_require__(518);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__services_industrytypes_industrytypes_services__ = __webpack_require__(519);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__services_commons_remote_notification_service__ = __webpack_require__(523);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__services_commons_device_service__ = __webpack_require__(520);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__services_commons_geolocation_service__ = __webpack_require__(307);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__services_commons_social_sharing_service__ = __webpack_require__(524);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__services_commons_message_content_service__ = __webpack_require__(504);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__services_commons_system_query_service__ = __webpack_require__(510);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__services_commons_google_analytics_service__ = __webpack_require__(525);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__services_locationNotification_location_notification_service__ = __webpack_require__(521);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__services_commons_local_notification_service__ = __webpack_require__(308);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__services_commons_network_service__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__utils_commons_configuration_utils__ = __webpack_require__(526);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__services_commons_file_service__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__services_commons_safari_view_controller_service__ = __webpack_require__(508);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__services_commons_in_app_browser_service__ = __webpack_require__(509);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__services_commons_globalization_service__ = __webpack_require__(507);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__services_commons_app_version_service__ = __webpack_require__(527);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__services_lovItem_lov_item_service__ = __webpack_require__(522);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__services_commons_facebook_connect_service__ = __webpack_require__(528);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__utils_commons_client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__utils_commons_session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__utils_commons_config_utils__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__utils_commons_menu_utils__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__utils_commons_wallet_utils__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__utils_commons_offer_utils__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__utils_commons_partner_utils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__utils_commons_target_utils__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__utils_commons_device_utils__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__utils_commons_social_sharing_utils__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__utils_commons_transaction_utils__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__utils_commons_user_address_utils__ = __webpack_require__(97);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__utils_commons_globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__utils_commons_location_notification_utils__ = __webpack_require__(310);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__utils_commons_user_utils__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__utils_commons_google_analytics_utils__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__utils_commons_sync_data_utils__ = __webpack_require__(146);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__utils_commons_lov_item_utils__ = __webpack_require__(311);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__constants_service_constants__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__constants_language_constants__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__app_component__ = __webpack_require__(1083);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__pages_home_home__ = __webpack_require__(650);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__pages_login_login__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__pages_tabs_tabs__ = __webpack_require__(312);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__pages_mywallet_wallet__ = __webpack_require__(654);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__pages_search_search__ = __webpack_require__(657);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__pages_profile_profile__ = __webpack_require__(660);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__pages_offers_offers__ = __webpack_require__(667);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__pages_terms_terms__ = __webpack_require__(314);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__pages_widgets_offers_popup_offers_popup__ = __webpack_require__(668);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__pages_widgets_target_popup_target__ = __webpack_require__(315);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70__pages_widgets_filters_popup_filter__ = __webpack_require__(659);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71__pages_widgets_offline_popup_offline_popup__ = __webpack_require__(664);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72__pages_mywallet_qrcode_qrcode__ = __webpack_require__(655);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73__pages_mywallet_fullscreen_fullscreen__ = __webpack_require__(656);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74__pages_home_location_location__ = __webpack_require__(651);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75__pages_settings_settings__ = __webpack_require__(663);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_76__pages_mytargets_my_targets__ = __webpack_require__(669);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_77__pages_mytargetsall_my_targets_all__ = __webpack_require__(661);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_78__pages_partners_partners__ = __webpack_require__(670);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_79__pages_partners_list_partner_list__ = __webpack_require__(147);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_80__pages_enrollment_enrollment__ = __webpack_require__(313);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_81__pages_mcalculator_mcalculator__ = __webpack_require__(652);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_82__pages_widgets_filters_mcalculator_filters_mcalculator__ = __webpack_require__(653);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_83__pages_tutorial_tutorial__ = __webpack_require__(665);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_84__pages_tnc_tnc__ = __webpack_require__(658);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_85__pages_forceUpdate_forceUpdate__ = __webpack_require__(666);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_86__pages_widgets_swiper_swiper__ = __webpack_require__(1085);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_87__pages_widgets_logincard_login__ = __webpack_require__(1086);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_88__pages_widgets_partners_partners__ = __webpack_require__(1087);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_89__pages_widgets_loggedin_loggedin__ = __webpack_require__(1088);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_90__services_commons_service_loading__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_91__pages_widgets_expandable_expandable__ = __webpack_require__(1089);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_92__pages_widgets_expandable_location_expandable_location__ = __webpack_require__(1090);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_93__pages_widgets_virtual_card_virtual_card__ = __webpack_require__(1091);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_94__pages_widgets_personal_target_personal_target__ = __webpack_require__(1092);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_95__pages_widgets_personal_target_list_personal_target_list__ = __webpack_require__(1093);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_96__pages_widgets_partners_detail_header_card_partners_detail_header__ = __webpack_require__(1094);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_97__pages_myvouchers_my_vouchers__ = __webpack_require__(662);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
//Core components

Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_25" /* enableProdMode */])();



//3rd party components




//Services






























//Utils


















//Constants



//Pages



























//Components












//Directives
//import { ParallaxHeaderDirective } from '../components/parallax-header/parallax-header';
var AppModule = (function () {
    function AppModule(translate, globalizationUtils) {
        this.translate = translate;
        this.globalizationUtils = globalizationUtils;
        // this language will be used as a fallback when a translation isn't found in the current language
        translate.addLangs([this.globalizationUtils.DEVICE_LANGUAGE_EN_US,
            this.globalizationUtils.DEVICE_LANGUAGE_ES_ES
        ]);
        translate.setDefaultLang(this.globalizationUtils.DEVICE_LANGUAGE_EN_US);
        // the lang to use, if the lang isn't available, it will use the current loader to get them
        translate.use(this.globalizationUtils.getAppLanguage());
    }
    return AppModule;
}());
AppModule = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Q" /* NgModule */])({
        declarations: [
            __WEBPACK_IMPORTED_MODULE_83__pages_tutorial_tutorial__["a" /* TutorialPage */],
            __WEBPACK_IMPORTED_MODULE_84__pages_tnc_tnc__["a" /* TncPage */],
            __WEBPACK_IMPORTED_MODULE_85__pages_forceUpdate_forceUpdate__["a" /* ForceUpdatePage */],
            __WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */],
            __WEBPACK_IMPORTED_MODULE_60__pages_home_home__["a" /* HomePage */],
            __WEBPACK_IMPORTED_MODULE_86__pages_widgets_swiper_swiper__["a" /* Swiper */],
            __WEBPACK_IMPORTED_MODULE_87__pages_widgets_logincard_login__["a" /* LoginCardComponent */],
            __WEBPACK_IMPORTED_MODULE_88__pages_widgets_partners_partners__["a" /* PartnersCardComponent */],
            __WEBPACK_IMPORTED_MODULE_89__pages_widgets_loggedin_loggedin__["a" /* LoggedInCardComponent */],
            __WEBPACK_IMPORTED_MODULE_91__pages_widgets_expandable_expandable__["a" /* ExpandableComponent */],
            __WEBPACK_IMPORTED_MODULE_92__pages_widgets_expandable_location_expandable_location__["a" /* ExpandableLocationComponent */],
            __WEBPACK_IMPORTED_MODULE_93__pages_widgets_virtual_card_virtual_card__["a" /* VirtualCardComponent */],
            __WEBPACK_IMPORTED_MODULE_94__pages_widgets_personal_target_personal_target__["a" /* PersonalTargetComponent */],
            __WEBPACK_IMPORTED_MODULE_95__pages_widgets_personal_target_list_personal_target_list__["a" /* PersonalTargetListComponent */],
            __WEBPACK_IMPORTED_MODULE_96__pages_widgets_partners_detail_header_card_partners_detail_header__["a" /* PartnersDetailHeaderComponent */],
            __WEBPACK_IMPORTED_MODULE_61__pages_login_login__["a" /* LoginPage */],
            __WEBPACK_IMPORTED_MODULE_62__pages_tabs_tabs__["a" /* TabsPage */],
            __WEBPACK_IMPORTED_MODULE_63__pages_mywallet_wallet__["a" /* MyWalletPage */],
            __WEBPACK_IMPORTED_MODULE_64__pages_search_search__["a" /* SearchPage */],
            __WEBPACK_IMPORTED_MODULE_65__pages_profile_profile__["a" /* ProfilePage */],
            __WEBPACK_IMPORTED_MODULE_66__pages_offers_offers__["a" /* OffersPage */],
            __WEBPACK_IMPORTED_MODULE_68__pages_widgets_offers_popup_offers_popup__["a" /* OffersPopupPage */],
            __WEBPACK_IMPORTED_MODULE_69__pages_widgets_target_popup_target__["a" /* TargetPopupPage */],
            __WEBPACK_IMPORTED_MODULE_70__pages_widgets_filters_popup_filter__["a" /* FilterPopupPage */],
            __WEBPACK_IMPORTED_MODULE_71__pages_widgets_offline_popup_offline_popup__["a" /* OfflinePopupPage */],
            __WEBPACK_IMPORTED_MODULE_78__pages_partners_partners__["a" /* PartnersPage */],
            __WEBPACK_IMPORTED_MODULE_79__pages_partners_list_partner_list__["a" /* PartnersListPage */],
            __WEBPACK_IMPORTED_MODULE_67__pages_terms_terms__["a" /* TermsPage */],
            __WEBPACK_IMPORTED_MODULE_72__pages_mywallet_qrcode_qrcode__["a" /* QrCodePage */],
            __WEBPACK_IMPORTED_MODULE_73__pages_mywallet_fullscreen_fullscreen__["a" /* FullScreenPage */],
            __WEBPACK_IMPORTED_MODULE_74__pages_home_location_location__["a" /* LocationPage */],
            __WEBPACK_IMPORTED_MODULE_75__pages_settings_settings__["a" /* SettingsPage */],
            __WEBPACK_IMPORTED_MODULE_76__pages_mytargets_my_targets__["a" /* MyTargetsPage */],
            __WEBPACK_IMPORTED_MODULE_77__pages_mytargetsall_my_targets_all__["a" /* MyTargetsAllPage */],
            __WEBPACK_IMPORTED_MODULE_97__pages_myvouchers_my_vouchers__["a" /* MyVouchers */],
            __WEBPACK_IMPORTED_MODULE_80__pages_enrollment_enrollment__["a" /* EnrollmentPage */],
            __WEBPACK_IMPORTED_MODULE_81__pages_mcalculator_mcalculator__["a" /* MilesCalculatorPage */],
            __WEBPACK_IMPORTED_MODULE_82__pages_widgets_filters_mcalculator_filters_mcalculator__["a" /* FilterMilesCalculator */]
        ],
        imports: [
            __WEBPACK_IMPORTED_MODULE_4__libs_angular_svg_round_progressbar_round_progress__["a" /* RoundProgress */],
            __WEBPACK_IMPORTED_MODULE_6_ng2_translate__["b" /* TranslateModule */].forRoot({
                provide: __WEBPACK_IMPORTED_MODULE_6_ng2_translate__["a" /* TranslateLoader */],
                useFactory: (__WEBPACK_IMPORTED_MODULE_5__translate_translate_service__["a" /* MyTranslateLoader */]),
                deps: [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]]
            }),
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["i" /* IonicModule */].forRoot(__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */], {
                pageTransition: 'ios',
            }, {
                links: [
                    { component: __WEBPACK_IMPORTED_MODULE_83__pages_tutorial_tutorial__["a" /* TutorialPage */], name: 'tutorial', segment: 'tutorial' },
                    { component: __WEBPACK_IMPORTED_MODULE_60__pages_home_home__["a" /* HomePage */], name: 'Home', segment: 'home' },
                    { component: __WEBPACK_IMPORTED_MODULE_63__pages_mywallet_wallet__["a" /* MyWalletPage */], name: 'Wallet', segment: 'wallet' },
                    { component: __WEBPACK_IMPORTED_MODULE_64__pages_search_search__["a" /* SearchPage */], name: 'Search', segment: 'search' },
                    { component: __WEBPACK_IMPORTED_MODULE_65__pages_profile_profile__["a" /* ProfilePage */], name: 'ProfilePage', segment: 'profile', defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]] },
                    { component: __WEBPACK_IMPORTED_MODULE_66__pages_offers_offers__["a" /* OffersPage */], name: 'OffersPage', segment: 'offers/:type/:id', defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]] },
                    {
                        component: __WEBPACK_IMPORTED_MODULE_67__pages_terms_terms__["a" /* TermsPage */],
                        name: 'TermsPage',
                        segment: 'terms-and-conditions',
                        defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]]
                    },
                    { component: __WEBPACK_IMPORTED_MODULE_75__pages_settings_settings__["a" /* SettingsPage */], name: 'SettingsPage', segment: 'app-settings', defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]] },
                    {
                        component: __WEBPACK_IMPORTED_MODULE_77__pages_mytargetsall_my_targets_all__["a" /* MyTargetsAllPage */],
                        name: 'MyTargetsAllPage',
                        segment: 'targets/:pageUrl',
                        defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]]
                    },
                    {
                        component: __WEBPACK_IMPORTED_MODULE_97__pages_myvouchers_my_vouchers__["a" /* MyVouchers */],
                        name: 'MyVouchers',
                        segment: 'vouchers/:pageUrl',
                        defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]]
                    },
                    {
                        component: __WEBPACK_IMPORTED_MODULE_78__pages_partners_partners__["a" /* PartnersPage */],
                        name: 'PartnersPage',
                        segment: 'partner/:pageUrl',
                        defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]]
                    },
                    {
                        component: __WEBPACK_IMPORTED_MODULE_79__pages_partners_list_partner_list__["a" /* PartnersListPage */],
                        name: 'PartnersListPage',
                        segment: 'Partners-list/:pageUrl',
                        defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]]
                    },
                    {
                        component: __WEBPACK_IMPORTED_MODULE_80__pages_enrollment_enrollment__["a" /* EnrollmentPage */],
                        name: 'EnrollmentPage',
                        segment: 'enrollment',
                        defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]]
                    },
                    {
                        component: __WEBPACK_IMPORTED_MODULE_81__pages_mcalculator_mcalculator__["a" /* MilesCalculatorPage */],
                        name: 'MilesCalculatorPage',
                        segment: 'miles-calculator',
                        defaultHistory: [__WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */]]
                    }
                ]
            }),
            __WEBPACK_IMPORTED_MODULE_7_ng2_completer__["b" /* Ng2CompleterModule */],
            __WEBPACK_IMPORTED_MODULE_3__angular_forms__["b" /* FormsModule */]
        ],
        bootstrap: [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["g" /* IonicApp */]],
        entryComponents: [
            __WEBPACK_IMPORTED_MODULE_83__pages_tutorial_tutorial__["a" /* TutorialPage */],
            __WEBPACK_IMPORTED_MODULE_84__pages_tnc_tnc__["a" /* TncPage */],
            __WEBPACK_IMPORTED_MODULE_85__pages_forceUpdate_forceUpdate__["a" /* ForceUpdatePage */],
            __WEBPACK_IMPORTED_MODULE_59__app_component__["a" /* mEngageApp */],
            __WEBPACK_IMPORTED_MODULE_60__pages_home_home__["a" /* HomePage */],
            __WEBPACK_IMPORTED_MODULE_86__pages_widgets_swiper_swiper__["a" /* Swiper */],
            __WEBPACK_IMPORTED_MODULE_61__pages_login_login__["a" /* LoginPage */],
            __WEBPACK_IMPORTED_MODULE_62__pages_tabs_tabs__["a" /* TabsPage */],
            __WEBPACK_IMPORTED_MODULE_63__pages_mywallet_wallet__["a" /* MyWalletPage */],
            __WEBPACK_IMPORTED_MODULE_64__pages_search_search__["a" /* SearchPage */],
            __WEBPACK_IMPORTED_MODULE_65__pages_profile_profile__["a" /* ProfilePage */],
            __WEBPACK_IMPORTED_MODULE_66__pages_offers_offers__["a" /* OffersPage */],
            __WEBPACK_IMPORTED_MODULE_68__pages_widgets_offers_popup_offers_popup__["a" /* OffersPopupPage */],
            __WEBPACK_IMPORTED_MODULE_69__pages_widgets_target_popup_target__["a" /* TargetPopupPage */],
            __WEBPACK_IMPORTED_MODULE_70__pages_widgets_filters_popup_filter__["a" /* FilterPopupPage */],
            __WEBPACK_IMPORTED_MODULE_71__pages_widgets_offline_popup_offline_popup__["a" /* OfflinePopupPage */],
            __WEBPACK_IMPORTED_MODULE_78__pages_partners_partners__["a" /* PartnersPage */],
            __WEBPACK_IMPORTED_MODULE_79__pages_partners_list_partner_list__["a" /* PartnersListPage */],
            __WEBPACK_IMPORTED_MODULE_67__pages_terms_terms__["a" /* TermsPage */],
            __WEBPACK_IMPORTED_MODULE_72__pages_mywallet_qrcode_qrcode__["a" /* QrCodePage */],
            __WEBPACK_IMPORTED_MODULE_73__pages_mywallet_fullscreen_fullscreen__["a" /* FullScreenPage */],
            __WEBPACK_IMPORTED_MODULE_74__pages_home_location_location__["a" /* LocationPage */],
            __WEBPACK_IMPORTED_MODULE_75__pages_settings_settings__["a" /* SettingsPage */],
            __WEBPACK_IMPORTED_MODULE_76__pages_mytargets_my_targets__["a" /* MyTargetsPage */],
            __WEBPACK_IMPORTED_MODULE_77__pages_mytargetsall_my_targets_all__["a" /* MyTargetsAllPage */],
            __WEBPACK_IMPORTED_MODULE_97__pages_myvouchers_my_vouchers__["a" /* MyVouchers */],
            __WEBPACK_IMPORTED_MODULE_80__pages_enrollment_enrollment__["a" /* EnrollmentPage */],
            __WEBPACK_IMPORTED_MODULE_81__pages_mcalculator_mcalculator__["a" /* MilesCalculatorPage */],
            __WEBPACK_IMPORTED_MODULE_82__pages_widgets_filters_mcalculator_filters_mcalculator__["a" /* FilterMilesCalculator */]
        ],
        providers: [
            {
                provide: __WEBPACK_IMPORTED_MODULE_0__angular_core__["C" /* ErrorHandler */],
                useClass: __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["h" /* IonicErrorHandler */]
            },
            __WEBPACK_IMPORTED_MODULE_8__services_commons_data_access_service__["a" /* DataAccessService */],
            __WEBPACK_IMPORTED_MODULE_9__services_commons_http_service__["a" /* CustomHttpService */],
            __WEBPACK_IMPORTED_MODULE_10__services_commons_storage_service__["a" /* StorageService */],
            __WEBPACK_IMPORTED_MODULE_11__services_offer_offer_service__["a" /* OfferService */],
            __WEBPACK_IMPORTED_MODULE_12__services_menu_menu_services__["a" /* MenuService */],
            __WEBPACK_IMPORTED_MODULE_13__services_account_profile_service__["a" /* ProfileService */],
            __WEBPACK_IMPORTED_MODULE_90__services_commons_service_loading__["a" /* McfLoaderService */],
            __WEBPACK_IMPORTED_MODULE_15__services_target_mytargets_service__["a" /* MyTargetsService */],
            __WEBPACK_IMPORTED_MODULE_16__services_partners_partner_service__["a" /* PartnerService */],
            __WEBPACK_IMPORTED_MODULE_17__services_configuration_config_service__["a" /* ConfigService */],
            __WEBPACK_IMPORTED_MODULE_21__services_commons_device_service__["a" /* DeviceService */],
            __WEBPACK_IMPORTED_MODULE_14__services_wallet_wallet_service__["a" /* WalletService */],
            __WEBPACK_IMPORTED_MODULE_18__services_favourites_favourites_services__["a" /* FavouritesService */],
            __WEBPACK_IMPORTED_MODULE_19__services_industrytypes_industrytypes_services__["a" /* IndustryTypesService */],
            __WEBPACK_IMPORTED_MODULE_24__services_commons_message_content_service__["a" /* MessageContentService */],
            __WEBPACK_IMPORTED_MODULE_27__services_locationNotification_location_notification_service__["a" /* LocationNotificationService */],
            __WEBPACK_IMPORTED_MODULE_24__services_commons_message_content_service__["a" /* MessageContentService */],
            __WEBPACK_IMPORTED_MODULE_25__services_commons_system_query_service__["a" /* SystemQueryService */],
            __WEBPACK_IMPORTED_MODULE_28__services_commons_local_notification_service__["b" /* LocalNotificationService */],
            __WEBPACK_IMPORTED_MODULE_20__services_commons_remote_notification_service__["a" /* RemoteNotificationService */],
            __WEBPACK_IMPORTED_MODULE_22__services_commons_geolocation_service__["b" /* GeolocationService */],
            __WEBPACK_IMPORTED_MODULE_23__services_commons_social_sharing_service__["a" /* SocialSharingService */],
            __WEBPACK_IMPORTED_MODULE_26__services_commons_google_analytics_service__["a" /* GoogleAnalyticService */],
            __WEBPACK_IMPORTED_MODULE_29__services_commons_network_service__["a" /* NetworkService */],
            __WEBPACK_IMPORTED_MODULE_31__services_commons_file_service__["a" /* FileService */],
            __WEBPACK_IMPORTED_MODULE_32__services_commons_safari_view_controller_service__["b" /* SafariViewService */],
            __WEBPACK_IMPORTED_MODULE_33__services_commons_in_app_browser_service__["a" /* InAppBrowserService */],
            __WEBPACK_IMPORTED_MODULE_34__services_commons_globalization_service__["a" /* GlobalizationService */],
            __WEBPACK_IMPORTED_MODULE_35__services_commons_app_version_service__["a" /* AppVersionService */],
            __WEBPACK_IMPORTED_MODULE_36__services_lovItem_lov_item_service__["a" /* LovItemService */],
            __WEBPACK_IMPORTED_MODULE_37__services_commons_facebook_connect_service__["a" /* FacebookConnectService */],
            __WEBPACK_IMPORTED_MODULE_38__utils_commons_client_utils__["a" /* ClientUtils */],
            __WEBPACK_IMPORTED_MODULE_39__utils_commons_session_utils__["a" /* SessionUtils */],
            __WEBPACK_IMPORTED_MODULE_40__utils_commons_config_utils__["a" /* ConfigUtils */],
            __WEBPACK_IMPORTED_MODULE_30__utils_commons_configuration_utils__["a" /* ConfigurationUtils */],
            __WEBPACK_IMPORTED_MODULE_41__utils_commons_menu_utils__["a" /* MenuUtils */],
            __WEBPACK_IMPORTED_MODULE_42__utils_commons_wallet_utils__["a" /* WalletUtils */],
            __WEBPACK_IMPORTED_MODULE_43__utils_commons_offer_utils__["a" /* OfferUtils */],
            __WEBPACK_IMPORTED_MODULE_44__utils_commons_partner_utils__["a" /* PartnerUtils */],
            __WEBPACK_IMPORTED_MODULE_45__utils_commons_target_utils__["a" /* TargetUtils */],
            __WEBPACK_IMPORTED_MODULE_46__utils_commons_device_utils__["a" /* DeviceUtils */],
            __WEBPACK_IMPORTED_MODULE_47__utils_commons_social_sharing_utils__["a" /* SocialSharingUtils */],
            __WEBPACK_IMPORTED_MODULE_48__utils_commons_transaction_utils__["a" /* TransactionUtils */],
            __WEBPACK_IMPORTED_MODULE_49__utils_commons_user_address_utils__["a" /* UserAddressUtils */],
            __WEBPACK_IMPORTED_MODULE_50__utils_commons_globalization_utils__["a" /* GlobalizationUtils */],
            __WEBPACK_IMPORTED_MODULE_51__utils_commons_location_notification_utils__["a" /* LocationNotificationUtils */],
            __WEBPACK_IMPORTED_MODULE_52__utils_commons_user_utils__["a" /* UserUtils */],
            __WEBPACK_IMPORTED_MODULE_53__utils_commons_google_analytics_utils__["a" /* GoogleAnalyticsUtils */],
            __WEBPACK_IMPORTED_MODULE_54__utils_commons_sync_data_utils__["a" /* SyncDataUtils */],
            __WEBPACK_IMPORTED_MODULE_55__utils_commons_lov_item_utils__["a" /* LovItemUtils */],
            __WEBPACK_IMPORTED_MODULE_56__constants_app_constants__["a" /* AppConstants */],
            __WEBPACK_IMPORTED_MODULE_57__constants_service_constants__["a" /* ServiceConstants */],
            __WEBPACK_IMPORTED_MODULE_58__constants_language_constants__["a" /* LanguageConstants */]
        ]
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_50__utils_commons_globalization_utils__["a" /* GlobalizationUtils */]])
], AppModule);

//# sourceMappingURL=app.module.js.map

/***/ }),

/***/ 8:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ServiceConstants; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ServiceConstants = (function () {
    function ServiceConstants() {
        //App Configuration
        this.NO_OF_NEARBY_OFFERS = 'NO_OF_NEARBY_OFFERS';
        this.NO_OF_SPECIAL_OFFERS = 'NO_OF_SPECIAL_OFFERS';
        this.NO_OF_RECOMMENDED_OFFERS = 'NO_OF_RECOMMENDED_OFFERS';
        this.NO_OF_FAVOURITE_OFFERS = 'NO_OF_FAVOURITE_OFFERS';
        this.NO_OF_NEARBY_PARTNER_STORES = 'NO_OF_NEARBY_PARTNER_STORES';
        this.NO_OF_FEATURED_PARTNERS = 'NO_OF_FEATURED_PARTNERS';
        this.NO_OF_FAVOURITE_PARTNER_STORES = 'NO_OF_FAVOURITE_PARTNER_STORES';
        this.NO_OF_RECENT_TRANSACTIONS = 'NO_OF_RECENT_TRANSACTIONS';
        this.NO_OF_INDUSTRY_TYPES = 'NO_OF_INDUSTRY_TYPES';
        this.NO_OF_TARGETS = 'NO_OF_TARGETS';
        this.CHECKIN_TIME_INTERVAL = 'CHECKIN_TIME_INTERVAL';
        this.PAGINATION_LIMIT = 'PAGINATION_LIMIT';
        this.PAGINATION_NO_OF_RECORDS = 'PAGINATION_NO_OF_RECORDS';
        this.NO_OF_LOCAL_NOTIFICATIONS_PER_DEVICE = 'NO_OF_LOCAL_NOTIFICATIONS_PER_DEVICE';
        this.SORTING_ORDER_FOR_OFFERS = 'SORTING_ORDER_FOR_OFFERS';
        this.SORTING_ORDER_FOR_PARTNERS = 'SORTING_ORDER_FOR_PARTNERS';
        this.SORTING_ORDER_FOR_LOCATIONS = 'SORTING_ORDER_FOR_LOCATIONS';
        this.RANGE_FOR_REGION_TRACKING = 'RANGE_FOR_REGION_TRACKING';
        this.BULK_DATA_SYNC_INTERVAL = 'BULK_DATA_SYNC_INTERVAL';
        this.USER_LOCATION_LATITUDE = 'USER_LOCATION_LATITUDE';
        this.USER_LOCATION_LONGITUDE = 'USER_LOCATION_LONGITUDE';
        this.BASE_URL_DEV = 'BASE_URL_DEV';
        this.BASE_URL_TEST = 'BASE_URL_TEST';
        this.BASE_URL_PROD = 'BASE_URL_PROD';
        this.GUEST_USER_TEXT_EN = 'GUEST_USER_TEXT_EN';
        this.GUEST_USER_TEXT_ES = 'GUEST_USER_TEXT_ES';
        this.ENROLMENT_URL_EN = 'ENROLMENT_URL_EN';
        this.ENROLMENT_URL_ES = 'ENROLMENT_URL_ES';
        this.FORGOT_PASSWORD_URL_EN = 'FORGOT_PASSWORD_URL_EN';
        this.FORGOT_PASSWORD_URL_ES = 'FORGOT_PASSWORD_URL_ES';
        this.REGISTRATION_URL_EN = 'REGISTRATION_URL_EN';
        this.REGISTRATION_URL_ES = 'REGISTRATION_URL_ES';
        this.TERMS_CONDITIONS_URL_EN = 'TERMS_CONDITIONS_URL_EN';
        this.TERMS_CONDITIONS_URL_ES = 'TERMS_CONDITIONS_URL_ES';
        this.PRIVACY_POLICY_URL_EN = 'PRIVACY_POLICY_URL_EN';
        this.PRIVACY_POLICY_URL_ES = 'PRIVACY_POLICY_URL_ES';
        this.OFFLINE_MSG_EN = 'OFFLINE_LOGIN_MESSAGE_EN';
        this.OFFLINE_MSG_ES = 'OFFLINE_LOGIN_MESSAGE_ES';
        this.CONTACT_URL_EN = 'CONTAC_EN';
        this.CONTACT_URL_ES = 'CONTACT_ES';
        this.LANGUAGE_CODES = 'LANGUAGES';
        this.VC_HIDE_EXPIRY_DATE = 'VC_HIDE_EXPIRY_DATE';
        this.APP_BACKGROUND_IMAGE_URL = 'APP_BACKGROUND_IMAGE_URL';
        this.LOGIN_CARD_IMAGE_URL = 'LOGIN_CARD_IMAGE_URL';
        this.SHOW_VC_EXPIRY = 'SHOW_VC_EXPIRY';
        this.FORCE_UPDATE = 'FORCE_UPDATE';
        this.ANDROID_VERSION = 'ANDROID_VERSION';
        this.IOS_VERSION = 'IOS_VERSION';
        this.UPDATE_MSG_EN = 'UPDATE_MSG_EN';
        this.UPDATE_MSG_ES = 'UPDATE_MSG_ES';
        //Service Names
        this.SERVICE_CONTEXT_NAME_ACCOUNT = 'account';
        this.SERVICE_CONTEXT_NAME_GOAL = 'goal';
        this.SERVICE_CONTEXT_NAME_WALLET = 'wallet';
        this.SERVICE_CONTEXT_NAME_OFFER = 'offer';
        this.SERVICE_CONTEXT_NAME_PARTNER = 'partner';
        this.SERVICE_CONTEXT_NAME_COMMON = 'common';
        this.SERVICE_CONTEXT_NAME_FAVOURITES = 'favourites';
        this.SERVICE_CONTEXT_NAME_DEVICE = 'device';
        this.SERVICE_CONTEXT_NAME_LOV_ITEM = 'lovItem';
        this.SERVICE_CONTEXT_NAME_LOCATION_NOTIFICATION = 'locationNotification';
        this.SERVICE_CONTEXT_NAME_VOUCHER = 'voucher';
        this.ACCOUNT_SERVICE_NAME_LOGIN = 'login';
        this.ACCOUNT_SERVICE_NAME_GET_PROFILE = 'getProfile';
        this.ACCOUNT_SERVICE_NAME_CREATE_PROFILE = 'createProfile';
        this.ACCOUNT_SERVICE_NAME_EDIT_PROFILE = 'editProfile';
        this.ACCOUNT_SERVICE_NAME_CHANGE_PASSWORD = 'changePassword';
        this.ACCOUNT_SERVICE_NAME_GET_MEMBER_SECURITY_QUESTION = 'getMemberSecurityQuestion';
        this.ACCOUNT_SERVICE_NAME_VERIFY_MEMBER_SECURITY_QUESTION = 'verifyMemberSecurityQuestion';
        this.ACCOUNT_SERVICE_NAME_CREATE_MEMBER_SECURITY_QUESTION = 'createMemberSecurityQuestion';
        this.ACCOUNT_SERVICE_NAME_EDIT_MEMBER_SECURITY_QUESTION = 'editMemberSecurityQuestion';
        this.ACCOUNT_SERVICE_NAME_GET_MEMBER_ADDRESS = 'getMemberAddress';
        this.ACCOUNT_SERVICE_NAME_GET_TNC_CONSENT = 'getTncConsent';
        this.ACCOUNT_SERVICE_NAME_POST_TNC_CONSENT = 'postTncConsent';
        this.ACCOUNT_SERVICE_NAME_TRANSACTION = 'transactions';
        this.ACCOUNT_SERVICE_NAME_PASSWORD_HINTS = 'passwordHints';
        this.GOAL_SERVICE_NAME_MY_TARGETS = 'myTargets';
        this.GOAL_SERVICE_SET_TARGET = 'setOfferBasedTarget';
        this.GOAL_SERVICE_DELETE_TARGET = 'deleteTarget';
        this.WALLET_SERVICE_NAME_VIRTUAL_CARD = 'virtualCard';
        this.WALLET_SERVICE_NAME_QR_CODE = 'qrCode';
        this.OFFER_SERVICE_NAME_OFFER_LIST = 'offerlist';
        this.OFFER_SERVICE_NAME_GALLERIES = 'offerGalleries';
        this.OFFER_SERVICE_NAME_PARTNER_LOCATIONS = 'offerpartnerlocations';
        this.PARTNER_SERVICE_NAME_NEARBY_PARTNERS = 'nearByPartners';
        this.PARTNER_SERVICE_NAME_FEATURED_PARTNERS = 'featuredPartners';
        this.PARTNER_LOCATION_SERVICE_NAME_CHECK_IN = 'checkIn';
        this.SERVICE_NAME_VOUCHERS = 'VoucherForRedemption';
        this.SERVICE_NAME_MYVOUCHER = 'myvoucher';
        this.SERVICE_NAME_REDEEM_VOUCHER = 'REDEEM_VOUCHER';
        this.COMMON_SERVICE_NAME_APP_MENU = 'appMenu';
        this.COMMON_SERVICE_NAME_APP_CONFIG = 'appConfig';
        this.COMMON_SERVICE_NAME_INDUSTRY_TYPES = 'industryTypes';
        this.COMMON_SERVICE_NAME_MESSAGE_CONTENT = 'messageContent';
        this.COMMON_SERVICE_NAME_SYSTEM_QUERY = 'systemQuery';
        this.FAVOURITES_SERVICE_NAME_LOCATIONS = 'favLocations';
        this.FAVOURITES_SERVICE_NAME_SET_OFFERS = 'setOffersAsFav';
        this.FAVOURITES_SERVICE_NAME_SET_LOCATION = 'setLocationAsFav';
        this.DEVICE_SERVICE_NAME_REGISTER = 'registerDevice';
        this.LOV_ITEM_SERVICE_NAME_SECURITY_QUESTIONS = 'getSecurityQuestions';
        this.LOV_ITEM_SERVICE_NAME_COUNTRY = 'getCountryLov';
        this.LOV_ITEM_SERVICE_NAME_STATE = 'getStateLov';
        this.LOV_ITEM_SERVICE_NAME_CITY = 'getCityLov';
        this.LOV_ITEM_SERVICE_NAME_NAME_SUFFIX = 'getNameSuffixLov';
        this.LOCATION_NOTIFICATION_SERVICE_NAME_GET = 'getLocationNotification';
        //Notification Codes
        this.NOTIF_CODE_SYNC_OFFER = 'SYNC_OFFER';
        this.NOTIF_CODE_SYNC_PTNR = 'SYNC_PTNR';
        this.NOTIF_CODE_SYNC_PTNR_LOC = 'SYNC_PTNR_LOC';
        this.NOTIF_CODE_SYNC_CONF_PARAM = 'SYNC_CONF_PARAM';
        this.NOTIF_CODE_SYNC_LOC_NOT = 'SYNC_LOC_NOT';
        this.NOTIF_CODE_SYNC_MENU = 'SYNC_MENU';
        this.NOTIF_CODE_SYNC_TARGET = 'SYNC_TRGT';
        this.NOTIF_CODE_SYNC_PROFILE = 'SYNC_PROFILE';
        this.NOTIF_CODE_SYNC_TERMS = 'SYNC_TERMS';
        //Message Requests
        this.SHR_TRGT_EN = 'SHR_TRGT_EN';
        this.SHR_TRGT_ES = 'SHR_TRGT_ES';
        this.SHR_CHKIN_EN = 'SHR_CHKIN_EN';
        this.SHR_CHKIN_ES = 'SHR_CHKIN_ES';
        this.TERMS_N_COND_EN = 'TERMS_N_COND_EN';
        this.TERMS_N_COND_ES = 'TERMS_N_COND_ES';
        this.TERMS_CONTENT_TYPE_TC = 'TC';
        this.TERMS_CONTENT_TYPE_H = 'H';
        this.TERMS_CONTENT_TYPE_U = 'U';
        //Local Notification
        this.LOC_NOTIF_LANG_ID_EN = 21;
        this.LOC_NOTIF_LANG_ID_ES = 194;
        //System Query Code
        this.SYSTEM_QUERY_CP_CHAT = 'CPCHAT';
        this.SYSTEM_QUERY_QR_CODE = 'QRCODE';
    }
    return ServiceConstants;
}());
ServiceConstants = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [])
], ServiceConstants);

//# sourceMappingURL=service.constants.js.map

/***/ }),

/***/ 806:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RoundProgress; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__round_progress_component__ = __webpack_require__(807);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__round_progress_service__ = __webpack_require__(464);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__round_progress_ease__ = __webpack_require__(465);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var RoundProgress = (function () {
    function RoundProgress() {
    }
    return RoundProgress;
}());
RoundProgress = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Q" /* NgModule */])({
        declarations: [__WEBPACK_IMPORTED_MODULE_1__round_progress_component__["a" /* RoundProgressComponent */]],
        exports: [__WEBPACK_IMPORTED_MODULE_1__round_progress_component__["a" /* RoundProgressComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_2__round_progress_service__["a" /* RoundProgressService */], __WEBPACK_IMPORTED_MODULE_3__round_progress_ease__["a" /* RoundProgressEase */]]
    }),
    __metadata("design:paramtypes", [])
], RoundProgress);

;
//# sourceMappingURL=round-progress.js.map

/***/ }),

/***/ 807:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RoundProgressComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__round_progress_service__ = __webpack_require__(464);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__round_progress_ease__ = __webpack_require__(465);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



// TODO:
// - look into ngStyle for the inline styles
// - default config values
// - look into different change detection strategy to reduce DOM manipulations. currently they
// happen for each frame of the animation.
var RoundProgressComponent = (function () {
    function RoundProgressComponent(_service, _easingFunctions, _ngZone, _element) {
        this._service = _service;
        this._easingFunctions = _easingFunctions;
        this._ngZone = _ngZone;
        this._element = _element;
        this._lastAnimationId = 0;
        this.animation = 'easeOutCubic';
        this.color = '#ffffff';
        this.background = 'rgba(247, 247, 247, 0.2)';
        this.responsive = false;
        this.clockwise = true;
    }
    Object.defineProperty(RoundProgressComponent.prototype, "_diameter", {
        get: function () {
            return this.radius * 2;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Animates a change in the current value.
     */
    RoundProgressComponent.prototype._animateChange = function (from, to) {
        if (typeof from !== 'number') {
            from = 0;
        }
        to = this._clamp(to);
        from = this._clamp(from);
        var self = this;
        var changeInValue = to - from;
        var duration = self.duration;
        var ease = self._easingFunctions[self.animation];
        var startTime = self._service.getTimestamp();
        var id = ++self._lastAnimationId;
        // Avoid firing change detection for each of the animation frames.
        self._ngZone.runOutsideAngular(function () {
            requestAnimationFrame(function animation() {
                var currentTime = Math.min(self._service.getTimestamp() - startTime, duration);
                self._setPath(ease(currentTime, from, changeInValue, duration));
                if (id === self._lastAnimationId && currentTime < duration) {
                    requestAnimationFrame(animation);
                }
            });
        });
    };
    /**
     * Sets the path dimensions.
     */
    RoundProgressComponent.prototype._setPath = function (value) {
        if (!this._path) {
            this._path = this._element.nativeElement.querySelector('path');
        }
        this._path.setAttribute('d', this._service.getArc(value, this.max, this.radius - this.stroke / 2, this.radius));
    };
    /**
     * Clamps a value between the maximum and 0.
     */
    RoundProgressComponent.prototype._clamp = function (value) {
        return Math.max(0, Math.min(value || 0, this.max));
    };
    /**
     * Determines the SVG transforms for the <path> node.
     */
    RoundProgressComponent.prototype.getPathTransform = function () {
        if (!this.clockwise) {
            return "scale(-1, 1) translate(-" + this._diameter + " 0)";
        }
    };
    RoundProgressComponent.prototype.ngOnChanges = function (changes) {
        if (changes.current) {
            this._animateChange(changes.current.previousValue, changes.current.currentValue);
        }
        else {
            this._setPath(this.current);
        }
    };
    return RoundProgressComponent;
}());
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Number)
], RoundProgressComponent.prototype, "current", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Number)
], RoundProgressComponent.prototype, "radius", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Number)
], RoundProgressComponent.prototype, "max", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", String)
], RoundProgressComponent.prototype, "animation", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Number)
], RoundProgressComponent.prototype, "duration", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Number)
], RoundProgressComponent.prototype, "stroke", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", String)
], RoundProgressComponent.prototype, "color", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", String)
], RoundProgressComponent.prototype, "background", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Boolean)
], RoundProgressComponent.prototype, "responsive", void 0);
__decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["K" /* Input */])(),
    __metadata("design:type", Boolean)
], RoundProgressComponent.prototype, "clockwise", void 0);
RoundProgressComponent = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["u" /* Component */])({
        selector: 'round-progress',
        template: "\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      [attr.viewBox]=\"'0 0 ' + _diameter + ' ' + _diameter\">\n\n      <circle\n        fill=\"none\"\n        [attr.cx]=\"radius\"\n        [attr.cy]=\"radius\"\n        [attr.r]=\"radius - stroke / 2\"\n        [style.stroke]=\"_service.resolveColor(background)\"\n        [style.stroke-width]=\"stroke\"/>\n\n      <path\n        fill=\"none\"\n        [attr.stroke]=\"_service.resolveColor(color)\"\n        [attr.stroke-width]=\"stroke\"\n        [attr.transform]=\"getPathTransform()\"/>\n    </svg>\n  ",
        host: {
            role: 'progressbar',
            '[attr.aria-valuemin]': 'current',
            '[attr.aria-valuemax]': 'max',
            '[style.width]': "responsive ? '' : _diameter + 'px'",
            '[style.height]': "responsive ? '' : _diameter + 'px'",
            '[class.responsive]': 'responsive'
        },
        styles: [
            ":host {\n      display: block;\n      position: relative;\n    }",
            "svg {\n      overflow: hidden;\n    }",
            ":host.responsive {\n      width: 100%;\n      padding-bottom: 100%;\n    }",
            ":host.responsive > svg {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n    }"
        ]
    }),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__round_progress_service__["a" /* RoundProgressService */],
        __WEBPACK_IMPORTED_MODULE_2__round_progress_ease__["a" /* RoundProgressEase */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["T" /* NgZone */],
        __WEBPACK_IMPORTED_MODULE_0__angular_core__["B" /* ElementRef */]])
], RoundProgressComponent);

//# sourceMappingURL=round-progress.component.js.map

/***/ }),

/***/ 808:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = MyTranslateLoader;
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_ng2_translate__ = __webpack_require__(11);
/**
 * Created by anjum on 03/01/17.
 */

function MyTranslateLoader(http) {
    return new __WEBPACK_IMPORTED_MODULE_0_ng2_translate__["d" /* TranslateStaticLoader */](http, 'assets/i18n', '.json');
}
//# sourceMappingURL=translate.service.js.map

/***/ }),

/***/ 9:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClientUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ng2_translate__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__globalization_utils__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_commons_safari_view_controller_service__ = __webpack_require__(508);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_commons_in_app_browser_service__ = __webpack_require__(509);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_commons_file_service__ = __webpack_require__(143);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by C00121 on 13/12/2016.
 */










var ClientUtils = (function () {
    function ClientUtils(alertCtrl, toastCtrl, platform, translate, safariViewService, inAppBrowserService, fileService, appConstants, globalizationUtils, sessionUtils) {
        this.alertCtrl = alertCtrl;
        this.toastCtrl = toastCtrl;
        this.platform = platform;
        this.translate = translate;
        this.safariViewService = safariViewService;
        this.inAppBrowserService = inAppBrowserService;
        this.fileService = fileService;
        this.appConstants = appConstants;
        this.globalizationUtils = globalizationUtils;
        this.sessionUtils = sessionUtils;
    }
    ClientUtils.prototype.showAlert = function (message, title, //OPTIONAL
        cancelButton, //OPTIONAL
        otherButtons, //OPTIONAL
        callback //OPTIONAL
    ) {
        var titleText = title ? title : '';
        var cancelText = cancelButton ? cancelButton : this.translate.instant('OK');
        var alert = this.alertCtrl.create({
            title: titleText,
            message: message,
            buttons: [{
                    text: cancelText,
                    role: 'cancel',
                    handler: function () {
                        // console.log('Cancel clicked');
                        if (callback) {
                            callback(cancelText);
                        }
                    }
                }]
        });
        if (otherButtons && (otherButtons.length > 0)) {
            var _loop_1 = function (index) {
                var buttonText = otherButtons[index];
                var button = {
                    text: buttonText,
                    handler: function () {
                        // console.log(buttonText + ' clicked');
                        if (callback) {
                            callback(buttonText);
                        }
                    }
                };
                alert.addButton(button);
            };
            for (var index = 0; index < otherButtons.length; index++) {
                _loop_1(index);
            }
        }
        alert.present();
    };
    ClientUtils.prototype.showToast = function (message, duration, //OPTIONAL
        dismissOnPageChange, //OPTIONAL
        showCloseButton, //OPTIONAL
        closeButtonText, //OPTIONAL
        position, //OPTIONAL
        callback //OPTIONAL
    ) {
        var delay = duration ? duration : 3000;
        var shouldDismiss = dismissOnPageChange ? dismissOnPageChange : false;
        var showButton = showCloseButton ? showCloseButton : false;
        var buttonText = closeButtonText ? closeButtonText : this.translate.instant('OK');
        var positionText = position ? position : 'bottom';
        var toast = this.toastCtrl.create({
            message: message,
            duration: delay,
            dismissOnPageChange: shouldDismiss,
            showCloseButton: showButton,
            closeButtonText: buttonText,
            position: positionText
        });
        toast.onDidDismiss(function () {
            if (callback) {
                callback();
            }
        });
        toast.present();
    };
    ClientUtils.prototype.openMapURL = function (urlQuery) {
        var url = '';
        if (this.platform.is('android')) {
            url = "geo:?z=11&q=" + urlQuery;
        }
        else {
            url = "https://maps.google.com/?z=11&q=" + urlQuery;
        }
        this.openExternalWebURL(url);
    };
    ClientUtils.prototype.openWebURL = function (url) {
        var _this = this;
        if (!this.isNullOrEmpty(url)) {
            this.safariViewService.isAvailable(function (available) {
                if (available) {
                    var options = new __WEBPACK_IMPORTED_MODULE_6__services_commons_safari_view_controller_service__["a" /* SafariViewControllerOptions */]();
                    options.url = url;
                    options.hidden = false;
                    options.animated = true;
                    options.transition = 'curl';
                    options.enterReaderModeIfAvailable = false;
                    options.tintColor = '#ff0000';
                    _this.safariViewService.show(options, function (result) {
                        // if (result.event === 'opened') console.log('Opened');
                        // else if (result.event === 'loaded') console.log('Loaded');
                        // else if (result.event === 'closed') console.log('Closed');
                    }, function (error) {
                        console.error(error);
                    });
                }
                else {
                    _this.openURL(url);
                }
            });
        }
    };
    ClientUtils.prototype.openURL = function (url) {
        if (!this.isNullOrEmpty(url)) {
            this.inAppBrowserService.show(url);
        }
    };
    ClientUtils.prototype.openExternalWebURL = function (url) {
        if (!this.isNullOrEmpty(url)) {
            window.open(url, "_system", "location=true");
        }
    };
    ClientUtils.prototype.waitRendered = function (element) {
        return new Promise(function (resolve) {
            var checkNextFrame = function () {
                requestAnimationFrame(function () {
                    if (element.clientWidth)
                        resolve(element);
                    else
                        checkNextFrame();
                });
            };
            checkNextFrame();
        });
    };
    ClientUtils.prototype.createTempFile = function (fileData, fileName, callback) {
        var _this = this;
        if (fileData && !this.isNullOrEmpty(fileName)) {
            this.fileService.writeFile(fileData, fileName, true, function (success) {
                if (success == true) {
                    _this.fileService.checkFile(fileName, true, false, function (fileEntry) {
                        if (fileEntry.isFile == true) {
                            if (callback) {
                                callback(fileEntry.toURL());
                            }
                        }
                        else {
                            if (callback) {
                                callback(null);
                            }
                        }
                    }, function (error) {
                        if (callback) {
                            callback(null);
                        }
                    });
                }
                else {
                    if (callback) {
                        callback(null);
                    }
                }
            });
        }
        else {
            if (callback) {
                callback(null);
            }
        }
    };
    ClientUtils.prototype.fullMonths = function () {
        var langCode = this.globalizationUtils.getAppLanguage();
        if (langCode === this.globalizationUtils.DEVICE_LANGUAGE_ES_ES) {
            return ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',
                'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];
        }
        return ['January', 'February', 'March', 'April', 'May', 'June',
            'July', 'August', 'September', 'October', 'November', 'December'];
    };
    /**
     * Return formatted date string
     * @param pattern
     * @param dateString
     * @param locale
     * @returns {any}
     */
    ClientUtils.prototype.getFormattedDate = function (pattern, dateString, locale) {
        if (!this.isNullOrEmpty(pattern)) {
            var date = new Date();
            if (!this.isNullOrEmpty(dateString)) {
                date = new Date(dateString);
            }
            var loc = this.globalizationUtils.getAppLanguage();
            if (!this.isNullOrEmpty(locale)) {
                loc = locale;
            }
            var datePipe = new __WEBPACK_IMPORTED_MODULE_3__angular_common__["c" /* DatePipe */](loc);
            return datePipe.transform(date, pattern);
        }
        return '';
    };
    /**
     * Return date difference in seconds
     * @param date1String
     * @param date2String
     * @returns {number}
     */
    ClientUtils.prototype.getDateTimeDiff = function (date1String, date2String) {
        if (!this.isNullOrEmpty(date1String)) {
            var date2 = new Date();
            if (!this.isNullOrEmpty(date2String)) {
                date2 = new Date(date2String);
            }
            var date1 = new Date(date1String);
            return (date1.getTime() - date2.getTime()) / 1000;
        }
        return 0;
    };
    /**
     * Returns string after replaced keywords
     * @param text
     * @param keywords
     * @param values
     * @returns {string}
     */
    ClientUtils.prototype.replaceKeywordsWithValues = function (text, keywords, values) {
        var replacedTexts = text;
        if (!this.isNullOrEmpty(replacedTexts) && keywords && values && (keywords.length == values.length)) {
            for (var index = 0; index < keywords.length; index++) {
                replacedTexts = replacedTexts.replace(keywords[index], values[index]);
            }
        }
        return replacedTexts;
    };
    /**
     * Return true if passed object is undefined or null
     * @param str
     * @returns {boolean}
     */
    ClientUtils.prototype.isNullOrEmpty = function (str) {
        var retVal = false;
        if (!str
            || str == null
            || str === 'null'
            || str === ''
            || str === '{}'
            || str === 'undefined'
            || str.length === 0) {
            retVal = true;
        }
        return retVal;
    };
    /**
     * Return true if email address is valid
     * @param str
     * @returns {boolean}
     */
    ClientUtils.prototype.isValidEmailAddress = function (str) {
        if (this.isNullOrEmpty(str)) {
            return false;
        }
        var atpos = str.trim().indexOf("@");
        var dotpos = str.trim().lastIndexOf(".");
        if ((atpos < 1) || (dotpos < (atpos + 2)) || ((dotpos + 2) >= str.trim().length)) {
            return false;
        }
        return true;
    };
    /**
     * Return Tenant Code
     * @returns {string}
     */
    ClientUtils.prototype.getTenantCode = function () {
        var retStr = '';
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            retStr = defaultConfiguraiton.tenantCode;
        }
        return retStr;
    };
    /**
     * Return Tenant Code
     * @returns {string}
     */
    ClientUtils.prototype.getEnvironmentType = function () {
        var retStr = '';
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            retStr = defaultConfiguraiton.environmentType;
        }
        return retStr;
    };
    /**
     * Return base URL for the application
     * @returns {string}
     */
    ClientUtils.prototype.getBaseURL = function () {
        var value = '';
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            value = defaultConfiguraiton.hostURL;
        }
        return value;
    };
    /**
     * Return web API key
     * @returns {string}
     */
    ClientUtils.prototype.getWebApiKey = function () {
        var value = '';
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            value = defaultConfiguraiton.webApiKey;
        }
        return value;
    };
    /**
     * Returns true if analytics is enabled
     * @returns {boolean}
     */
    ClientUtils.prototype.isAnalyticsEnabled = function () {
        var value = false;
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            var isEnabled = defaultConfiguraiton.analyticsTrackEnabled;
            if (isEnabled === true) {
                value = true;
            }
        }
        return value;
    };
    /**
     * Return default longitude
     * @returns {string}
     */
    ClientUtils.prototype.defaultLongitude = function () {
        var value;
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            value = defaultConfiguraiton.defaultLocationLongitude;
        }
        return value;
    };
    /**
     * Return default latitude
     * @returns {string}
     */
    ClientUtils.prototype.defaultLatitude = function () {
        var value;
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            value = defaultConfiguraiton.defaultLocationLatitude;
        }
        return value;
    };
    /**
     * Return google analytics tracking id
     * @returns {string}
     */
    ClientUtils.prototype.getGoogleAnalyticsTrackingId = function () {
        var value = '';
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            value = defaultConfiguraiton.googleAnalyticsTrackID;
        }
        return value;
    };
    /**
     * Returns true if dedug mode is enabled
     * @returns {boolean}
     */
    ClientUtils.prototype.isDebugMode = function () {
        var value = false;
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            var isEnabled = defaultConfiguraiton.debugMode;
            if (isEnabled === true) {
                value = true;
            }
        }
        return value;
    };
    /**
     * Return rate the app URL
     * @returns {string}
     */
    ClientUtils.prototype.getRateTheAppURL = function () {
        var value = '';
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            if (this.platform.is('android')) {
                value = defaultConfiguraiton.rateTheAppAndroidURL;
            }
            else if (this.platform.is('ios')) {
                value = defaultConfiguraiton.rateTheAppIOSURL;
            }
        }
        return value;
    };
    /**
     * Return booking app URL
     * @returns {string}
     */
    ClientUtils.prototype.getBookingAppURL = function () {
        var value = '';
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            if (this.platform.is('android')) {
                value = defaultConfiguraiton.bookingAppAndroidURL;
            }
            else if (this.platform.is('ios')) {
                value = defaultConfiguraiton.bookingAppIOSURL;
            }
        }
        return value;
    };
    /**
     * Return app display name
     * @returns {string}
     */
    ClientUtils.prototype.getAppDisplayName = function () {
        var value = '';
        var defaultConfiguraiton = this.sessionUtils.getRootContext().defaultConfiguration;
        if (!this.isNullOrEmpty(defaultConfiguraiton)) {
            value = defaultConfiguraiton.appDisplayName;
        }
        return value;
    };
    /**
     * Returns true if Check-in feature will be hidden
     * @returns {boolean}
     */
    ClientUtils.prototype.shouldHideCheckin = function () {
        return ((this.getTenantCode() === this.appConstants.APP_TENANT_CODE_AM) ||
            (this.getTenantCode() === this.appConstants.APP_TENANT_CODE_PR));
    };
    /**
     * Returns true if Avatar icon will be hidden
     * @returns {boolean}
     */
    ClientUtils.prototype.shouldHideAvatar = function () {
        return (this.getTenantCode() === this.appConstants.APP_TENANT_CODE_AM);
    };
    /**
     * Returns true if Social Sharing feature will be hidden
     * @returns {boolean}
     */
    ClientUtils.prototype.shouldHideSocialSharing = function () {
        return (this.getTenantCode() === this.appConstants.APP_TENANT_CODE_PR);
    };
    /**
     * Returns true if Enrollment feature will be shown
     * @returns {boolean}
     */
    ClientUtils.prototype.shouldShowEnrollment = function () {
        return ((this.getTenantCode() === this.appConstants.APP_TENANT_CODE_XX) ||
            (this.getTenantCode() === this.appConstants.APP_TENANT_CODE_PR));
    };
    /**
     * Returns true if Facebook Login feature will be shown
     * @returns {boolean}
     */
    ClientUtils.prototype.shouldShowFacebookLogin = function () {
        // return (this.getTenantCode() === this.appConstants.APP_TENANT_CODE_XX);
        return false;
    };
    /**
     * Returns true if app should trigger bulk sync after new version release
     * @returns {boolean}
     */
    ClientUtils.prototype.shouldBulkSyncAfterVersionRelease = function () {
        return true;
    };
    /**
     * Returns true if Miles Calculator feature will be shown
     * @returns {boolean}
     */
    ClientUtils.prototype.shouldShowMilesCalculator = function () {
        return (this.getTenantCode() === this.appConstants.APP_TENANT_CODE_XX);
    };
    return ClientUtils;
}());
ClientUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* AlertController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["t" /* ToastController */],
        __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* Platform */],
        __WEBPACK_IMPORTED_MODULE_2_ng2_translate__["c" /* TranslateService */],
        __WEBPACK_IMPORTED_MODULE_6__services_commons_safari_view_controller_service__["b" /* SafariViewService */],
        __WEBPACK_IMPORTED_MODULE_7__services_commons_in_app_browser_service__["a" /* InAppBrowserService */],
        __WEBPACK_IMPORTED_MODULE_9__services_commons_file_service__["a" /* FileService */],
        __WEBPACK_IMPORTED_MODULE_8__constants_app_constants__["a" /* AppConstants */],
        __WEBPACK_IMPORTED_MODULE_5__globalization_utils__["a" /* GlobalizationUtils */],
        __WEBPACK_IMPORTED_MODULE_4__session_utils__["a" /* SessionUtils */]])
], ClientUtils);

//# sourceMappingURL=client.utils.js.map

/***/ }),

/***/ 97:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserAddressUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__session_utils__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__client_utils__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dto_geocode_dto__ = __webpack_require__(1078);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Created by sandip on 1/15/17.
 */




var UserAddressUtils = (function () {
    function UserAddressUtils(sessionUtils, clientUtils) {
        this.sessionUtils = sessionUtils;
        this.clientUtils = clientUtils;
        this.MAX_NUM_OF_RECORDS = 11;
    }
    UserAddressUtils.prototype.getUserAddressContext = function () {
        var rootContext = this.sessionUtils.getRootContext();
        var contextObj = rootContext.geocodes;
        if (!contextObj) {
            contextObj = new Array();
        }
        return contextObj;
    };
    UserAddressUtils.prototype.saveUserAddressContext = function (contextObj) {
        var rootContext = this.sessionUtils.getRootContext();
        rootContext.geocodes = contextObj;
        this.sessionUtils.saveRootContext(rootContext);
    };
    UserAddressUtils.prototype.clearUserAddressContext = function () {
        var contextObj = new Array();
        this.saveUserAddressContext(contextObj);
    };
    UserAddressUtils.prototype.fetchAddressForLocation = function (latitude, longitude, successCallback, errorCallback) {
        var _this = this;
        Geocode.getAddressForLocation(latitude, longitude, function (result) {
            if (_this.clientUtils.isNullOrEmpty(result)) {
                if (errorCallback) {
                    errorCallback(null);
                }
            }
            else {
                var response = JSON.parse(result);
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_3__dto_geocode_dto__["a" /* GeocodeResponse */]();
                    response.results = [];
                }
                if (response.results && (response.results.length > 0)) {
                    var geocodeInfo = response.results[0];
                    _this.storeGeocodeInfo(geocodeInfo);
                    if (successCallback) {
                        successCallback(geocodeInfo);
                    }
                }
                else if (errorCallback) {
                    errorCallback(null);
                }
            }
        });
    };
    UserAddressUtils.prototype.fetchLocationsForAddress = function (searchText, successCallback, errorCallback) {
        var _this = this;
        Geocode.getLocationForAddress(searchText, function (result) {
            if (_this.clientUtils.isNullOrEmpty(result)) {
                if (errorCallback) {
                    errorCallback(null);
                }
            }
            else {
                var response = JSON.parse(result);
                if (!response) {
                    response = new __WEBPACK_IMPORTED_MODULE_3__dto_geocode_dto__["a" /* GeocodeResponse */]();
                    response.results = [];
                }
                if (response.results && (response.results.length > 0)) {
                    var geocodeInfo = response.results[0];
                    _this.storeGeocodeInfo(geocodeInfo);
                    if (successCallback) {
                        successCallback(geocodeInfo);
                    }
                }
                else if (errorCallback) {
                    errorCallback(null);
                }
            }
        });
    };
    UserAddressUtils.prototype.storeGeocodeInfo = function (geocodeInfo) {
        var geocodes = this.getUserAddressContext();
        var tempArray = [];
        tempArray.push(geocodeInfo);
        for (var index = 0; index < geocodes.length; index++) {
            if ((geocodeInfo.formatted_address != geocodes[index].formatted_address) &&
                (index < (this.MAX_NUM_OF_RECORDS - 1))) {
                tempArray.push(geocodes[index]);
            }
        }
        this.saveUserAddressContext(tempArray);
    };
    return UserAddressUtils;
}());
UserAddressUtils = __decorate([
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["I" /* Injectable */])(),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__session_utils__["a" /* SessionUtils */],
        __WEBPACK_IMPORTED_MODULE_2__client_utils__["a" /* ClientUtils */]])
], UserAddressUtils);

//# sourceMappingURL=user-address.utils.js.map

/***/ })

},[671]);
//# sourceMappingURL=main.js.map